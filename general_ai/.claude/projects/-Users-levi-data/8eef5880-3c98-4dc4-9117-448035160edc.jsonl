{"type":"file-history-snapshot","messageId":"c40aaea6-8f00-40be-9419-148431a9dd63","snapshot":{"messageId":"c40aaea6-8f00-40be-9419-148431a9dd63","trackedFileBackups":{},"timestamp":"2025-11-03T14:24:17.125Z"},"isSnapshotUpdate":false}
{"parentUuid":null,"isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":"build me a 10 step tutorial to learn about claude code"},"uuid":"c40aaea6-8f00-40be-9419-148431a9dd63","timestamp":"2025-11-03T14:24:17.119Z","thinkingMetadata":{"level":"none","disabled":true,"triggers":[]}}
{"parentUuid":"c40aaea6-8f00-40be-9419-148431a9dd63","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01FGMih8nSnACQsJLuJYNWzK","type":"message","role":"assistant","content":[{"type":"text","text":"I'll create a comprehensive 10-step tutorial to help you learn Claude Code. Let me build this as a structured markdown document."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":1859,"cache_read_input_tokens":31728,"cache_creation":{"ephemeral_5m_input_tokens":1859,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard"}},"requestId":"req_011CUm7EkNdjWatqdvbYPrjn","type":"assistant","uuid":"d98cb641-e549-47d6-8c7b-2288bf3eef5c","timestamp":"2025-11-03T14:24:20.532Z"}
{"parentUuid":"d98cb641-e549-47d6-8c7b-2288bf3eef5c","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01FGMih8nSnACQsJLuJYNWzK","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01K3CqHvjecoCQnciZRCHH3Z","name":"Write","input":{"file_path":"/Users/levi/data/claude-code-tutorial.md","content":"# Claude Code: 10-Step Tutorial\n\nA comprehensive guide to mastering Claude Code, Anthropic's official CLI tool for software development.\n\n---\n\n## Step 1: Understanding What Claude Code Is\n\n**Goal:** Learn the basics and capabilities\n\nClaude Code is an interactive command-line interface that connects you to Claude AI for software engineering tasks. It's designed to:\n- Write, edit, and refactor code\n- Debug and fix issues\n- Explain codebases\n- Run commands and manage files\n- Integrate with your development workflow\n\n**Try it:**\n- Ask: \"What can you help me with?\"\n- Ask: \"How do you differ from the Claude web interface?\"\n\n---\n\n## Step 2: Basic Interaction & Commands\n\n**Goal:** Learn how to communicate effectively\n\n### Key Commands\n- `/help` - Get help and documentation\n- `/clear` - Clear conversation history\n- Press `Ctrl+C` - Cancel current operation\n\n### Best Practices\n- Be specific about what you want\n- Provide context about your project\n- Ask follow-up questions for clarification\n\n**Try it:**\n```\n\"Show me the files in my current directory\"\n\"Explain what's in package.json\"\n```\n\n---\n\n## Step 3: File Operations\n\n**Goal:** Master reading, writing, and editing files\n\nClaude Code can:\n- **Read files:** \"Show me the contents of src/index.ts\"\n- **Edit files:** \"Update the function in app.js to handle errors\"\n- **Create files:** \"Create a new component called UserProfile.tsx\"\n- **Search files:** \"Find all files that import React\"\n\n**Try it:**\n1. Ask Claude to read a file in your project\n2. Request a specific edit\n3. Create a new file with some starter code\n\n**Pro tip:** Claude prefers editing existing files over creating new ones unless necessary.\n\n---\n\n## Step 4: Code Understanding & Explanation\n\n**Goal:** Use Claude to understand your codebase\n\nClaude Code excels at:\n- Explaining complex code\n- Tracing function calls\n- Identifying patterns and architecture\n- Finding where specific functionality lives\n\n**Try it:**\n```\n\"Explain how authentication works in this codebase\"\n\"Where are errors handled in the client?\"\n\"What design patterns are used in this project?\"\n```\n\n**Reference format:** Claude will reference code as `file_path:line_number` for easy navigation.\n\n---\n\n## Step 5: Writing & Refactoring Code\n\n**Goal:** Build and improve code with AI assistance\n\n### Writing New Code\n- \"Create a REST API endpoint for user registration\"\n- \"Write a React component for a todo list with TypeScript\"\n\n### Refactoring\n- \"Refactor this function to be more maintainable\"\n- \"Extract this logic into a separate utility function\"\n- \"Add error handling to all async functions\"\n\n**Try it:**\n1. Ask Claude to write a new feature\n2. Request a refactoring of existing code\n3. Add tests for the new code\n\n---\n\n## Step 6: Testing & Debugging\n\n**Goal:** Write tests and fix bugs efficiently\n\n### Writing Tests\n```\n\"Write unit tests for the UserService class\"\n\"Add integration tests for the API endpoints\"\n\"Create test cases that cover edge cases\"\n```\n\n### Debugging\n```\n\"This function is returning undefined, help me debug it\"\n\"Why is my React component re-rendering constantly?\"\n\"Fix the type errors in src/utils/helpers.ts\"\n```\n\n**Try it:**\n1. Ask Claude to write tests for existing code\n2. Share an error message and ask for help\n3. Request a bug fix with test coverage\n\n---\n\n## Step 7: Git & Version Control\n\n**Goal:** Manage commits and pull requests\n\nClaude Code can help with:\n- Creating meaningful commits\n- Drafting pull request descriptions\n- Reviewing changes before committing\n\n### Committing Changes\n```\n\"Create a commit with these changes\"\n\"Review the current changes and suggest a commit message\"\n```\n\n### Pull Requests\n```\n\"Create a pull request for the new feature\"\n\"Help me write a PR description\"\n```\n\n**Important:** Claude only commits when explicitly asked and never pushes without permission.\n\n**Try it:**\n1. Make some changes to your code\n2. Ask Claude to create a commit\n3. Review the commit message style\n\n---\n\n## Step 8: Task Planning with Todo Lists\n\n**Goal:** Manage complex tasks systematically\n\nClaude Code uses todo lists for:\n- Breaking down large tasks\n- Tracking progress\n- Ensuring nothing is forgotten\n\n### How It Works\nClaude automatically creates todos for multi-step tasks and updates them in real-time.\n\n**Example flow:**\n```\nYou: \"Add user authentication with email and password\"\n\nClaude creates todos:\n1. ‚úì Research existing auth patterns\n2. ‚Üí Implement user model and database schema\n3. ‚è≥ Create registration endpoint\n4. ‚è≥ Create login endpoint\n5. ‚è≥ Add JWT token generation\n6. ‚è≥ Write tests\n```\n\n**Try it:**\nAsk for a complex feature and watch Claude break it down into manageable steps.\n\n---\n\n## Step 9: Web Research & Documentation\n\n**Goal:** Leverage Claude's web research capabilities\n\nClaude Code has access to powerful research tools:\n\n### Researching Technologies\n```\n\"Find the latest best practices for Next.js App Router\"\n\"Get code examples for using Prisma with PostgreSQL\"\n\"Search for React Server Components patterns\"\n```\n\n### Finding Documentation\n```\n\"Look up the API documentation for Stripe webhooks\"\n\"Find examples of using the OpenAI API for streaming\"\n```\n\n**Tools available:**\n- **Exa Search** for code context and examples\n- **Firecrawl** for scraping documentation\n- **Web Search** for current information\n\n**Try it:**\n1. Ask Claude to research a new library you want to use\n2. Request current best practices for a technology\n3. Find code examples for a specific API\n\n---\n\n## Step 10: Advanced Features & Customization\n\n**Goal:** Unlock advanced capabilities\n\n### Custom Commands (Slash Commands)\nCreate custom workflows in `.claude/commands/`:\n```bash\n# Example: .claude/commands/review.md\nReview the code changes for:\n- Security vulnerabilities\n- Performance issues\n- Code style consistency\n```\n\nUse with: `/review`\n\n### MCP Servers\nClaude Code supports Model Context Protocol servers for:\n- Database access\n- Custom tool integration\n- External service connections\n\n### Project Instructions (CLAUDE.md)\nCreate a `CLAUDE.md` file in your project root with:\n- Project structure overview\n- Development workflow\n- Code style guidelines\n- Common tasks and patterns\n\n**Try it:**\n1. Create a `.claude/commands/` directory\n2. Add a custom command\n3. Create a `CLAUDE.md` file for your project\n\n---\n\n## Bonus Tips & Best Practices\n\n### Communication\n- Be specific and provide context\n- Break complex tasks into smaller requests\n- Review Claude's changes before accepting them\n- Ask for explanations if something is unclear\n\n### Efficiency\n- Let Claude run multiple tools in parallel when possible\n- Use todo lists for complex tasks\n- Leverage web research for unfamiliar technologies\n\n### Safety\n- Always review code changes, especially security-related\n- Don't commit secrets or sensitive data\n- Use version control to track Claude's changes\n\n### Learning More\n- Use `/help` for in-CLI documentation\n- Visit https://docs.claude.com/claude-code for full docs\n- Report issues at https://github.com/anthropics/claude-code/issues\n\n---\n\n## Practice Project Ideas\n\n1. **Todo App:** Build a full-stack todo application\n2. **API Wrapper:** Create a TypeScript SDK for a public API\n3. **Code Refactor:** Take an old project and modernize it\n4. **Testing Suite:** Add comprehensive tests to an existing project\n5. **Documentation:** Generate documentation for an undocumented codebase\n\n---\n\n## Next Steps\n\nNow that you've completed this tutorial:\n1. ‚úì Start with simple file operations\n2. ‚úì Progress to writing and refactoring code\n3. ‚úì Use Claude for debugging and testing\n4. ‚úì Integrate into your git workflow\n5. ‚úì Explore advanced features and customization\n\n**Remember:** Claude Code is a tool to augment your development workflow. The more you use it, the more effective you'll become at collaborating with AI.\n\nHappy coding! üöÄ\n"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":1859,"cache_read_input_tokens":31728,"cache_creation":{"ephemeral_5m_input_tokens":1859,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard"}},"requestId":"req_011CUm7EkNdjWatqdvbYPrjn","type":"assistant","uuid":"f56ead67-cbcb-42e0-a3b0-f468785fb657","timestamp":"2025-11-03T14:25:03.048Z"}
{"parentUuid":"f56ead67-cbcb-42e0-a3b0-f468785fb657","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"The user doesn't want to proceed with this tool use. The tool use was rejected (eg. if it was a file edit, the new_string was NOT written to the file). STOP what you are doing and wait for the user to tell you how to proceed.","is_error":true,"tool_use_id":"toolu_01K3CqHvjecoCQnciZRCHH3Z"}]},"uuid":"5743df52-bcc2-40bd-bf97-d0fbe79a6170","timestamp":"2025-11-03T14:25:29.551Z","toolUseResult":"Error: The user doesn't want to proceed with this tool use. The tool use was rejected (eg. if it was a file edit, the new_string was NOT written to the file). STOP what you are doing and wait for the user to tell you how to proceed."}
{"parentUuid":"5743df52-bcc2-40bd-bf97-d0fbe79a6170","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":[{"type":"text","text":"[Request interrupted by user for tool use]"}]},"uuid":"de8e2213-fe7d-42e5-92df-4b78d1ce6301","timestamp":"2025-11-03T14:25:29.704Z"}
{"type":"file-history-snapshot","messageId":"c892eada-c928-46dd-a1bb-796ec0149ab6","snapshot":{"messageId":"c892eada-c928-46dd-a1bb-796ec0149ab6","trackedFileBackups":{},"timestamp":"2025-11-03T14:26:11.991Z"},"isSnapshotUpdate":false}
{"parentUuid":"de8e2213-fe7d-42e5-92df-4b78d1ce6301","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":"build me a 10 step tutorial to learn about claude code. i want to focus on basic file operations, optimal set up, and focus on agents, skills, and orhestration. I am less interested in coding per se."},"uuid":"c892eada-c928-46dd-a1bb-796ec0149ab6","timestamp":"2025-11-03T14:26:11.985Z","thinkingMetadata":{"level":"none","disabled":true,"triggers":[]}}
{"parentUuid":"c892eada-c928-46dd-a1bb-796ec0149ab6","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01UQrrfs1ZL4bpHimbUWwCGv","type":"message","role":"assistant","content":[{"type":"text","text":"I'll create a tutorial focused on file operations, setup, agents, skills, and orchestration rather than coding tasks."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":2189,"cache_read_input_tokens":33587,"cache_creation":{"ephemeral_5m_input_tokens":2189,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm7PDZyLkrbMcDwzVUou","type":"assistant","uuid":"df400c5b-7ae9-4acd-b48f-2e63ca5b025e","timestamp":"2025-11-03T14:26:15.976Z"}
{"parentUuid":"df400c5b-7ae9-4acd-b48f-2e63ca5b025e","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01UQrrfs1ZL4bpHimbUWwCGv","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_015jHJJoMMsXVXsTQmpQWfim","name":"Write","input":{"file_path":"/Users/levi/data/claude-code-orchestration-tutorial.md","content":"# Claude Code: 10-Step Tutorial for Orchestration & Automation\n\nA comprehensive guide focused on file operations, optimal setup, agents, skills, and orchestration workflows with Claude Code.\n\n---\n\n## Step 1: Understanding Claude Code's Architecture\n\n**Goal:** Learn how Claude Code orchestrates complex tasks\n\nClaude Code is more than a chat interface‚Äîit's an orchestration platform that:\n- **Delegates to specialized agents** for complex multi-step tasks\n- **Uses skills** (specialized prompts) for domain-specific workflows\n- **Coordinates tools** (file ops, web research, MCP servers) in parallel\n- **Manages state** through todo lists and task tracking\n\n**Key Concepts:**\n- **Agents:** Autonomous subprocesses that handle specific task types\n- **Skills:** Pre-built workflows for common operations\n- **MCP Servers:** External tool integrations (n8n, Firecrawl, Exa)\n- **Orchestration:** Running multiple operations in parallel\n\n**Try it:**\n```\n\"Explain the difference between you running a task vs delegating to an agent\"\n\"What skills do you have access to?\"\n```\n\n---\n\n## Step 2: Optimal Setup & Configuration\n\n**Goal:** Configure Claude Code for maximum effectiveness\n\n### Project Structure\nCreate a `.claude/` directory in your project:\n```\nyour-project/\n‚îú‚îÄ‚îÄ .claude/\n‚îÇ   ‚îú‚îÄ‚îÄ commands/          # Custom slash commands\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ example.md\n‚îÇ   ‚îî‚îÄ‚îÄ config.json        # Configuration (optional)\n‚îú‚îÄ‚îÄ CLAUDE.md              # Project instructions\n‚îî‚îÄ‚îÄ your files...\n```\n\n### CLAUDE.md - Project Instructions\nThis file tells Claude how to work with your project:\n```markdown\n# Project Guide\n\n## Overview\nWhat this project does and its purpose\n\n## Structure\nKey directories and files\n\n## Workflows\nCommon tasks and how to execute them\n\n## Tools & Integrations\nMCP servers, APIs, external services\n```\n\n### Custom Commands\nCreate `.claude/commands/yourcommand.md`:\n```markdown\n# Command: /yourcommand\nPerform a specific workflow:\n1. Step one\n2. Step two\n3. Step three\n```\n\n**Try it:**\n1. Create a `.claude/` directory\n2. Create a `CLAUDE.md` file describing your project\n3. Create a custom command for a repetitive task\n\n---\n\n## Step 3: File Operations Mastery\n\n**Goal:** Efficiently read, search, and organize files\n\n### Reading Files\nClaude can read multiple files in parallel:\n```\n\"Read package.json, tsconfig.json, and README.md\"\n```\n\n### Searching Across Files\n```\n\"Find all markdown files in the docs/ directory\"\n\"Search for TODO comments across the entire codebase\"\n\"List all files that contain 'API_KEY'\"\n```\n\n### Organizing & Batch Operations\n```\n\"Rename all .js files to .ts in the src/ directory\"\n\"Move all test files to a tests/ directory\"\n\"Create a directory structure for a new feature module\"\n```\n\n### File Patterns (Glob)\n```\n\"Find all TypeScript files: **/*.ts\"\n\"Find all test files: **/*.test.js\"\n\"Find all configs: **/*config*\"\n```\n\n**Try it:**\n1. Ask Claude to find all files matching a pattern\n2. Request reading multiple files in parallel\n3. Organize files into a new structure\n\n**Pro tip:** For complex searches, Claude will automatically use specialized search agents.\n\n---\n\n## Step 4: Understanding Agent Orchestration\n\n**Goal:** Learn when and how Claude delegates to agents\n\n### Available Agents\n\n**1. general-purpose**\n- Complex multi-step research tasks\n- File searches requiring multiple attempts\n- When the answer isn't immediately obvious\n\n**2. Explore Agent**\n- Codebase exploration\n- Understanding architecture\n- Finding patterns and connections\n- **Use for:** \"How does X work?\", \"Where is Y handled?\"\n\n**3. Plan Agent**\n- Planning complex implementations\n- Breaking down large tasks\n- Design decisions\n\n**4. web-researcher**\n- Current information gathering\n- Documentation scraping\n- API research\n- Finding code examples online\n\n### When Claude Uses Agents\nClaude automatically delegates when:\n- The task requires multiple search attempts\n- Deep codebase exploration is needed\n- Web research is required\n- Complex multi-step workflows\n\n**Try it:**\n```\n\"Explore how error handling works across the codebase\"\n\"Research the latest n8n workflow patterns and best practices\"\n\"Find all the places where user data is processed\"\n```\n\n**Watch for:** Claude will say \"I'm going to use the [agent-type] agent...\"\n\n---\n\n## Step 5: Skills - Pre-Built Workflows\n\n**Goal:** Leverage specialized skills for common tasks\n\n### Available Skills (Document Skills)\n- **xlsx:** Spreadsheet creation, editing, analysis\n- **docx:** Document creation, editing, tracked changes\n- **pptx:** Presentation creation and editing\n- **pdf:** PDF manipulation, extraction, form filling\n\n### Available Skills (Creative & Development)\n- **skill-creator:** Guide for creating custom skills\n- **mcp-builder:** Build MCP servers\n- **canvas-design:** Visual art creation\n- **algorithmic-art:** Generative art with p5.js\n- **webapp-testing:** Testing web applications with Playwright\n- **artifacts-builder:** Complex HTML artifacts\n\n### Available Skills (Communication & Automation)\n- **internal-comms:** Write internal communications\n- **slack-gif-creator:** Create animated GIFs for Slack\n- **theme-factory:** Style artifacts with themes\n- **brand-guidelines:** Apply brand standards\n\n### Using Skills\n```\n\"Use the xlsx skill to analyze this sales data\"\n\"Use the pdf skill to extract tables from this report\"\n\"Use the web-researcher agent to find current n8n documentation\"\n```\n\n**Try it:**\n1. List all available skills: Ask \"What skills do you have?\"\n2. Use a document skill to create or edit a file\n3. Use a creative skill to generate something\n\n---\n\n## Step 6: Web Research Orchestration\n\n**Goal:** Efficiently gather information from the web\n\n### Available Research Tools\n\n**Exa Search (via MCP)**\n- `web_search_exa`: General web search with content extraction\n- `get_code_context_exa`: Code-specific search for APIs/SDKs\n\n**Firecrawl (via MCP)**\n- `firecrawl_scrape`: Extract content from specific URLs\n- `firecrawl_search`: Search and scrape in one operation\n- `firecrawl_map`: Discover all URLs on a website\n- `firecrawl_crawl`: Comprehensive multi-page crawling\n- `firecrawl_extract`: LLM-powered structured data extraction\n\n### Research Workflows\n\n**Pattern 1: Quick Research**\n```\n\"Search the web for current best practices in n8n workflow design\"\n```\nClaude uses: `web_search_exa` or `firecrawl_search`\n\n**Pattern 2: Documentation Deep Dive**\n```\n\"Scrape the n8n documentation and summarize webhook setup\"\n```\nClaude uses: `firecrawl_scrape` or `firecrawl_map` + `firecrawl_scrape`\n\n**Pattern 3: Structured Data Extraction**\n```\n\"Extract pricing information from these competitor websites: [urls]\"\n```\nClaude uses: `firecrawl_extract` with JSON schema\n\n**Try it:**\n1. Ask Claude to research a technology you're interested in\n2. Request scraping documentation from a specific site\n3. Extract structured data from multiple web pages\n\n---\n\n## Step 7: MCP Server Integration (n8n Focus)\n\n**Goal:** Understand and use MCP servers for automation\n\n### What is MCP?\nModel Context Protocol allows Claude to interact with external services:\n- **n8n:** Workflow automation platform\n- **Firecrawl:** Web scraping and extraction\n- **Exa:** Intelligent web search\n- **Custom servers:** Build your own integrations\n\n### n8n MCP Tools Available\n\n**Node Discovery:**\n```\n\"List all n8n trigger nodes\"\n\"Search for webhook-related nodes in n8n\"\n\"Get documentation for the Slack node\"\n```\n\n**Workflow Management:**\n```\n\"List all my n8n workflows\"\n\"Create a new n8n workflow with a webhook trigger\"\n\"Validate this n8n workflow configuration\"\n```\n\n**Templates:**\n```\n\"Find n8n templates for Slack automation\"\n\"Search n8n templates for AI workflows\"\n\"Get the most popular n8n templates\"\n```\n\n### Common n8n Orchestration Patterns\n\n**Pattern 1: Discover ‚Üí Design ‚Üí Create**\n```\n1. \"Search for n8n nodes that work with Google Sheets\"\n2. \"Get documentation for the Google Sheets node\"\n3. \"Create a workflow that updates a sheet when webhook receives data\"\n```\n\n**Pattern 2: Template ‚Üí Customize ‚Üí Deploy**\n```\n1. \"Find n8n templates for email automation\"\n2. \"Get template #12345 and show me its structure\"\n3. \"Create a modified version with Slack notifications\"\n```\n\n**Try it:**\n1. Ask Claude to search for n8n nodes\n2. Request creating a simple n8n workflow\n3. Find and customize an n8n template\n\n---\n\n## Step 8: Parallel Orchestration\n\n**Goal:** Run multiple operations simultaneously\n\n### Why Parallel Execution Matters\n- Faster task completion\n- Efficient resource usage\n- Better user experience\n\n### When Claude Runs Tasks in Parallel\n\n**Automatic Parallelization:**\n```\n\"Read config.json, package.json, and README.md\"\n```\nClaude reads all three files simultaneously.\n\n**Multiple Independent Searches:**\n```\n\"Find all TODO comments and all FIXME comments\"\n```\nClaude runs both searches at once.\n\n**Research + Local Operations:**\n```\n\"Research n8n webhook best practices while organizing my docs folder\"\n```\nWeb research and file operations run in parallel.\n\n### Requesting Parallel Agent Execution\n```\n\"Run three agents in parallel:\n1. Explore how authentication works\n2. Research current JWT best practices\n3. Find all API endpoint definitions\"\n```\n\n**Important:** Explicitly say \"in parallel\" to ensure parallel execution.\n\n**Try it:**\n1. Request reading multiple files\n2. Ask for multiple independent searches\n3. Explicitly request parallel agent execution\n\n---\n\n## Step 9: Task Planning & Todo Lists\n\n**Goal:** Use todo lists for complex orchestration\n\n### How Todo Lists Work\nClaude automatically creates and manages todos for:\n- Multi-step tasks (3+ steps)\n- Complex non-trivial work\n- User-provided task lists\n\n### Todo States\n- **‚è≥ pending:** Not started yet\n- **‚Üí in_progress:** Currently working (only ONE at a time)\n- **‚úì completed:** Finished successfully\n\n### Orchestration Example\n\n**You ask:**\n```\n\"Set up a complete documentation system with:\n- Web scraping for competitor research\n- Markdown file organization\n- N8n workflow for automated updates\n- Search functionality\"\n```\n\n**Claude creates todos:**\n```\n1. ‚Üí Research web scraping tools and approaches\n2. ‚è≥ Set up directory structure for documentation\n3. ‚è≥ Create n8n workflow for web scraping\n4. ‚è≥ Organize markdown files\n5. ‚è≥ Implement search functionality\n6. ‚è≥ Test end-to-end workflow\n```\n\n### Watching the Orchestration\nAs Claude works, you'll see:\n- Todos update in real-time\n- Parallel operations when possible\n- Agents being launched for sub-tasks\n- Clear progress indicators\n\n**Try it:**\nAsk for a complex multi-step project and watch how Claude:\n1. Breaks it into todos\n2. Delegates to agents\n3. Runs parallel operations\n4. Tracks completion\n\n---\n\n## Step 10: Advanced Orchestration Patterns\n\n**Goal:** Master complex multi-agent workflows\n\n### Pattern 1: Research ‚Üí Plan ‚Üí Execute\n```\n\"I want to build an automated content pipeline using n8n\"\n\nClaude's orchestration:\n1. üîç web-researcher agent ‚Üí Find n8n content automation examples\n2. üìã Plan agent ‚Üí Design the pipeline architecture\n3. üîß general-purpose agent ‚Üí Create n8n workflow\n4. ‚úÖ Validate and test\n```\n\n### Pattern 2: Explore ‚Üí Extract ‚Üí Transform\n```\n\"Analyze competitor websites and create a comparison spreadsheet\"\n\nClaude's orchestration:\n1. üåê firecrawl_map ‚Üí Discover all competitor pages\n2. üì• firecrawl_extract (parallel) ‚Üí Extract structured data\n3. üìä xlsx skill ‚Üí Create formatted spreadsheet\n4. üìà Generate insights and summary\n```\n\n### Pattern 3: Multi-Source Intelligence Gathering\n```\n\"Create a comprehensive report on n8n best practices\"\n\nClaude's orchestration:\n1. üîç web_search_exa ‚Üí Current articles and discussions\n2. üìÑ firecrawl_scrape ‚Üí Official documentation\n3. üéØ get_code_context_exa ‚Üí Code examples and patterns\n4. üìö Explore agent ‚Üí Find local examples (if any)\n5. üìù Synthesize into structured report\n```\n\n### Pattern 4: Workflow Creation & Validation\n```\n\"Design, create, and validate an n8n workflow for Slack notifications\"\n\nClaude's orchestration:\n1. üîç Search n8n nodes and templates\n2. üìã Plan workflow structure\n3. üîß Create workflow using n8n MCP\n4. ‚úì Validate workflow configuration\n5. üß™ Suggest testing approach\n```\n\n### Creating Custom Orchestration Commands\n\nCreate `.claude/commands/research-report.md`:\n```markdown\n# Research Report Generator\n\nWhen I use /research-report [topic], you should:\n\n1. Use web-researcher agent to gather current information\n2. Use firecrawl to scrape relevant documentation\n3. Use get_code_context_exa if topic is technical\n4. Create a structured markdown report\n5. Include sources and links\n6. Save to ./reports/[topic]-[date].md\n```\n\n**Try it:**\n1. Design a custom orchestration workflow\n2. Create a slash command for it\n3. Test with a real use case\n4. Refine based on results\n\n---\n\n## Bonus: Real-World Orchestration Examples\n\n### Example 1: Documentation System Setup\n```\n\"Set up a documentation system that:\n- Scrapes n8n docs weekly\n- Organizes content by category\n- Creates searchable index\n- Stores in markdown format\"\n\nClaude orchestrates:\n- firecrawl_map ‚Üí Discover doc pages\n- n8n workflow ‚Üí Schedule weekly scraping\n- File operations ‚Üí Organize structure\n- Create search utility\n```\n\n### Example 2: Competitive Intelligence\n```\n\"Monitor competitor websites and alert me of changes\"\n\nClaude orchestrates:\n- firecrawl_crawl ‚Üí Initial scrape\n- n8n workflow ‚Üí Scheduled checks\n- firecrawl change tracking ‚Üí Detect changes\n- Slack integration ‚Üí Send alerts\n```\n\n### Example 3: Content Aggregation\n```\n\"Aggregate AI news from multiple sources daily\"\n\nClaude orchestrates:\n- web_search_exa ‚Üí Find latest AI news\n- firecrawl_search ‚Üí Scrape articles\n- xlsx skill ‚Üí Create tracking spreadsheet\n- n8n workflow ‚Üí Automate daily runs\n```\n\n---\n\n## Best Practices for Orchestration\n\n### 1. Be Explicit About Parallelization\n‚ùå \"Do task A and task B\"\n‚úÖ \"Do task A and task B in parallel\"\n\n### 2. Break Complex Tasks into Phases\n‚ùå \"Set up everything for my project\"\n‚úÖ \"First research options, then plan structure, then implement\"\n\n### 3. Leverage Agents for Their Strengths\n- **Explore:** Understanding existing systems\n- **web-researcher:** Current information\n- **general-purpose:** Multi-step execution\n\n### 4. Use Skills for Specialized Tasks\n- Document manipulation ‚Üí Document skills\n- Web scraping ‚Üí Firecrawl tools\n- Code context ‚Üí Exa code search\n\n### 5. Monitor Todo Lists\nWatch for:\n- Tasks stuck in progress\n- Unexpected delegation to agents\n- Opportunities for parallelization\n\n---\n\n## Practice Projects\n\n### Project 1: Personal Knowledge Base\nBuild an automated system that:\n- Scrapes interesting articles\n- Organizes by topic\n- Creates searchable index\n- Updates via n8n workflow\n\n### Project 2: Competitor Monitor\nCreate a monitoring system that:\n- Tracks competitor websites\n- Detects changes\n- Extracts pricing data\n- Alerts via Slack/email\n\n### Project 3: Research Assistant\nBuild a workflow that:\n- Takes a research topic\n- Gathers information from multiple sources\n- Creates structured reports\n- Maintains citation database\n\n### Project 4: Content Pipeline\nDesign an automation that:\n- Finds relevant content\n- Extracts key information\n- Transforms to your format\n- Distributes via multiple channels\n\n---\n\n## Next Steps\n\nYou now understand:\n- ‚úÖ File operations and organization\n- ‚úÖ Optimal setup with CLAUDE.md and custom commands\n- ‚úÖ Agent orchestration and delegation\n- ‚úÖ Skills for specialized workflows\n- ‚úÖ MCP server integration (n8n, Firecrawl, Exa)\n- ‚úÖ Parallel execution patterns\n- ‚úÖ Complex multi-agent orchestration\n\n### Continue Learning\n1. Experiment with custom slash commands\n2. Build a personal automation project\n3. Create multi-agent workflows\n4. Integrate external services via MCP\n5. Share your orchestration patterns\n\n### Resources\n- MCP Documentation: https://modelcontextprotocol.io\n- n8n Documentation: https://docs.n8n.io\n- Claude Code Docs: https://docs.claude.com/claude-code\n- Custom Skills Guide: Use the `skill-creator` skill\n\n---\n\n**Remember:** Claude Code is an orchestration platform. Your role is to design workflows, and Claude handles the coordination, delegation, and execution.\n\nHappy orchestrating! üéØ\n"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":2189,"cache_read_input_tokens":33587,"cache_creation":{"ephemeral_5m_input_tokens":2189,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm7PDZyLkrbMcDwzVUou","type":"assistant","uuid":"831d3573-a2c3-473d-9080-23b2bb8ef2c1","timestamp":"2025-11-03T14:27:41.956Z"}
{"type":"file-history-snapshot","messageId":"831d3573-a2c3-473d-9080-23b2bb8ef2c1","snapshot":{"messageId":"c892eada-c928-46dd-a1bb-796ec0149ab6","trackedFileBackups":{"claude-code-orchestration-tutorial.md":{"backupFileName":null,"version":1,"backupTime":"2025-11-03T14:28:09.407Z"}},"timestamp":"2025-11-03T14:26:11.991Z"},"isSnapshotUpdate":true}
{"parentUuid":"831d3573-a2c3-473d-9080-23b2bb8ef2c1","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_015jHJJoMMsXVXsTQmpQWfim","type":"tool_result","content":"File created successfully at: /Users/levi/data/claude-code-orchestration-tutorial.md"}]},"uuid":"56828a0f-c8b4-4019-9682-923f24c49200","timestamp":"2025-11-03T14:28:09.435Z","toolUseResult":{"type":"create","filePath":"/Users/levi/data/claude-code-orchestration-tutorial.md","content":"# Claude Code: 10-Step Tutorial for Orchestration & Automation\n\nA comprehensive guide focused on file operations, optimal setup, agents, skills, and orchestration workflows with Claude Code.\n\n---\n\n## Step 1: Understanding Claude Code's Architecture\n\n**Goal:** Learn how Claude Code orchestrates complex tasks\n\nClaude Code is more than a chat interface‚Äîit's an orchestration platform that:\n- **Delegates to specialized agents** for complex multi-step tasks\n- **Uses skills** (specialized prompts) for domain-specific workflows\n- **Coordinates tools** (file ops, web research, MCP servers) in parallel\n- **Manages state** through todo lists and task tracking\n\n**Key Concepts:**\n- **Agents:** Autonomous subprocesses that handle specific task types\n- **Skills:** Pre-built workflows for common operations\n- **MCP Servers:** External tool integrations (n8n, Firecrawl, Exa)\n- **Orchestration:** Running multiple operations in parallel\n\n**Try it:**\n```\n\"Explain the difference between you running a task vs delegating to an agent\"\n\"What skills do you have access to?\"\n```\n\n---\n\n## Step 2: Optimal Setup & Configuration\n\n**Goal:** Configure Claude Code for maximum effectiveness\n\n### Project Structure\nCreate a `.claude/` directory in your project:\n```\nyour-project/\n‚îú‚îÄ‚îÄ .claude/\n‚îÇ   ‚îú‚îÄ‚îÄ commands/          # Custom slash commands\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ example.md\n‚îÇ   ‚îî‚îÄ‚îÄ config.json        # Configuration (optional)\n‚îú‚îÄ‚îÄ CLAUDE.md              # Project instructions\n‚îî‚îÄ‚îÄ your files...\n```\n\n### CLAUDE.md - Project Instructions\nThis file tells Claude how to work with your project:\n```markdown\n# Project Guide\n\n## Overview\nWhat this project does and its purpose\n\n## Structure\nKey directories and files\n\n## Workflows\nCommon tasks and how to execute them\n\n## Tools & Integrations\nMCP servers, APIs, external services\n```\n\n### Custom Commands\nCreate `.claude/commands/yourcommand.md`:\n```markdown\n# Command: /yourcommand\nPerform a specific workflow:\n1. Step one\n2. Step two\n3. Step three\n```\n\n**Try it:**\n1. Create a `.claude/` directory\n2. Create a `CLAUDE.md` file describing your project\n3. Create a custom command for a repetitive task\n\n---\n\n## Step 3: File Operations Mastery\n\n**Goal:** Efficiently read, search, and organize files\n\n### Reading Files\nClaude can read multiple files in parallel:\n```\n\"Read package.json, tsconfig.json, and README.md\"\n```\n\n### Searching Across Files\n```\n\"Find all markdown files in the docs/ directory\"\n\"Search for TODO comments across the entire codebase\"\n\"List all files that contain 'API_KEY'\"\n```\n\n### Organizing & Batch Operations\n```\n\"Rename all .js files to .ts in the src/ directory\"\n\"Move all test files to a tests/ directory\"\n\"Create a directory structure for a new feature module\"\n```\n\n### File Patterns (Glob)\n```\n\"Find all TypeScript files: **/*.ts\"\n\"Find all test files: **/*.test.js\"\n\"Find all configs: **/*config*\"\n```\n\n**Try it:**\n1. Ask Claude to find all files matching a pattern\n2. Request reading multiple files in parallel\n3. Organize files into a new structure\n\n**Pro tip:** For complex searches, Claude will automatically use specialized search agents.\n\n---\n\n## Step 4: Understanding Agent Orchestration\n\n**Goal:** Learn when and how Claude delegates to agents\n\n### Available Agents\n\n**1. general-purpose**\n- Complex multi-step research tasks\n- File searches requiring multiple attempts\n- When the answer isn't immediately obvious\n\n**2. Explore Agent**\n- Codebase exploration\n- Understanding architecture\n- Finding patterns and connections\n- **Use for:** \"How does X work?\", \"Where is Y handled?\"\n\n**3. Plan Agent**\n- Planning complex implementations\n- Breaking down large tasks\n- Design decisions\n\n**4. web-researcher**\n- Current information gathering\n- Documentation scraping\n- API research\n- Finding code examples online\n\n### When Claude Uses Agents\nClaude automatically delegates when:\n- The task requires multiple search attempts\n- Deep codebase exploration is needed\n- Web research is required\n- Complex multi-step workflows\n\n**Try it:**\n```\n\"Explore how error handling works across the codebase\"\n\"Research the latest n8n workflow patterns and best practices\"\n\"Find all the places where user data is processed\"\n```\n\n**Watch for:** Claude will say \"I'm going to use the [agent-type] agent...\"\n\n---\n\n## Step 5: Skills - Pre-Built Workflows\n\n**Goal:** Leverage specialized skills for common tasks\n\n### Available Skills (Document Skills)\n- **xlsx:** Spreadsheet creation, editing, analysis\n- **docx:** Document creation, editing, tracked changes\n- **pptx:** Presentation creation and editing\n- **pdf:** PDF manipulation, extraction, form filling\n\n### Available Skills (Creative & Development)\n- **skill-creator:** Guide for creating custom skills\n- **mcp-builder:** Build MCP servers\n- **canvas-design:** Visual art creation\n- **algorithmic-art:** Generative art with p5.js\n- **webapp-testing:** Testing web applications with Playwright\n- **artifacts-builder:** Complex HTML artifacts\n\n### Available Skills (Communication & Automation)\n- **internal-comms:** Write internal communications\n- **slack-gif-creator:** Create animated GIFs for Slack\n- **theme-factory:** Style artifacts with themes\n- **brand-guidelines:** Apply brand standards\n\n### Using Skills\n```\n\"Use the xlsx skill to analyze this sales data\"\n\"Use the pdf skill to extract tables from this report\"\n\"Use the web-researcher agent to find current n8n documentation\"\n```\n\n**Try it:**\n1. List all available skills: Ask \"What skills do you have?\"\n2. Use a document skill to create or edit a file\n3. Use a creative skill to generate something\n\n---\n\n## Step 6: Web Research Orchestration\n\n**Goal:** Efficiently gather information from the web\n\n### Available Research Tools\n\n**Exa Search (via MCP)**\n- `web_search_exa`: General web search with content extraction\n- `get_code_context_exa`: Code-specific search for APIs/SDKs\n\n**Firecrawl (via MCP)**\n- `firecrawl_scrape`: Extract content from specific URLs\n- `firecrawl_search`: Search and scrape in one operation\n- `firecrawl_map`: Discover all URLs on a website\n- `firecrawl_crawl`: Comprehensive multi-page crawling\n- `firecrawl_extract`: LLM-powered structured data extraction\n\n### Research Workflows\n\n**Pattern 1: Quick Research**\n```\n\"Search the web for current best practices in n8n workflow design\"\n```\nClaude uses: `web_search_exa` or `firecrawl_search`\n\n**Pattern 2: Documentation Deep Dive**\n```\n\"Scrape the n8n documentation and summarize webhook setup\"\n```\nClaude uses: `firecrawl_scrape` or `firecrawl_map` + `firecrawl_scrape`\n\n**Pattern 3: Structured Data Extraction**\n```\n\"Extract pricing information from these competitor websites: [urls]\"\n```\nClaude uses: `firecrawl_extract` with JSON schema\n\n**Try it:**\n1. Ask Claude to research a technology you're interested in\n2. Request scraping documentation from a specific site\n3. Extract structured data from multiple web pages\n\n---\n\n## Step 7: MCP Server Integration (n8n Focus)\n\n**Goal:** Understand and use MCP servers for automation\n\n### What is MCP?\nModel Context Protocol allows Claude to interact with external services:\n- **n8n:** Workflow automation platform\n- **Firecrawl:** Web scraping and extraction\n- **Exa:** Intelligent web search\n- **Custom servers:** Build your own integrations\n\n### n8n MCP Tools Available\n\n**Node Discovery:**\n```\n\"List all n8n trigger nodes\"\n\"Search for webhook-related nodes in n8n\"\n\"Get documentation for the Slack node\"\n```\n\n**Workflow Management:**\n```\n\"List all my n8n workflows\"\n\"Create a new n8n workflow with a webhook trigger\"\n\"Validate this n8n workflow configuration\"\n```\n\n**Templates:**\n```\n\"Find n8n templates for Slack automation\"\n\"Search n8n templates for AI workflows\"\n\"Get the most popular n8n templates\"\n```\n\n### Common n8n Orchestration Patterns\n\n**Pattern 1: Discover ‚Üí Design ‚Üí Create**\n```\n1. \"Search for n8n nodes that work with Google Sheets\"\n2. \"Get documentation for the Google Sheets node\"\n3. \"Create a workflow that updates a sheet when webhook receives data\"\n```\n\n**Pattern 2: Template ‚Üí Customize ‚Üí Deploy**\n```\n1. \"Find n8n templates for email automation\"\n2. \"Get template #12345 and show me its structure\"\n3. \"Create a modified version with Slack notifications\"\n```\n\n**Try it:**\n1. Ask Claude to search for n8n nodes\n2. Request creating a simple n8n workflow\n3. Find and customize an n8n template\n\n---\n\n## Step 8: Parallel Orchestration\n\n**Goal:** Run multiple operations simultaneously\n\n### Why Parallel Execution Matters\n- Faster task completion\n- Efficient resource usage\n- Better user experience\n\n### When Claude Runs Tasks in Parallel\n\n**Automatic Parallelization:**\n```\n\"Read config.json, package.json, and README.md\"\n```\nClaude reads all three files simultaneously.\n\n**Multiple Independent Searches:**\n```\n\"Find all TODO comments and all FIXME comments\"\n```\nClaude runs both searches at once.\n\n**Research + Local Operations:**\n```\n\"Research n8n webhook best practices while organizing my docs folder\"\n```\nWeb research and file operations run in parallel.\n\n### Requesting Parallel Agent Execution\n```\n\"Run three agents in parallel:\n1. Explore how authentication works\n2. Research current JWT best practices\n3. Find all API endpoint definitions\"\n```\n\n**Important:** Explicitly say \"in parallel\" to ensure parallel execution.\n\n**Try it:**\n1. Request reading multiple files\n2. Ask for multiple independent searches\n3. Explicitly request parallel agent execution\n\n---\n\n## Step 9: Task Planning & Todo Lists\n\n**Goal:** Use todo lists for complex orchestration\n\n### How Todo Lists Work\nClaude automatically creates and manages todos for:\n- Multi-step tasks (3+ steps)\n- Complex non-trivial work\n- User-provided task lists\n\n### Todo States\n- **‚è≥ pending:** Not started yet\n- **‚Üí in_progress:** Currently working (only ONE at a time)\n- **‚úì completed:** Finished successfully\n\n### Orchestration Example\n\n**You ask:**\n```\n\"Set up a complete documentation system with:\n- Web scraping for competitor research\n- Markdown file organization\n- N8n workflow for automated updates\n- Search functionality\"\n```\n\n**Claude creates todos:**\n```\n1. ‚Üí Research web scraping tools and approaches\n2. ‚è≥ Set up directory structure for documentation\n3. ‚è≥ Create n8n workflow for web scraping\n4. ‚è≥ Organize markdown files\n5. ‚è≥ Implement search functionality\n6. ‚è≥ Test end-to-end workflow\n```\n\n### Watching the Orchestration\nAs Claude works, you'll see:\n- Todos update in real-time\n- Parallel operations when possible\n- Agents being launched for sub-tasks\n- Clear progress indicators\n\n**Try it:**\nAsk for a complex multi-step project and watch how Claude:\n1. Breaks it into todos\n2. Delegates to agents\n3. Runs parallel operations\n4. Tracks completion\n\n---\n\n## Step 10: Advanced Orchestration Patterns\n\n**Goal:** Master complex multi-agent workflows\n\n### Pattern 1: Research ‚Üí Plan ‚Üí Execute\n```\n\"I want to build an automated content pipeline using n8n\"\n\nClaude's orchestration:\n1. üîç web-researcher agent ‚Üí Find n8n content automation examples\n2. üìã Plan agent ‚Üí Design the pipeline architecture\n3. üîß general-purpose agent ‚Üí Create n8n workflow\n4. ‚úÖ Validate and test\n```\n\n### Pattern 2: Explore ‚Üí Extract ‚Üí Transform\n```\n\"Analyze competitor websites and create a comparison spreadsheet\"\n\nClaude's orchestration:\n1. üåê firecrawl_map ‚Üí Discover all competitor pages\n2. üì• firecrawl_extract (parallel) ‚Üí Extract structured data\n3. üìä xlsx skill ‚Üí Create formatted spreadsheet\n4. üìà Generate insights and summary\n```\n\n### Pattern 3: Multi-Source Intelligence Gathering\n```\n\"Create a comprehensive report on n8n best practices\"\n\nClaude's orchestration:\n1. üîç web_search_exa ‚Üí Current articles and discussions\n2. üìÑ firecrawl_scrape ‚Üí Official documentation\n3. üéØ get_code_context_exa ‚Üí Code examples and patterns\n4. üìö Explore agent ‚Üí Find local examples (if any)\n5. üìù Synthesize into structured report\n```\n\n### Pattern 4: Workflow Creation & Validation\n```\n\"Design, create, and validate an n8n workflow for Slack notifications\"\n\nClaude's orchestration:\n1. üîç Search n8n nodes and templates\n2. üìã Plan workflow structure\n3. üîß Create workflow using n8n MCP\n4. ‚úì Validate workflow configuration\n5. üß™ Suggest testing approach\n```\n\n### Creating Custom Orchestration Commands\n\nCreate `.claude/commands/research-report.md`:\n```markdown\n# Research Report Generator\n\nWhen I use /research-report [topic], you should:\n\n1. Use web-researcher agent to gather current information\n2. Use firecrawl to scrape relevant documentation\n3. Use get_code_context_exa if topic is technical\n4. Create a structured markdown report\n5. Include sources and links\n6. Save to ./reports/[topic]-[date].md\n```\n\n**Try it:**\n1. Design a custom orchestration workflow\n2. Create a slash command for it\n3. Test with a real use case\n4. Refine based on results\n\n---\n\n## Bonus: Real-World Orchestration Examples\n\n### Example 1: Documentation System Setup\n```\n\"Set up a documentation system that:\n- Scrapes n8n docs weekly\n- Organizes content by category\n- Creates searchable index\n- Stores in markdown format\"\n\nClaude orchestrates:\n- firecrawl_map ‚Üí Discover doc pages\n- n8n workflow ‚Üí Schedule weekly scraping\n- File operations ‚Üí Organize structure\n- Create search utility\n```\n\n### Example 2: Competitive Intelligence\n```\n\"Monitor competitor websites and alert me of changes\"\n\nClaude orchestrates:\n- firecrawl_crawl ‚Üí Initial scrape\n- n8n workflow ‚Üí Scheduled checks\n- firecrawl change tracking ‚Üí Detect changes\n- Slack integration ‚Üí Send alerts\n```\n\n### Example 3: Content Aggregation\n```\n\"Aggregate AI news from multiple sources daily\"\n\nClaude orchestrates:\n- web_search_exa ‚Üí Find latest AI news\n- firecrawl_search ‚Üí Scrape articles\n- xlsx skill ‚Üí Create tracking spreadsheet\n- n8n workflow ‚Üí Automate daily runs\n```\n\n---\n\n## Best Practices for Orchestration\n\n### 1. Be Explicit About Parallelization\n‚ùå \"Do task A and task B\"\n‚úÖ \"Do task A and task B in parallel\"\n\n### 2. Break Complex Tasks into Phases\n‚ùå \"Set up everything for my project\"\n‚úÖ \"First research options, then plan structure, then implement\"\n\n### 3. Leverage Agents for Their Strengths\n- **Explore:** Understanding existing systems\n- **web-researcher:** Current information\n- **general-purpose:** Multi-step execution\n\n### 4. Use Skills for Specialized Tasks\n- Document manipulation ‚Üí Document skills\n- Web scraping ‚Üí Firecrawl tools\n- Code context ‚Üí Exa code search\n\n### 5. Monitor Todo Lists\nWatch for:\n- Tasks stuck in progress\n- Unexpected delegation to agents\n- Opportunities for parallelization\n\n---\n\n## Practice Projects\n\n### Project 1: Personal Knowledge Base\nBuild an automated system that:\n- Scrapes interesting articles\n- Organizes by topic\n- Creates searchable index\n- Updates via n8n workflow\n\n### Project 2: Competitor Monitor\nCreate a monitoring system that:\n- Tracks competitor websites\n- Detects changes\n- Extracts pricing data\n- Alerts via Slack/email\n\n### Project 3: Research Assistant\nBuild a workflow that:\n- Takes a research topic\n- Gathers information from multiple sources\n- Creates structured reports\n- Maintains citation database\n\n### Project 4: Content Pipeline\nDesign an automation that:\n- Finds relevant content\n- Extracts key information\n- Transforms to your format\n- Distributes via multiple channels\n\n---\n\n## Next Steps\n\nYou now understand:\n- ‚úÖ File operations and organization\n- ‚úÖ Optimal setup with CLAUDE.md and custom commands\n- ‚úÖ Agent orchestration and delegation\n- ‚úÖ Skills for specialized workflows\n- ‚úÖ MCP server integration (n8n, Firecrawl, Exa)\n- ‚úÖ Parallel execution patterns\n- ‚úÖ Complex multi-agent orchestration\n\n### Continue Learning\n1. Experiment with custom slash commands\n2. Build a personal automation project\n3. Create multi-agent workflows\n4. Integrate external services via MCP\n5. Share your orchestration patterns\n\n### Resources\n- MCP Documentation: https://modelcontextprotocol.io\n- n8n Documentation: https://docs.n8n.io\n- Claude Code Docs: https://docs.claude.com/claude-code\n- Custom Skills Guide: Use the `skill-creator` skill\n\n---\n\n**Remember:** Claude Code is an orchestration platform. Your role is to design workflows, and Claude handles the coordination, delegation, and execution.\n\nHappy orchestrating! üéØ\n","structuredPatch":[]}}
{"parentUuid":"56828a0f-c8b4-4019-9682-923f24c49200","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_015wpsKtbz7AnYDsRCqMZv89","type":"message","role":"assistant","content":[{"type":"text","text":"Perfect! I've created a comprehensive 10-step tutorial focused on orchestration and automation with Claude Code. Here's what's included:\n\n## Tutorial Overview\n\n**Focus Areas:**\n1. **Architecture** - Understanding agents, skills, and orchestration\n2. **Optimal Setup** - CLAUDE.md, custom commands, project structure\n3. **File Operations** - Parallel reads, searching, batch operations\n4. **Agent Orchestration** - When and how Claude delegates tasks\n5. **Skills** - Pre-built workflows for documents, creative work, testing\n6. **Web Research** - Exa and Firecrawl tools for data gathering\n7. **MCP Integration** - Deep dive into n8n workflow automation\n8. **Parallel Execution** - Running multiple operations simultaneously\n9. **Todo Lists** - Task planning and progress tracking\n10. **Advanced Patterns** - Multi-agent workflows and complex orchestration\n\n**Plus:** Real-world examples, best practices, and 4 practice projects\n\nThe tutorial emphasizes *orchestration over coding*‚Äîfocusing on how to design workflows, delegate to agents, use MCP servers (especially n8n), and coordinate parallel operations efficiently.\n\nThe file is saved at: `claude-code-orchestration-tutorial.md`"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":4428,"cache_read_input_tokens":35776,"cache_creation":{"ephemeral_5m_input_tokens":4428,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm7XsoLp3wqqexSwrWuo","type":"assistant","uuid":"4402d3b6-d28a-4e5c-89ed-16ab1771109f","timestamp":"2025-11-03T14:28:17.776Z"}
{"parentUuid":"4402d3b6-d28a-4e5c-89ed-16ab1771109f","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"system","subtype":"local_command","content":"<command-name>/usage</command-name>\n            <command-message>usage</command-message>\n            <command-args></command-args>","level":"info","timestamp":"2025-11-03T14:34:47.855Z","uuid":"cd51dddf-fbe8-4f13-896b-a20fdb35564a","isMeta":false}
{"parentUuid":"cd51dddf-fbe8-4f13-896b-a20fdb35564a","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"system","subtype":"local_command","content":"<local-command-stdout>Status dialog dismissed</local-command-stdout>","level":"info","timestamp":"2025-11-03T14:34:47.855Z","uuid":"1a13dc21-d54a-4cf4-9a8f-812fc4c001da","isMeta":false}
{"type":"file-history-snapshot","messageId":"0c03f3d8-43d9-410b-a34f-2b89ff3cd9a1","snapshot":{"messageId":"0c03f3d8-43d9-410b-a34f-2b89ff3cd9a1","trackedFileBackups":{"claude-code-orchestration-tutorial.md":{"backupFileName":"6589202dfce7ef42@v2","version":2,"backupTime":"2025-11-03T14:35:11.286Z"}},"timestamp":"2025-11-03T14:35:11.279Z"},"isSnapshotUpdate":false}
{"parentUuid":"1a13dc21-d54a-4cf4-9a8f-812fc4c001da","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":"do you know how to set up claude code router"},"uuid":"0c03f3d8-43d9-410b-a34f-2b89ff3cd9a1","timestamp":"2025-11-03T14:35:11.273Z","thinkingMetadata":{"level":"none","disabled":true,"triggers":[]}}
{"parentUuid":"0c03f3d8-43d9-410b-a34f-2b89ff3cd9a1","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01M5YnysxncnLsMFg4koo85r","type":"message","role":"assistant","content":[{"type":"text","text":"I don't have specific information about \"Claude Code Router\" in my knowledge base. Let me search the Claude Code documentation to see if this is a feature or tool I should know about."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":40502,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":40502,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm84yEdUhwzN9Qd6szsL","type":"assistant","uuid":"3e1338e2-e962-4ce2-94d6-3a7808600a2a","timestamp":"2025-11-03T14:35:15.770Z"}
{"parentUuid":"3e1338e2-e962-4ce2-94d6-3a7808600a2a","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01M5YnysxncnLsMFg4koo85r","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01DZFPzxTKXPt7Sp55iccSjL","name":"WebFetch","input":{"url":"https://docs.claude.com/en/docs/claude-code/claude_code_docs_map.md","prompt":"Find any information about \"router\" or \"Claude Code Router\" - look for setup instructions, configuration, or references to routing functionality"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":40502,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":40502,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm84yEdUhwzN9Qd6szsL","type":"assistant","uuid":"e11ab064-5119-4866-8e91-d01ff14d2f6e","timestamp":"2025-11-03T14:35:17.243Z"}
{"parentUuid":"e11ab064-5119-4866-8e91-d01ff14d2f6e","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01DZFPzxTKXPt7Sp55iccSjL","type":"tool_result","content":"I've searched through the comprehensive Claude Code documentation map provided, and there is **no information about a \"router\" or \"Claude Code Router\"** in any of the listed documentation pages.\n\nThe documentation covers:\n- Getting started and quickstart guides\n- Common workflows\n- Building with Claude Code (subagents, plugins, skills)\n- Deployment options (AWS Bedrock, Google Vertex AI)\n- IDE integrations (VS Code, JetBrains)\n- Configuration and administration\n- CLI reference and slash commands\n\nNone of these sections mention routing functionality or a router component. If you're looking for information about routing within Claude Code, it may be:\n1. Part of a feature not yet documented in this map\n2. Referenced under a different name in the existing documentation\n3. Available in resources outside this documentation index\n\nI'd recommend checking the [troubleshooting](https://docs.claude.com/en/docs/claude-code/troubleshooting.md) page or the [CLI reference](https://docs.claude.com/en/docs/claude-code/cli-reference.md) for additional details, or contacting Anthropic support directly."}]},"uuid":"0d36e933-5bc9-48e7-a55d-579c649cbe2d","timestamp":"2025-11-03T14:35:21.276Z","toolUseResult":{"bytes":26734,"code":200,"codeText":"OK","result":"I've searched through the comprehensive Claude Code documentation map provided, and there is **no information about a \"router\" or \"Claude Code Router\"** in any of the listed documentation pages.\n\nThe documentation covers:\n- Getting started and quickstart guides\n- Common workflows\n- Building with Claude Code (subagents, plugins, skills)\n- Deployment options (AWS Bedrock, Google Vertex AI)\n- IDE integrations (VS Code, JetBrains)\n- Configuration and administration\n- CLI reference and slash commands\n\nNone of these sections mention routing functionality or a router component. If you're looking for information about routing within Claude Code, it may be:\n1. Part of a feature not yet documented in this map\n2. Referenced under a different name in the existing documentation\n3. Available in resources outside this documentation index\n\nI'd recommend checking the [troubleshooting](https://docs.claude.com/en/docs/claude-code/troubleshooting.md) page or the [CLI reference](https://docs.claude.com/en/docs/claude-code/cli-reference.md) for additional details, or contacting Anthropic support directly.","durationMs":3917,"url":"https://docs.claude.com/en/docs/claude-code/claude_code_docs_map.md"}}
{"parentUuid":"0d36e933-5bc9-48e7-a55d-579c649cbe2d","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01TwHhKkY8KdirYGsLf7MtSo","type":"message","role":"assistant","content":[{"type":"text","text":"I don't see any information about \"Claude Code Router\" in the official documentation. Could you provide more context about what you're trying to set up?\n\nAre you referring to:\n- **Routing between different Claude models** (Opus, Sonnet, Haiku)?\n- **Routing between different agents** within Claude Code?\n- **A third-party tool** that routes requests to Claude Code?\n- **Network routing** for self-hosted Claude Code deployments?\n- Something else?\n\nIf you have a link, documentation, or can describe what you're trying to accomplish with the router, I can help you set it up!"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":513,"cache_read_input_tokens":40502,"cache_creation":{"ephemeral_5m_input_tokens":513,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CUm85hvunhtMz124jgpZi","type":"assistant","uuid":"3de1d5af-6e67-4934-8884-b8327467f004","timestamp":"2025-11-03T14:35:27.003Z"}
{"type":"file-history-snapshot","messageId":"8dc5e29f-d83c-4465-927c-817ba0952c48","snapshot":{"messageId":"8dc5e29f-d83c-4465-927c-817ba0952c48","trackedFileBackups":{"claude-code-orchestration-tutorial.md":{"backupFileName":"6589202dfce7ef42@v2","version":2,"backupTime":"2025-11-03T14:35:11.286Z"}},"timestamp":"2025-11-03T14:36:11.372Z"},"isSnapshotUpdate":false}
{"parentUuid":"3de1d5af-6e67-4934-8884-b8327467f004","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":"look this up on github and claude code router project"},"uuid":"8dc5e29f-d83c-4465-927c-817ba0952c48","timestamp":"2025-11-03T14:36:11.366Z","thinkingMetadata":{"level":"none","disabled":true,"triggers":[]}}
{"parentUuid":"8dc5e29f-d83c-4465-927c-817ba0952c48","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_013UH3MwTrmEPJUdcsXoPEy7","type":"message","role":"assistant","content":[{"type":"text","text":"Let me search for the Claude Code Router project on GitHub."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":157,"cache_read_input_tokens":41015,"cache_creation":{"ephemeral_5m_input_tokens":157,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm89QBvJHFX9pwKK26yw","type":"assistant","uuid":"2db162ef-852b-47dc-b352-3985447726f9","timestamp":"2025-11-03T14:36:16.274Z"}
{"parentUuid":"2db162ef-852b-47dc-b352-3985447726f9","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_013UH3MwTrmEPJUdcsXoPEy7","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01BWdPLZvb6t8gHp35pUUadP","name":"mcp__firecrawl__firecrawl_search","input":{"query":"claude code router github","limit":10,"scrapeOptions":{"formats":["markdown"],"onlyMainContent":true}}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":157,"cache_read_input_tokens":41015,"cache_creation":{"ephemeral_5m_input_tokens":157,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm89QBvJHFX9pwKK26yw","type":"assistant","uuid":"8abbeb8a-9ff9-4ef5-8a34-f2efc1f0bed8","timestamp":"2025-11-03T14:36:17.018Z"}
{"parentUuid":"8abbeb8a-9ff9-4ef5-8a34-f2efc1f0bed8","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"MCP tool \"firecrawl_search\" response (132532 tokens) exceeds maximum allowed tokens (25000). Please use pagination, filtering, or limit parameters to reduce the response size.","is_error":true,"tool_use_id":"toolu_01BWdPLZvb6t8gHp35pUUadP"}]},"uuid":"0fbc92db-6c18-455b-a765-e066709cf67d","timestamp":"2025-11-03T14:36:29.482Z","toolUseResult":"Error: MCP tool \"firecrawl_search\" response (132532 tokens) exceeds maximum allowed tokens (25000). Please use pagination, filtering, or limit parameters to reduce the response size."}
{"parentUuid":"0fbc92db-6c18-455b-a765-e066709cf67d","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01ARv5bESVvTXAfk9ZajCkdp","type":"message","role":"assistant","content":[{"type":"text","text":"Let me try a more targeted search without scraping:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":277,"cache_read_input_tokens":41172,"cache_creation":{"ephemeral_5m_input_tokens":277,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm8Ajjwd7A3BPbqJc6ru","type":"assistant","uuid":"443ceea1-231a-48fd-8b5b-648f35966195","timestamp":"2025-11-03T14:36:34.325Z"}
{"parentUuid":"443ceea1-231a-48fd-8b5b-648f35966195","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01ARv5bESVvTXAfk9ZajCkdp","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Cwps8VUn5z1qRDDAgG9MaW","name":"mcp__exa__web_search_exa","input":{"query":"claude code router github anthropic","numResults":5}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":277,"cache_read_input_tokens":41172,"cache_creation":{"ephemeral_5m_input_tokens":277,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm8Ajjwd7A3BPbqJc6ru","type":"assistant","uuid":"e1a17d5b-d7a7-4a4c-b173-81b68089aaea","timestamp":"2025-11-03T14:36:34.673Z"}
{"parentUuid":"e1a17d5b-d7a7-4a4c-b173-81b68089aaea","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Cwps8VUn5z1qRDDAgG9MaW","type":"tool_result","content":[{"type":"text","text":"{\n  \"requestId\": \"a22bfdd05b32c9c9c1c1c671edeb50ee\",\n  \"resolvedSearchType\": \"neural\",\n  \"results\": [\n    {\n      \"id\": \"https://github.com/musistudio/claude-code-router\",\n      \"title\": \"musistudio/claude-code-router - GitHub\",\n      \"url\": \"https://github.com/musistudio/claude-code-router\",\n      \"publishedDate\": \"2025-02-25T02:17:18.000Z\",\n      \"author\": \"musistudio\",\n      \"text\": \"[Skip to content](https://github.com/github.com#start-of-content)\\n\\nYou signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert\\n\\n[musistudio](https://github.com/musistudio)/ **[claude-code-router](https://github.com/musistudio/claude-code-router)** Public\\n\\n- [Notifications](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router) You must be signed in to change notification settings\\n- [Fork\\\\\\n1.6k](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)\\n- [Star\\\\\\n20.8k](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)\\n\\n\\nUse Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\\n\\n### License\\n\\n[MIT license](https://github.com/musistudio/claude-code-router/blob/main/LICENSE)\\n\\n[20.8k\\\\\\nstars](https://github.com/musistudio/claude-code-router/stargazers) [1.6k\\\\\\nforks](https://github.com/musistudio/claude-code-router/forks) [Branches](https://github.com/musistudio/claude-code-router/branches) [Tags](https://github.com/musistudio/claude-code-router/tags) [Activity](https://github.com/musistudio/claude-code-router/activity)\\n\\n[Star](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)\\n\\n[Notifications](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router) You must be signed in to change notification settings\\n\\n# musistudio/claude-code-router\\n\\nmain\\n\\n[Branches](https://github.com/musistudio/claude-code-router/branches) [Tags](https://github.com/musistudio/claude-code-router/tags)\\n\\nGo to file\\n\\nCode\\n\\nOpen more actions menu\\n\\n## Folders and files\\n\\n| Name | Name | Last commit message | Last commit date |\\n| --- | --- | --- | --- |\\n| ## Latest commit ## History [295 Commits](https://github.com/musistudio/claude-code-router/commits/main/) \",\n      \"image\": \"https://opengraph.githubassets.com/7676cbd734e542b060f408a0e15c656d74a85432da87c616306a42b499d50f29/musistudio/claude-code-router\",\n      \"favicon\": \"https://github.com/fluidicon.png\"\n    },\n    {\n      \"id\": \"https://github.com/anthropics/claude-code\",\n      \"title\": \"GitHub - anthropics/claude-code\",\n      \"url\": \"https://github.com/anthropics/claude-code\",\n      \"publishedDate\": \"2025-02-22T17:41:21.000Z\",\n      \"author\": \"anthropics\",\n      \"text\": \"[Skip to content](https://github.com/github.com#start-of-content)\\n\\nYou signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert\\n\\n[anthropics](https://github.com/anthropics)/ **[claude-code](https://github.com/anthropics/claude-code)** Public\\n\\n- [Notifications](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code) You must be signed in to change notification settings\\n- [Fork\\\\\\n2.7k](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code)\\n- [Star\\\\\\n41.2k](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code)\\n\\n\\nClaude Code is an agentic coding tool that lives in your terminal, understands your codebase, and helps you code faster by executing routine tasks, explaining complex code, and handling git workflows - all through natural language commands.\\n\\n[docs.anthropic.com/s/claude-code](https://docs.anthropic.com/s/claude-code)\\n\\n[41.2k\\\\\\nstars](https://github.com/anthropics/claude-code/stargazers) [2.7k\\\\\\nforks](https://github.com/anthropics/claude-code/forks) [Branches](https://github.com/anthropics/claude-code/branches) [Tags](https://github.com/anthropics/claude-code/tags) [Activity](https://github.com/anthropics/claude-code/activity)\\n\\n[Star](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code)\\n\\n[Notifications](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code) You must be signed in to change notification settings\\n\\n# anthropics/claude-code\\n\\nmain\\n\\n[Branches](https://github.com/anthropics/claude-code/branches) [Tags](https://github.com/anthropics/claude-code/tags)\\n\\nGo to file\\n\\nCode\\n\\nOpen more actions menu\\n\\n## Folders and files\\n\\n| Name | Name | Last commit message | Last commit date |\\n| --- | --- | --- | --- |\\n| ## Latest commit ## History [317 Commits](https://github.com/anthropics/claude-code/commits/main/) |\\n| [.claude-plugin](https://github.com/ant\",\n      \"image\": \"https://opengraph.githubassets.com/32191dcb973e7b77b9d799dd04e0f9e46c10a1e45e68ebdb881e62fbe431de8e/anthropics/claude-code\",\n      \"favicon\": \"https://github.com/fluidicon.png\"\n    },\n    {\n      \"id\": \"https://www.anthropic.com/news/claude-code-on-the-web\",\n      \"title\": \"Claude Code on the web - Anthropic\",\n      \"url\": \"https://www.anthropic.com/news/claude-code-on-the-web\",\n      \"publishedDate\": \"2025-10-20T00:00:00.000Z\",\n      \"author\": \"\",\n      \"text\": \"Product\\n\\n# Claude Code on the web\\n\\nOct 20, 2025‚óè2 min read\\n\\nToday, we're introducing Claude Code on the web, a new way to delegate coding tasks directly from your browser.\\n\\nNow in beta as a research preview, you can assign multiple coding tasks to Claude that run on Anthropic-managed cloud infrastructure, perfect for tackling bug backlogs, routine fixes, or parallel development work.\\n\\n## Run coding tasks in parallel\\n\\nClaude Code on the web lets you kick off coding sessions without opening your terminal. Connect your GitHub repositories, describe what you need, and Claude handles the implementation.\\n\\nEach session runs in its own isolated environment with real-time progress tracking, and you can actively steer Claude to adjust course as it‚Äôs working through tasks.\\n\\nWith Claude Code running in the cloud, you can now **run multiple tasks in parallel** across different repositories from a single interface and **ship faster** with automatic PR creation and clear change summaries.\\n\\n## Flexible for every workflow\\n\\nThe web interface complements your existing Claude Code workflow. Running tasks in the cloud is especially effective for:\\n\\n- Answering questions about how projects work and how repositories are mapped\\n- Bugfixes and routine, well-defined tasks\\n- Backend changes, where Claude Code can use test-driven development to verify changes\\n\\nYou can also use Claude Code on mobile. As part of this research preview, we‚Äôre making Claude Code available on our iOS app so developers can explore coding with Claude on the go. It‚Äôs an early preview, and we hope to quickly refine the mobile experience based on your feedback.\\n\\n## Security-first cloud execution\\n\\nEvery Claude Code task runs in an isolated sandbox environment with network and filesystem restrictions. Git interactions are handled through a secure proxy service that ensures Claude can only access authorized repositories‚Äîhelping keep your code and credentials protected throughout the entire workflow.\\n\\nYou can also add custom \",\n      \"image\": \"https://www.anthropic.com/api/opengraph-illustration?name=Object%20CodeGlobe&backgroundColor=clay\",\n      \"favicon\": \"https://www.anthropic.com/favicon.ico\"\n    },\n    {\n      \"id\": \"https://claudecoderouter.com/\",\n      \"title\": \"Claude Code Router - Enhance Your AI Coding Workflow\",\n      \"url\": \"https://claudecoderouter.com/\",\n      \"publishedDate\": \"2025-01-01T00:00:00.000Z\",\n      \"author\": \"\",\n      \"text\": \"# Claude Code Router\\n\\nEnhance Your AI Coding Workflow with Flexible Model Routing\\n\\n## Quick Start with Claude Code Router\\n\\nFollow these simple steps to get started:\\n\\n### Installation\\n\\n```\\nnpm install -g @anthropic-ai/claude-code\\nnpm install -g @musistudio/claude-code-router\\nccr code\\n```\\n\\nView Configuration Example (Optional)\\n\\n```\\n{\\n \\\"Providers\\\": [\\n {\\n \\\"name\\\": \\\"openrouter\\\",\\n \\\"api_base_url\\\": \\\"https://openrouter.ai/api/v1/chat/completions\\\",\\n \\\"api_key\\\": \\\"sk-xxx\\\",\\n \\\"models\\\": [\\n \\\"google/gemini-2.5-pro-preview\\\",\\n \\\"anthropic/claude-sonnet-4\\\",\\n \\\"anthropic/claude-3.5-sonnet\\\",\\n \\\"anthropic/claude-3.7-sonnet:thinking\\\"\\n ],\\n \\\"transformer\\\": {\\n \\\"use\\\": [\\\"openrouter\\\"]\\n }\\n },\\n {\\n \\\"name\\\": \\\"deepseek\\\",\\n \\\"api_base_url\\\": \\\"https://api.deepseek.com/chat/completions\\\",\\n \\\"api_key\\\": \\\"sk-xxx\\\",\\n \\\"models\\\": [\\\"deepseek-chat\\\", \\\"deepseek-reasoner\\\"],\\n \\\"transformer\\\": {\\n \\\"use\\\": [\\\"deepseek\\\"],\\n \\\"deepseek-chat\\\": {\\n \\\"use\\\": [\\\"tooluse\\\"]\\n }\\n }\\n },\\n {\\n \\\"name\\\": \\\"ollama\\\",\\n \\\"api_base_url\\\": \\\"http://localhost:11434/v1/chat/completions\\\",\\n \\\"api_key\\\": \\\"ollama\\\",\\n \\\"models\\\": [\\\"qwen2.5-coder:latest\\\"]\\n },\\n {\\n \\\"name\\\": \\\"gemini\\\",\\n \\\"api_base_url\\\": \\\"https://generativelanguage.googleapis.com/v1beta/models/\\\",\\n \\\"api_key\\\": \\\"sk-xxx\\\",\\n \\\"models\\\": [\\\"gemini-2.5-flash\\\", \\\"gemini-2.5-pro\\\"],\\n \\\"transformer\\\": {\\n \\\"use\\\": [\\\"gemini\\\"]\\n }\\n },\\n {\\n \\\"name\\\": \\\"volcengine\\\",\\n \\\"api_base_url\\\": \\\"https://ark.cn-beijing.volces.com/api/v3/chat/completions\\\",\\n \\\"api_key\\\": \\\"sk-xxx\\\",\\n \\\"models\\\": [\\\"deepseek-v3-250324\\\", \\\"deepseek-r1-250528\\\"],\\n \\\"transformer\\\": {\\n \\\"use\\\": [\\\"deepseek\\\"]\\n }\\n }\\n ],\\n \\\"Router\\\": {\\n \\\"default\\\": \\\"deepseek,deepseek-chat\\\",\\n \\\"background\\\": \\\"ollama,qwen2.5-coder:latest\\\",\\n \\\"think\\\": \\\"deepseek,deepseek-reasoner\\\",\\n \\\"longContext\\\": \\\"openrouter,google/gemini-2.5-pro-preview\\\"\\n }\\n}\\n```\\n\\n## What is Claude Code Router?\\n\\n**Claude Code Router** appears to be an extension of Claude Code, a command-line tool for agentic coding developed by Anthropic. It enables users to direct coding requests to various AI models, offering more flexibility in how they interact with these m\",\n      \"favicon\": \"https://claudecoderouter.com/favicon.svg\"\n    },\n    {\n      \"id\": \"https://claude-code-router.aigcsoft.site/\",\n      \"title\": \"Claude Code RouterÔºöÁÅµÊ¥ªË∑ØÁî±AIÁºñÁ†ÅËØ∑Ê±ÇÁöÑÂ∑•ÂÖ∑\",\n      \"url\": \"https://claude-code-router.aigcsoft.site/\",\n      \"publishedDate\": \"2025-08-22T00:00:00.000Z\",\n      \"author\": \"\",\n      \"text\": \"- [È¶ñÈ°µ](https://aigcsoft.site/)\\n- [ÂÖ∂‰ªñ](https://aigcsoft.site/tool-category/others)\\n- ËØ¶ÊÉÖ\\n\\n[ËÆøÈóÆÁΩëÁ´ô](https://github.com/musistudio/claude-code-router)\\n\\nÊâ´Á†ÅÊü•Áúã\\n\\n[Â§çÂà∂ÈìæÊé•](javascript:;)\\n\\n[ÂèçÈ¶à](https://claude-code-router.aigcsoft.site/claude-code-router.aigcsoft.site#feedback_id_69084445bf39a)\\n\\n### Â∑•ÂÖ∑ÂºÇÂ∏∏ÂèçÈ¶à\\n\\nÂ¶ÇÂèëÁé∞Â∑•ÂÖ∑Êó†Ê≥ï‰ΩøÁî®ÔºåÊ¨¢ËøéÂèçÈ¶àÈóÆÈ¢òÔºåÊàë‰ª¨Â∞ÜÂèäÊó∂Â§ÑÁêÜ\\n\\nÂèçÈ¶àÁ±ªÂûã\\n\\nÈìæÊé•Â§±Êïà\\n\\nÊïèÊÑüÂÜÖÂÆπ\\n\\nÂÖ∂‰ªñ\\n\\nËØ¶ÁªÜËØ¥Êòé\\n\\nÊèê‰∫§\\n\\nÁÅµÊ¥ªË∑ØÁî±AIÁºñÁ†ÅËØ∑Ê±ÇÁöÑÂ∑•ÂÖ∑\\n\\n**Ê†áÁ≠æ**Ôºö [AI](https://aigcsoft.site/tool-tag/ai) , [Anthropic](https://aigcsoft.site/tool-tag/anthropic) , [API](https://aigcsoft.site/tool-tag/api) , [Claude](https://aigcsoft.site/tool-tag/claude) , [Claude Code](https://aigcsoft.site/tool-tag/claude-code) , [LLM](https://aigcsoft.site/tool-tag/llm) , [ÂáΩÊï∞Ë∞ÉÁî®](https://aigcsoft.site/tool-tag/function-calls) , [Ê®°ÂûãË∑ØÁî±](https://aigcsoft.site/tool-tag/model-routing)\\n\\n# Claude Code Router\\n\\n2025-08-22[ÂÖ∂‰ªñ](https://aigcsoft.site/tool-category/others)884 Ê¨°ÊµèËßà\\n\\n## ÁªºÂêà‰ªãÁªç\\n\\nClaude Code Router ÊòØ‰∏Ä‰∏™ÂäüËÉΩÂº∫Â§ßÁöÑÂºÄÊ∫êÂ∑•ÂÖ∑ÔºåÂÆÉÊûÑÂª∫‰∫é Anthropic ÁöÑ Claude Code ÁºñÁ†ÅÂü∫Á°Ä‰πã‰∏ä„ÄÇËØ•Â∑•ÂÖ∑‰∏ªË¶ÅËß£ÂÜ≥‰∫ÜÂú®‰ΩøÁî®Â§ßËØ≠Ë®ÄÊ®°ÂûãËøõË°åÁºñÁ†ÅÊó∂ÔºåÂ¶Ç‰ΩïÊ†πÊçÆ‰∏çÂêå‰ªªÂä°ÁöÑÁâπÁÇπÔºåÁÅµÊ¥ªÂú∞Â∞ÜËØ∑Ê±ÇÂèëÈÄÅÁªôÊúÄÂêàÈÄÇÁöÑÊ®°ÂûãÂ§ÑÁêÜ„ÄÇÂÆÉÈÄöËøá‰∏Ä‰∏™‰∏≠Â§ÆË∑ØÁî±Á≥ªÁªüÔºåÂÖÅËÆ∏Áî®Êà∑Êé•ÂÖ•Âπ∂ÁÆ°ÁêÜÊù•Ëá™ OpenRouter„ÄÅDeepSeek„ÄÅOllama„ÄÅGemini Á≠âÂ§ö‰∏™‰∏çÂêåÊúçÂä°ÂïÜÁöÑÊ®°Âûã„ÄÇÁî®Êà∑‰∏ç‰ªÖÂèØ‰ª•‰∏∫Â∏∏ËßÑ‰ªªÂä°„ÄÅÂêéÂè∞‰ªªÂä°„ÄÅÂ§çÊùÇÊÄùËÄÉÊàñÈïøÊñáÊú¨Â§ÑÁêÜÁ≠â‰∏çÂêåÂú∫ÊôØËÆæÂÆöÈªòËÆ§Ê®°ÂûãÔºåËøòËÉΩÂú®ÁºñÁ†ÅËøáÁ®ã‰∏≠Âä®ÊÄÅÂàáÊç¢Ê®°Âûã„ÄÇËøôÁßçËÆæËÆ°ÊûÅÂ§ßÂú∞ÊèêÂçá‰∫ÜÁÅµÊ¥ªÊÄß„ÄÅ‰ºòÂåñ‰∫ÜÊàêÊú¨ÔºåÂπ∂‰ΩøÂæóÂºÄÂèëËÄÖÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÈúÄÊ±ÇÔºåËá™Áî±ÁªÑÂêàÂíåÊâ©Â±ïÊ®°ÂûãÁöÑÂ∫îÁî®ÊñπÂºèÔºåËÄå‰∏çÂøÖÈîÅÂÆöÂú®Âçï‰∏ÄÁöÑÊúçÂä°ÊàñÊ®°Âûã‰∏ä„ÄÇ\\n\\n## ÂäüËÉΩÂàóË°®\\n\\n- **Ê®°ÂûãË∑ØÁî±:**¬†ËÉΩÊ†πÊçÆ‰ªªÂä°Á±ªÂûãÔºàÂ¶ÇÂêéÂè∞‰ªªÂä°„ÄÅÊ∑±Â∫¶ÊÄùËÄÉ„ÄÅÈïø‰∏ä‰∏ãÊñáÂ§ÑÁêÜÔºâÂ∞ÜËØ∑Ê±ÇËá™Âä®ÂàÜÂèëÁªô‰∏çÂêåÁöÑAIÊ®°Âûã„ÄÇ\\n- **Â§öÊúçÂä°ÂïÜÊîØÊåÅ:**¬†ÊîØÊåÅÊé•ÂÖ•Âπ∂ÁÆ°ÁêÜÊù•Ëá™ OpenRouter„ÄÅDeepSeek„ÄÅOllama„ÄÅGemini„ÄÅVolcengine Âíå SiliconFlow Á≠âÂ§ö‰∏™‰∏ªÊµÅÊ®°ÂûãÊúçÂä°ÂïÜÁöÑAPI„ÄÇ\\n- **ËØ∑Ê±Ç/ÂìçÂ∫îËΩ¨Êç¢:**¬†ÂÜÖÁΩÆ‚ÄúËΩ¨Êç¢Âô®‚ÄùÔºàTransformerÔºâÂäüËÉΩÔºåÂèØ‰ª•‰øÆÊîπËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑÊï∞ÊçÆÊ†ºÂºèÔºå‰ª•ÂÖºÂÆπ‰∏çÂêåÊúçÂä°ÂïÜÁöÑAPIËßÑËåÉ„ÄÇ\\n- **Âä®ÊÄÅÊ®°ÂûãÂàáÊç¢:**¬†Áî®Êà∑ÂèØ‰ª•Âú® Claude Code ‰∫§‰∫íÁïåÈù¢‰∏≠Ôºå‰ΩøÁî®¬†`/model`¬†ÂëΩ‰ª§ÈöèÊó∂ÊâãÂä®ÂàáÊç¢ÂΩìÂâç‰ΩøÁî®ÁöÑÊ®°Âûã„ÄÇ\\n- **GitHub Actions ÈõÜÊàê:**¬†ÂèØ‰ª•Â∞Ü Claude Code Router ÈõÜÊàêÂà∞ GitHub ÁöÑËá™Âä®ÂåñÂ∑•‰ΩúÊµÅ‰∏≠ÔºåÂÆûÁé∞CI/CDÊµÅÁ®ã‰∏≠ÁöÑ‰ª£Á†Å‰ªªÂä°Ëá™Âä®Âåñ„ÄÇ\\n- **Êèí‰ª∂Á≥ªÁªü:**¬†ÊîØÊåÅÈÄöËøáËá™ÂÆö‰πâËΩ¨Êç¢Âô®Êù•Êâ©Â±ïË∑ØÁî±Âô®ÁöÑÂäüËÉΩÔºåÊª°Ë∂≥Êõ¥Â§çÊùÇÁöÑÂÆöÂà∂ÈúÄÊ±Ç„ÄÇ\\n- **ÂèØËßÜÂåñÁïåÈù¢:**¬†Êèê‰æõ‰∏Ä‰∏™ÁΩëÈ°µUIÁïåÈù¢ÔºåÁî®Êà∑ÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®Êñπ‰æøÂú∞Êü•ÁúãÂíåÁºñËæëÈÖçÁΩÆÊñá‰ª∂„ÄÇ\\n\\n## ‰ΩøÁî®Â∏ÆÂä©\\n\\nClaude Code Router ‰Ωú‰∏∫‰∏Ä‰∏™‰∏≠Èó¥‰ª£ÁêÜÔºåÊã¶Êà™‰ªé Claude Code ÂèëÂá∫ÁöÑËØ∑Ê±ÇÔºåÂπ∂Ê†πÊçÆ‰Ω†ÁöÑÈÖçÁΩÆËßÑÂàôÂ∞ÜÂÖ∂ËΩ¨ÂèëÁªôÊúÄÂêàÈÄÇÁöÑÊ®°Âûã„ÄÇ‰ª•‰∏ãÊòØËØ¶ÁªÜÁöÑ‰ΩøÁî®ÊµÅÁ®ã„ÄÇ\\n\\n### 1\\\\. ÂÆâË£Ö\\n\\nÈ¶ñÂÖàÔºå‰Ω†ÈúÄË¶ÅÁ°Æ‰øùÂ∑≤ÁªèÂÆâË£Ö‰∫Ü Node.js ÁéØÂ¢É„ÄÇÁÑ∂ÂêéÈÄöËøá¬†`npm`¬†ÂåÖÁÆ°ÁêÜÂô®Âú®ÁªàÁ´Ø‰∏≠ÊâßË°å‰ª•‰∏ãÂëΩ‰ª§„ÄÇ\\n\\n**Á¨¨‰∏ÄÊ≠•ÔºöÂÆâË£Ö Claude Code** Â¶ÇÊûú‰Ω†ÁöÑÁîµËÑëËøòÊú™ÂÆâË£Ö Claude CodeÔºåËØ∑ÂÖàÊâßË°åÊ≠§ÂëΩ‰ª§Ôºö\\n\\n```\\nnpm install -g @anthropic-ai/claude-code\\n\\n```\\n\\n**Á¨¨‰∫åÊ≠•ÔºöÂÆâË£Ö Claude Code Router** Êé•ÁùÄÔºåÂÆâË£ÖÊú¨Â∑•ÂÖ∑Ôºö\\n\\n```\\nnpm install -g @musi\",\n      \"favicon\": \"https://aigcsoft.site/wp-content/uploads/2025/07/cropped-1752810663-aigcsoft_icon-1-32x32.png\"\n    }\n  ],\n  \"requestTags\": {\n    \"flagsEnabledInPosthog\": \"experiment_auto_join,fallback_keyword_to_neural,fallback_neural_to_keyword,hybrid_for_auto,lang_filter,langfuse_search_logging,llm_gateway,markdown_contents,neosnippets,race_providers_for_query_cache,redirect_classifier_active,redirect_classifier_shadow,reranker_with_date,research_enabled,sranker_qwen_medium_trt,sranker_qwen_medium_trt_for_auto,sranker_qwen_medium_trt_for_fast,sranker_qwen_medium_trt_for_hybrid,type_hybrid_merge_chicken_index_at_35,use_dynamo_db_with_query_cache,use_exa21,use_exaperson_v1_latest,use_kronos_answer_active,use_kronos_answer_shadow,use_modal_embeddings,use_moderated_index,use_new_atlas,use_new_atlas_keyword,use_prefix_snippets,use_query_cache_sparse_for_fast,use_query_cache_sparse_for_hybrid,use_s3e_race,use_zilliz_for_query_cache\",\n    \"flagsEnabledInRequest\": \"\",\n    \"enabledFlags\": \"experiment_auto_join,fallback_keyword_to_neural,fallback_neural_to_keyword,hybrid_for_auto,lang_filter,langfuse_search_logging,llm_gateway,markdown_contents,neosnippets,race_providers_for_query_cache,redirect_classifier_active,redirect_classifier_shadow,reranker_with_date,research_enabled,sranker_qwen_medium_trt,sranker_qwen_medium_trt_for_auto,sranker_qwen_medium_trt_for_fast,sranker_qwen_medium_trt_for_hybrid,type_hybrid_merge_chicken_index_at_35,use_dynamo_db_with_query_cache,use_exa21,use_exaperson_v1_latest,use_kronos_answer_active,use_kronos_answer_shadow,use_modal_embeddings,use_moderated_index,use_new_atlas,use_new_atlas_keyword,use_prefix_snippets,use_query_cache_sparse_for_fast,use_query_cache_sparse_for_hybrid,use_s3e_race,use_zilliz_for_query_cache\",\n    \"initialSearchType\": \"auto\",\n    \"didIncludeText\": \"no\",\n    \"didExcludeText\": \"no\",\n    \"didIncludeDomains\": \"no\",\n    \"didExcludeDomains\": \"no\",\n    \"didIncludeUrls\": \"no\",\n    \"didExcludeUrls\": \"no\",\n    \"moderation\": \"no\",\n    \"didUseDateFilters\": \"no\",\n    \"category\": \"none\",\n    \"didUseAutoprompt\": \"no\",\n    \"hasUserLocation\": \"no\",\n    \"didRequestContentText\": true,\n    \"didRequestContentHighlights\": false,\n    \"didRequestContentSummary\": false,\n    \"livecrawl\": \"preferred\",\n    \"requestedLinks\": \"no\",\n    \"willPostRerankNeural\": \"yes\",\n    \"willPostModerate\": false,\n    \"searchTypeBranch\": \"auto\",\n    \"autoBranch\": {\n      \"neuralSearch\": {\n        \"sierra\": {\n          \"query\": \"claude code router github anthropic\",\n          \"flags\": \"experiment_auto_join,fallback_keyword_to_neural,fallback_neural_to_keyword,hybrid_for_auto,lang_filter,langfuse_search_logging,llm_gateway,markdown_contents,neosnippets,race_providers_for_query_cache,redirect_classifier_active,redirect_classifier_shadow,reranker_with_date,research_enabled,sranker_qwen_medium_trt,sranker_qwen_medium_trt_for_auto,sranker_qwen_medium_trt_for_fast,sranker_qwen_medium_trt_for_hybrid,type_hybrid_merge_chicken_index_at_35,use_dynamo_db_with_query_cache,use_exaperson_v1_latest,use_kronos_answer_active,use_kronos_answer_shadow,use_modal_embeddings,use_moderated_index,use_new_atlas_keyword,use_prefix_snippets,use_query_cache_sparse_for_fast,use_query_cache_sparse_for_hybrid,use_s3e_race,use_zilliz_for_query_cache,use_exa21\",\n          \"filters\": {\n            \"moderation\": \"blacklisted\",\n            \"moderationConfig\": {\n              \"llamaguardS1\": false,\n              \"llamaguardS3\": false,\n              \"llamaguardS4\": false,\n              \"llamaguardS12\": false,\n              \"domainBlacklisted\": false,\n              \"domainBlacklistedMedia\": false\n            }\n          },\n          \"queryDateString\": \"2025-11-03\",\n          \"numResultsRequested\": 35,\n          \"engine\": \"default\",\n          \"isTweetCategory\": false,\n          \"sierraTime\": 234.77014899998903,\n          \"numResultsReturned\": 35\n        },\n        \"fetchContents\": {\n          \"contentExpansion\": {\n            \"failedContents\": []\n          },\n          \"contentsResultsCount\": 35,\n          \"filteredResultsCount\": 0\n        }\n      },\n      \"keywordSearch\": {\n        \"query\": \"claude code router github anthropic\",\n        \"modifiedQuery\": \"claude code router github anthropic\",\n        \"slicedAmount\": 0,\n        \"searchData\": {\n          \"q\": \"claude code router github anthropic\",\n          \"num\": 10,\n          \"safe\": \"active\"\n        },\n        \"opts\": {\n          \"snippetMode\": \"snippet\",\n          \"addAnswerBox\": true,\n          \"addKnowledgeGraph\": true,\n          \"addPeopleAlsoAsk\": false,\n          \"allowEmptyAnswerLinks\": false,\n          \"providers\": [\n            {\n              \"provider\": \"serper\",\n              \"startAfterMs\": 0,\n              \"timeoutMs\": 10000\n            }\n          ],\n          \"timeoutMs\": 10000,\n          \"teamId\": \"cm60snyw00011cfcxf2vbwp8n\"\n        },\n        \"serperSource\": \"regular\",\n        \"relatedQueries\": [\n          \"Claude code router github anthropic reddit\",\n          \"Claude code router github anthropic example\",\n          \"Musistudio claude code router github anthropic\",\n          \"Claude code router github anthropic download\",\n          \"Claude Code router OpenAI\",\n          \"Claude Code open router\",\n          \"Claude Code Router example\",\n          \"Claude Code proxy\"\n        ],\n        \"success\": true,\n        \"numResultsRequested\": 5,\n        \"numResultsReturned\": 10,\n        \"fetchContents\": {\n          \"contentExpansion\": {\n            \"failedContents\": [\n              \"https://www.reddit.com/r/ClaudeAI/comments/1ni5qcu/anthrorouter_use_any_model_in_claudecode/\",\n              \"https://khmercoder.com/@remy_dev/articles/58745814\"\n            ]\n          },\n          \"contentsResultsCount\": 8,\n          \"filteredResultsCount\": 0\n        }\n      },\n      \"neitherFailed\": true,\n      \"autoJoin\": true,\n      \"autoJoinRerank\": {\n        \"reranker\": {\n          \"withModeration\": false,\n          \"preserveUnranked\": true,\n          \"strategy\": {\n            \"strategy\": \"modal_sranker_qwen_trt\",\n            \"default\": true\n          },\n          \"strategy_decided\": \"modal_sranker_qwen_trt\",\n          \"strategy_reason\": \"explicit_strategy\",\n          \"isQdf\": false\n        }\n      },\n      \"autoJoinResults\": \"35\"\n    },\n    \"decidedAutoType\": \"neural\",\n    \"resolvedSearchType\": \"neural\",\n    \"autoType\": \"neural\",\n    \"decidedResultsLength\": 5,\n    \"totalFilterCount\": \"5\",\n    \"contextExpansionNeeded\": \"not-needed\",\n    \"finalResultsCount\": 5,\n    \"searchTime\": 4798.7,\n    \"path\": \"/search\",\n    \"method\": \"POST\",\n    \"teamId\": \"cm60snyw00011cfcxf2vbwp8n\"\n  },\n  \"effectiveFilters\": {\n    \"includeDomains\": [],\n    \"excludeDomains\": [],\n    \"includeUrls\": [],\n    \"excludeUrls\": [],\n    \"includeText\": [],\n    \"excludeText\": []\n  },\n  \"searchTime\": 4798.7,\n  \"costDollars\": {\n    \"total\": 0.01,\n    \"search\": {\n      \"neural\": 0.005\n    },\n    \"contents\": {\n      \"text\": 0.005\n    }\n  }\n}"}]}]},"uuid":"e7051500-dac1-473b-ad60-655fb73d200a","timestamp":"2025-11-03T14:36:48.013Z","toolUseResult":[{"type":"text","text":"{\n  \"requestId\": \"a22bfdd05b32c9c9c1c1c671edeb50ee\",\n  \"resolvedSearchType\": \"neural\",\n  \"results\": [\n    {\n      \"id\": \"https://github.com/musistudio/claude-code-router\",\n      \"title\": \"musistudio/claude-code-router - GitHub\",\n      \"url\": \"https://github.com/musistudio/claude-code-router\",\n      \"publishedDate\": \"2025-02-25T02:17:18.000Z\",\n      \"author\": \"musistudio\",\n      \"text\": \"[Skip to content](https://github.com/github.com#start-of-content)\\n\\nYou signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert\\n\\n[musistudio](https://github.com/musistudio)/ **[claude-code-router](https://github.com/musistudio/claude-code-router)** Public\\n\\n- [Notifications](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router) You must be signed in to change notification settings\\n- [Fork\\\\\\n1.6k](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)\\n- [Star\\\\\\n20.8k](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)\\n\\n\\nUse Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\\n\\n### License\\n\\n[MIT license](https://github.com/musistudio/claude-code-router/blob/main/LICENSE)\\n\\n[20.8k\\\\\\nstars](https://github.com/musistudio/claude-code-router/stargazers) [1.6k\\\\\\nforks](https://github.com/musistudio/claude-code-router/forks) [Branches](https://github.com/musistudio/claude-code-router/branches) [Tags](https://github.com/musistudio/claude-code-router/tags) [Activity](https://github.com/musistudio/claude-code-router/activity)\\n\\n[Star](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)\\n\\n[Notifications](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router) You must be signed in to change notification settings\\n\\n# musistudio/claude-code-router\\n\\nmain\\n\\n[Branches](https://github.com/musistudio/claude-code-router/branches) [Tags](https://github.com/musistudio/claude-code-router/tags)\\n\\nGo to file\\n\\nCode\\n\\nOpen more actions menu\\n\\n## Folders and files\\n\\n| Name | Name | Last commit message | Last commit date |\\n| --- | --- | --- | --- |\\n| ## Latest commit ## History [295 Commits](https://github.com/musistudio/claude-code-router/commits/main/) \",\n      \"image\": \"https://opengraph.githubassets.com/7676cbd734e542b060f408a0e15c656d74a85432da87c616306a42b499d50f29/musistudio/claude-code-router\",\n      \"favicon\": \"https://github.com/fluidicon.png\"\n    },\n    {\n      \"id\": \"https://github.com/anthropics/claude-code\",\n      \"title\": \"GitHub - anthropics/claude-code\",\n      \"url\": \"https://github.com/anthropics/claude-code\",\n      \"publishedDate\": \"2025-02-22T17:41:21.000Z\",\n      \"author\": \"anthropics\",\n      \"text\": \"[Skip to content](https://github.com/github.com#start-of-content)\\n\\nYou signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert\\n\\n[anthropics](https://github.com/anthropics)/ **[claude-code](https://github.com/anthropics/claude-code)** Public\\n\\n- [Notifications](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code) You must be signed in to change notification settings\\n- [Fork\\\\\\n2.7k](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code)\\n- [Star\\\\\\n41.2k](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code)\\n\\n\\nClaude Code is an agentic coding tool that lives in your terminal, understands your codebase, and helps you code faster by executing routine tasks, explaining complex code, and handling git workflows - all through natural language commands.\\n\\n[docs.anthropic.com/s/claude-code](https://docs.anthropic.com/s/claude-code)\\n\\n[41.2k\\\\\\nstars](https://github.com/anthropics/claude-code/stargazers) [2.7k\\\\\\nforks](https://github.com/anthropics/claude-code/forks) [Branches](https://github.com/anthropics/claude-code/branches) [Tags](https://github.com/anthropics/claude-code/tags) [Activity](https://github.com/anthropics/claude-code/activity)\\n\\n[Star](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code)\\n\\n[Notifications](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code) You must be signed in to change notification settings\\n\\n# anthropics/claude-code\\n\\nmain\\n\\n[Branches](https://github.com/anthropics/claude-code/branches) [Tags](https://github.com/anthropics/claude-code/tags)\\n\\nGo to file\\n\\nCode\\n\\nOpen more actions menu\\n\\n## Folders and files\\n\\n| Name | Name | Last commit message | Last commit date |\\n| --- | --- | --- | --- |\\n| ## Latest commit ## History [317 Commits](https://github.com/anthropics/claude-code/commits/main/) |\\n| [.claude-plugin](https://github.com/ant\",\n      \"image\": \"https://opengraph.githubassets.com/32191dcb973e7b77b9d799dd04e0f9e46c10a1e45e68ebdb881e62fbe431de8e/anthropics/claude-code\",\n      \"favicon\": \"https://github.com/fluidicon.png\"\n    },\n    {\n      \"id\": \"https://www.anthropic.com/news/claude-code-on-the-web\",\n      \"title\": \"Claude Code on the web - Anthropic\",\n      \"url\": \"https://www.anthropic.com/news/claude-code-on-the-web\",\n      \"publishedDate\": \"2025-10-20T00:00:00.000Z\",\n      \"author\": \"\",\n      \"text\": \"Product\\n\\n# Claude Code on the web\\n\\nOct 20, 2025‚óè2 min read\\n\\nToday, we're introducing Claude Code on the web, a new way to delegate coding tasks directly from your browser.\\n\\nNow in beta as a research preview, you can assign multiple coding tasks to Claude that run on Anthropic-managed cloud infrastructure, perfect for tackling bug backlogs, routine fixes, or parallel development work.\\n\\n## Run coding tasks in parallel\\n\\nClaude Code on the web lets you kick off coding sessions without opening your terminal. Connect your GitHub repositories, describe what you need, and Claude handles the implementation.\\n\\nEach session runs in its own isolated environment with real-time progress tracking, and you can actively steer Claude to adjust course as it‚Äôs working through tasks.\\n\\nWith Claude Code running in the cloud, you can now **run multiple tasks in parallel** across different repositories from a single interface and **ship faster** with automatic PR creation and clear change summaries.\\n\\n## Flexible for every workflow\\n\\nThe web interface complements your existing Claude Code workflow. Running tasks in the cloud is especially effective for:\\n\\n- Answering questions about how projects work and how repositories are mapped\\n- Bugfixes and routine, well-defined tasks\\n- Backend changes, where Claude Code can use test-driven development to verify changes\\n\\nYou can also use Claude Code on mobile. As part of this research preview, we‚Äôre making Claude Code available on our iOS app so developers can explore coding with Claude on the go. It‚Äôs an early preview, and we hope to quickly refine the mobile experience based on your feedback.\\n\\n## Security-first cloud execution\\n\\nEvery Claude Code task runs in an isolated sandbox environment with network and filesystem restrictions. Git interactions are handled through a secure proxy service that ensures Claude can only access authorized repositories‚Äîhelping keep your code and credentials protected throughout the entire workflow.\\n\\nYou can also add custom \",\n      \"image\": \"https://www.anthropic.com/api/opengraph-illustration?name=Object%20CodeGlobe&backgroundColor=clay\",\n      \"favicon\": \"https://www.anthropic.com/favicon.ico\"\n    },\n    {\n      \"id\": \"https://claudecoderouter.com/\",\n      \"title\": \"Claude Code Router - Enhance Your AI Coding Workflow\",\n      \"url\": \"https://claudecoderouter.com/\",\n      \"publishedDate\": \"2025-01-01T00:00:00.000Z\",\n      \"author\": \"\",\n      \"text\": \"# Claude Code Router\\n\\nEnhance Your AI Coding Workflow with Flexible Model Routing\\n\\n## Quick Start with Claude Code Router\\n\\nFollow these simple steps to get started:\\n\\n### Installation\\n\\n```\\nnpm install -g @anthropic-ai/claude-code\\nnpm install -g @musistudio/claude-code-router\\nccr code\\n```\\n\\nView Configuration Example (Optional)\\n\\n```\\n{\\n \\\"Providers\\\": [\\n {\\n \\\"name\\\": \\\"openrouter\\\",\\n \\\"api_base_url\\\": \\\"https://openrouter.ai/api/v1/chat/completions\\\",\\n \\\"api_key\\\": \\\"sk-xxx\\\",\\n \\\"models\\\": [\\n \\\"google/gemini-2.5-pro-preview\\\",\\n \\\"anthropic/claude-sonnet-4\\\",\\n \\\"anthropic/claude-3.5-sonnet\\\",\\n \\\"anthropic/claude-3.7-sonnet:thinking\\\"\\n ],\\n \\\"transformer\\\": {\\n \\\"use\\\": [\\\"openrouter\\\"]\\n }\\n },\\n {\\n \\\"name\\\": \\\"deepseek\\\",\\n \\\"api_base_url\\\": \\\"https://api.deepseek.com/chat/completions\\\",\\n \\\"api_key\\\": \\\"sk-xxx\\\",\\n \\\"models\\\": [\\\"deepseek-chat\\\", \\\"deepseek-reasoner\\\"],\\n \\\"transformer\\\": {\\n \\\"use\\\": [\\\"deepseek\\\"],\\n \\\"deepseek-chat\\\": {\\n \\\"use\\\": [\\\"tooluse\\\"]\\n }\\n }\\n },\\n {\\n \\\"name\\\": \\\"ollama\\\",\\n \\\"api_base_url\\\": \\\"http://localhost:11434/v1/chat/completions\\\",\\n \\\"api_key\\\": \\\"ollama\\\",\\n \\\"models\\\": [\\\"qwen2.5-coder:latest\\\"]\\n },\\n {\\n \\\"name\\\": \\\"gemini\\\",\\n \\\"api_base_url\\\": \\\"https://generativelanguage.googleapis.com/v1beta/models/\\\",\\n \\\"api_key\\\": \\\"sk-xxx\\\",\\n \\\"models\\\": [\\\"gemini-2.5-flash\\\", \\\"gemini-2.5-pro\\\"],\\n \\\"transformer\\\": {\\n \\\"use\\\": [\\\"gemini\\\"]\\n }\\n },\\n {\\n \\\"name\\\": \\\"volcengine\\\",\\n \\\"api_base_url\\\": \\\"https://ark.cn-beijing.volces.com/api/v3/chat/completions\\\",\\n \\\"api_key\\\": \\\"sk-xxx\\\",\\n \\\"models\\\": [\\\"deepseek-v3-250324\\\", \\\"deepseek-r1-250528\\\"],\\n \\\"transformer\\\": {\\n \\\"use\\\": [\\\"deepseek\\\"]\\n }\\n }\\n ],\\n \\\"Router\\\": {\\n \\\"default\\\": \\\"deepseek,deepseek-chat\\\",\\n \\\"background\\\": \\\"ollama,qwen2.5-coder:latest\\\",\\n \\\"think\\\": \\\"deepseek,deepseek-reasoner\\\",\\n \\\"longContext\\\": \\\"openrouter,google/gemini-2.5-pro-preview\\\"\\n }\\n}\\n```\\n\\n## What is Claude Code Router?\\n\\n**Claude Code Router** appears to be an extension of Claude Code, a command-line tool for agentic coding developed by Anthropic. It enables users to direct coding requests to various AI models, offering more flexibility in how they interact with these m\",\n      \"favicon\": \"https://claudecoderouter.com/favicon.svg\"\n    },\n    {\n      \"id\": \"https://claude-code-router.aigcsoft.site/\",\n      \"title\": \"Claude Code RouterÔºöÁÅµÊ¥ªË∑ØÁî±AIÁºñÁ†ÅËØ∑Ê±ÇÁöÑÂ∑•ÂÖ∑\",\n      \"url\": \"https://claude-code-router.aigcsoft.site/\",\n      \"publishedDate\": \"2025-08-22T00:00:00.000Z\",\n      \"author\": \"\",\n      \"text\": \"- [È¶ñÈ°µ](https://aigcsoft.site/)\\n- [ÂÖ∂‰ªñ](https://aigcsoft.site/tool-category/others)\\n- ËØ¶ÊÉÖ\\n\\n[ËÆøÈóÆÁΩëÁ´ô](https://github.com/musistudio/claude-code-router)\\n\\nÊâ´Á†ÅÊü•Áúã\\n\\n[Â§çÂà∂ÈìæÊé•](javascript:;)\\n\\n[ÂèçÈ¶à](https://claude-code-router.aigcsoft.site/claude-code-router.aigcsoft.site#feedback_id_69084445bf39a)\\n\\n### Â∑•ÂÖ∑ÂºÇÂ∏∏ÂèçÈ¶à\\n\\nÂ¶ÇÂèëÁé∞Â∑•ÂÖ∑Êó†Ê≥ï‰ΩøÁî®ÔºåÊ¨¢ËøéÂèçÈ¶àÈóÆÈ¢òÔºåÊàë‰ª¨Â∞ÜÂèäÊó∂Â§ÑÁêÜ\\n\\nÂèçÈ¶àÁ±ªÂûã\\n\\nÈìæÊé•Â§±Êïà\\n\\nÊïèÊÑüÂÜÖÂÆπ\\n\\nÂÖ∂‰ªñ\\n\\nËØ¶ÁªÜËØ¥Êòé\\n\\nÊèê‰∫§\\n\\nÁÅµÊ¥ªË∑ØÁî±AIÁºñÁ†ÅËØ∑Ê±ÇÁöÑÂ∑•ÂÖ∑\\n\\n**Ê†áÁ≠æ**Ôºö [AI](https://aigcsoft.site/tool-tag/ai) , [Anthropic](https://aigcsoft.site/tool-tag/anthropic) , [API](https://aigcsoft.site/tool-tag/api) , [Claude](https://aigcsoft.site/tool-tag/claude) , [Claude Code](https://aigcsoft.site/tool-tag/claude-code) , [LLM](https://aigcsoft.site/tool-tag/llm) , [ÂáΩÊï∞Ë∞ÉÁî®](https://aigcsoft.site/tool-tag/function-calls) , [Ê®°ÂûãË∑ØÁî±](https://aigcsoft.site/tool-tag/model-routing)\\n\\n# Claude Code Router\\n\\n2025-08-22[ÂÖ∂‰ªñ](https://aigcsoft.site/tool-category/others)884 Ê¨°ÊµèËßà\\n\\n## ÁªºÂêà‰ªãÁªç\\n\\nClaude Code Router ÊòØ‰∏Ä‰∏™ÂäüËÉΩÂº∫Â§ßÁöÑÂºÄÊ∫êÂ∑•ÂÖ∑ÔºåÂÆÉÊûÑÂª∫‰∫é Anthropic ÁöÑ Claude Code ÁºñÁ†ÅÂü∫Á°Ä‰πã‰∏ä„ÄÇËØ•Â∑•ÂÖ∑‰∏ªË¶ÅËß£ÂÜ≥‰∫ÜÂú®‰ΩøÁî®Â§ßËØ≠Ë®ÄÊ®°ÂûãËøõË°åÁºñÁ†ÅÊó∂ÔºåÂ¶Ç‰ΩïÊ†πÊçÆ‰∏çÂêå‰ªªÂä°ÁöÑÁâπÁÇπÔºåÁÅµÊ¥ªÂú∞Â∞ÜËØ∑Ê±ÇÂèëÈÄÅÁªôÊúÄÂêàÈÄÇÁöÑÊ®°ÂûãÂ§ÑÁêÜ„ÄÇÂÆÉÈÄöËøá‰∏Ä‰∏™‰∏≠Â§ÆË∑ØÁî±Á≥ªÁªüÔºåÂÖÅËÆ∏Áî®Êà∑Êé•ÂÖ•Âπ∂ÁÆ°ÁêÜÊù•Ëá™ OpenRouter„ÄÅDeepSeek„ÄÅOllama„ÄÅGemini Á≠âÂ§ö‰∏™‰∏çÂêåÊúçÂä°ÂïÜÁöÑÊ®°Âûã„ÄÇÁî®Êà∑‰∏ç‰ªÖÂèØ‰ª•‰∏∫Â∏∏ËßÑ‰ªªÂä°„ÄÅÂêéÂè∞‰ªªÂä°„ÄÅÂ§çÊùÇÊÄùËÄÉÊàñÈïøÊñáÊú¨Â§ÑÁêÜÁ≠â‰∏çÂêåÂú∫ÊôØËÆæÂÆöÈªòËÆ§Ê®°ÂûãÔºåËøòËÉΩÂú®ÁºñÁ†ÅËøáÁ®ã‰∏≠Âä®ÊÄÅÂàáÊç¢Ê®°Âûã„ÄÇËøôÁßçËÆæËÆ°ÊûÅÂ§ßÂú∞ÊèêÂçá‰∫ÜÁÅµÊ¥ªÊÄß„ÄÅ‰ºòÂåñ‰∫ÜÊàêÊú¨ÔºåÂπ∂‰ΩøÂæóÂºÄÂèëËÄÖÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÈúÄÊ±ÇÔºåËá™Áî±ÁªÑÂêàÂíåÊâ©Â±ïÊ®°ÂûãÁöÑÂ∫îÁî®ÊñπÂºèÔºåËÄå‰∏çÂøÖÈîÅÂÆöÂú®Âçï‰∏ÄÁöÑÊúçÂä°ÊàñÊ®°Âûã‰∏ä„ÄÇ\\n\\n## ÂäüËÉΩÂàóË°®\\n\\n- **Ê®°ÂûãË∑ØÁî±:**¬†ËÉΩÊ†πÊçÆ‰ªªÂä°Á±ªÂûãÔºàÂ¶ÇÂêéÂè∞‰ªªÂä°„ÄÅÊ∑±Â∫¶ÊÄùËÄÉ„ÄÅÈïø‰∏ä‰∏ãÊñáÂ§ÑÁêÜÔºâÂ∞ÜËØ∑Ê±ÇËá™Âä®ÂàÜÂèëÁªô‰∏çÂêåÁöÑAIÊ®°Âûã„ÄÇ\\n- **Â§öÊúçÂä°ÂïÜÊîØÊåÅ:**¬†ÊîØÊåÅÊé•ÂÖ•Âπ∂ÁÆ°ÁêÜÊù•Ëá™ OpenRouter„ÄÅDeepSeek„ÄÅOllama„ÄÅGemini„ÄÅVolcengine Âíå SiliconFlow Á≠âÂ§ö‰∏™‰∏ªÊµÅÊ®°ÂûãÊúçÂä°ÂïÜÁöÑAPI„ÄÇ\\n- **ËØ∑Ê±Ç/ÂìçÂ∫îËΩ¨Êç¢:**¬†ÂÜÖÁΩÆ‚ÄúËΩ¨Êç¢Âô®‚ÄùÔºàTransformerÔºâÂäüËÉΩÔºåÂèØ‰ª•‰øÆÊîπËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑÊï∞ÊçÆÊ†ºÂºèÔºå‰ª•ÂÖºÂÆπ‰∏çÂêåÊúçÂä°ÂïÜÁöÑAPIËßÑËåÉ„ÄÇ\\n- **Âä®ÊÄÅÊ®°ÂûãÂàáÊç¢:**¬†Áî®Êà∑ÂèØ‰ª•Âú® Claude Code ‰∫§‰∫íÁïåÈù¢‰∏≠Ôºå‰ΩøÁî®¬†`/model`¬†ÂëΩ‰ª§ÈöèÊó∂ÊâãÂä®ÂàáÊç¢ÂΩìÂâç‰ΩøÁî®ÁöÑÊ®°Âûã„ÄÇ\\n- **GitHub Actions ÈõÜÊàê:**¬†ÂèØ‰ª•Â∞Ü Claude Code Router ÈõÜÊàêÂà∞ GitHub ÁöÑËá™Âä®ÂåñÂ∑•‰ΩúÊµÅ‰∏≠ÔºåÂÆûÁé∞CI/CDÊµÅÁ®ã‰∏≠ÁöÑ‰ª£Á†Å‰ªªÂä°Ëá™Âä®Âåñ„ÄÇ\\n- **Êèí‰ª∂Á≥ªÁªü:**¬†ÊîØÊåÅÈÄöËøáËá™ÂÆö‰πâËΩ¨Êç¢Âô®Êù•Êâ©Â±ïË∑ØÁî±Âô®ÁöÑÂäüËÉΩÔºåÊª°Ë∂≥Êõ¥Â§çÊùÇÁöÑÂÆöÂà∂ÈúÄÊ±Ç„ÄÇ\\n- **ÂèØËßÜÂåñÁïåÈù¢:**¬†Êèê‰æõ‰∏Ä‰∏™ÁΩëÈ°µUIÁïåÈù¢ÔºåÁî®Êà∑ÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®Êñπ‰æøÂú∞Êü•ÁúãÂíåÁºñËæëÈÖçÁΩÆÊñá‰ª∂„ÄÇ\\n\\n## ‰ΩøÁî®Â∏ÆÂä©\\n\\nClaude Code Router ‰Ωú‰∏∫‰∏Ä‰∏™‰∏≠Èó¥‰ª£ÁêÜÔºåÊã¶Êà™‰ªé Claude Code ÂèëÂá∫ÁöÑËØ∑Ê±ÇÔºåÂπ∂Ê†πÊçÆ‰Ω†ÁöÑÈÖçÁΩÆËßÑÂàôÂ∞ÜÂÖ∂ËΩ¨ÂèëÁªôÊúÄÂêàÈÄÇÁöÑÊ®°Âûã„ÄÇ‰ª•‰∏ãÊòØËØ¶ÁªÜÁöÑ‰ΩøÁî®ÊµÅÁ®ã„ÄÇ\\n\\n### 1\\\\. ÂÆâË£Ö\\n\\nÈ¶ñÂÖàÔºå‰Ω†ÈúÄË¶ÅÁ°Æ‰øùÂ∑≤ÁªèÂÆâË£Ö‰∫Ü Node.js ÁéØÂ¢É„ÄÇÁÑ∂ÂêéÈÄöËøá¬†`npm`¬†ÂåÖÁÆ°ÁêÜÂô®Âú®ÁªàÁ´Ø‰∏≠ÊâßË°å‰ª•‰∏ãÂëΩ‰ª§„ÄÇ\\n\\n**Á¨¨‰∏ÄÊ≠•ÔºöÂÆâË£Ö Claude Code** Â¶ÇÊûú‰Ω†ÁöÑÁîµËÑëËøòÊú™ÂÆâË£Ö Claude CodeÔºåËØ∑ÂÖàÊâßË°åÊ≠§ÂëΩ‰ª§Ôºö\\n\\n```\\nnpm install -g @anthropic-ai/claude-code\\n\\n```\\n\\n**Á¨¨‰∫åÊ≠•ÔºöÂÆâË£Ö Claude Code Router** Êé•ÁùÄÔºåÂÆâË£ÖÊú¨Â∑•ÂÖ∑Ôºö\\n\\n```\\nnpm install -g @musi\",\n      \"favicon\": \"https://aigcsoft.site/wp-content/uploads/2025/07/cropped-1752810663-aigcsoft_icon-1-32x32.png\"\n    }\n  ],\n  \"requestTags\": {\n    \"flagsEnabledInPosthog\": \"experiment_auto_join,fallback_keyword_to_neural,fallback_neural_to_keyword,hybrid_for_auto,lang_filter,langfuse_search_logging,llm_gateway,markdown_contents,neosnippets,race_providers_for_query_cache,redirect_classifier_active,redirect_classifier_shadow,reranker_with_date,research_enabled,sranker_qwen_medium_trt,sranker_qwen_medium_trt_for_auto,sranker_qwen_medium_trt_for_fast,sranker_qwen_medium_trt_for_hybrid,type_hybrid_merge_chicken_index_at_35,use_dynamo_db_with_query_cache,use_exa21,use_exaperson_v1_latest,use_kronos_answer_active,use_kronos_answer_shadow,use_modal_embeddings,use_moderated_index,use_new_atlas,use_new_atlas_keyword,use_prefix_snippets,use_query_cache_sparse_for_fast,use_query_cache_sparse_for_hybrid,use_s3e_race,use_zilliz_for_query_cache\",\n    \"flagsEnabledInRequest\": \"\",\n    \"enabledFlags\": \"experiment_auto_join,fallback_keyword_to_neural,fallback_neural_to_keyword,hybrid_for_auto,lang_filter,langfuse_search_logging,llm_gateway,markdown_contents,neosnippets,race_providers_for_query_cache,redirect_classifier_active,redirect_classifier_shadow,reranker_with_date,research_enabled,sranker_qwen_medium_trt,sranker_qwen_medium_trt_for_auto,sranker_qwen_medium_trt_for_fast,sranker_qwen_medium_trt_for_hybrid,type_hybrid_merge_chicken_index_at_35,use_dynamo_db_with_query_cache,use_exa21,use_exaperson_v1_latest,use_kronos_answer_active,use_kronos_answer_shadow,use_modal_embeddings,use_moderated_index,use_new_atlas,use_new_atlas_keyword,use_prefix_snippets,use_query_cache_sparse_for_fast,use_query_cache_sparse_for_hybrid,use_s3e_race,use_zilliz_for_query_cache\",\n    \"initialSearchType\": \"auto\",\n    \"didIncludeText\": \"no\",\n    \"didExcludeText\": \"no\",\n    \"didIncludeDomains\": \"no\",\n    \"didExcludeDomains\": \"no\",\n    \"didIncludeUrls\": \"no\",\n    \"didExcludeUrls\": \"no\",\n    \"moderation\": \"no\",\n    \"didUseDateFilters\": \"no\",\n    \"category\": \"none\",\n    \"didUseAutoprompt\": \"no\",\n    \"hasUserLocation\": \"no\",\n    \"didRequestContentText\": true,\n    \"didRequestContentHighlights\": false,\n    \"didRequestContentSummary\": false,\n    \"livecrawl\": \"preferred\",\n    \"requestedLinks\": \"no\",\n    \"willPostRerankNeural\": \"yes\",\n    \"willPostModerate\": false,\n    \"searchTypeBranch\": \"auto\",\n    \"autoBranch\": {\n      \"neuralSearch\": {\n        \"sierra\": {\n          \"query\": \"claude code router github anthropic\",\n          \"flags\": \"experiment_auto_join,fallback_keyword_to_neural,fallback_neural_to_keyword,hybrid_for_auto,lang_filter,langfuse_search_logging,llm_gateway,markdown_contents,neosnippets,race_providers_for_query_cache,redirect_classifier_active,redirect_classifier_shadow,reranker_with_date,research_enabled,sranker_qwen_medium_trt,sranker_qwen_medium_trt_for_auto,sranker_qwen_medium_trt_for_fast,sranker_qwen_medium_trt_for_hybrid,type_hybrid_merge_chicken_index_at_35,use_dynamo_db_with_query_cache,use_exaperson_v1_latest,use_kronos_answer_active,use_kronos_answer_shadow,use_modal_embeddings,use_moderated_index,use_new_atlas_keyword,use_prefix_snippets,use_query_cache_sparse_for_fast,use_query_cache_sparse_for_hybrid,use_s3e_race,use_zilliz_for_query_cache,use_exa21\",\n          \"filters\": {\n            \"moderation\": \"blacklisted\",\n            \"moderationConfig\": {\n              \"llamaguardS1\": false,\n              \"llamaguardS3\": false,\n              \"llamaguardS4\": false,\n              \"llamaguardS12\": false,\n              \"domainBlacklisted\": false,\n              \"domainBlacklistedMedia\": false\n            }\n          },\n          \"queryDateString\": \"2025-11-03\",\n          \"numResultsRequested\": 35,\n          \"engine\": \"default\",\n          \"isTweetCategory\": false,\n          \"sierraTime\": 234.77014899998903,\n          \"numResultsReturned\": 35\n        },\n        \"fetchContents\": {\n          \"contentExpansion\": {\n            \"failedContents\": []\n          },\n          \"contentsResultsCount\": 35,\n          \"filteredResultsCount\": 0\n        }\n      },\n      \"keywordSearch\": {\n        \"query\": \"claude code router github anthropic\",\n        \"modifiedQuery\": \"claude code router github anthropic\",\n        \"slicedAmount\": 0,\n        \"searchData\": {\n          \"q\": \"claude code router github anthropic\",\n          \"num\": 10,\n          \"safe\": \"active\"\n        },\n        \"opts\": {\n          \"snippetMode\": \"snippet\",\n          \"addAnswerBox\": true,\n          \"addKnowledgeGraph\": true,\n          \"addPeopleAlsoAsk\": false,\n          \"allowEmptyAnswerLinks\": false,\n          \"providers\": [\n            {\n              \"provider\": \"serper\",\n              \"startAfterMs\": 0,\n              \"timeoutMs\": 10000\n            }\n          ],\n          \"timeoutMs\": 10000,\n          \"teamId\": \"cm60snyw00011cfcxf2vbwp8n\"\n        },\n        \"serperSource\": \"regular\",\n        \"relatedQueries\": [\n          \"Claude code router github anthropic reddit\",\n          \"Claude code router github anthropic example\",\n          \"Musistudio claude code router github anthropic\",\n          \"Claude code router github anthropic download\",\n          \"Claude Code router OpenAI\",\n          \"Claude Code open router\",\n          \"Claude Code Router example\",\n          \"Claude Code proxy\"\n        ],\n        \"success\": true,\n        \"numResultsRequested\": 5,\n        \"numResultsReturned\": 10,\n        \"fetchContents\": {\n          \"contentExpansion\": {\n            \"failedContents\": [\n              \"https://www.reddit.com/r/ClaudeAI/comments/1ni5qcu/anthrorouter_use_any_model_in_claudecode/\",\n              \"https://khmercoder.com/@remy_dev/articles/58745814\"\n            ]\n          },\n          \"contentsResultsCount\": 8,\n          \"filteredResultsCount\": 0\n        }\n      },\n      \"neitherFailed\": true,\n      \"autoJoin\": true,\n      \"autoJoinRerank\": {\n        \"reranker\": {\n          \"withModeration\": false,\n          \"preserveUnranked\": true,\n          \"strategy\": {\n            \"strategy\": \"modal_sranker_qwen_trt\",\n            \"default\": true\n          },\n          \"strategy_decided\": \"modal_sranker_qwen_trt\",\n          \"strategy_reason\": \"explicit_strategy\",\n          \"isQdf\": false\n        }\n      },\n      \"autoJoinResults\": \"35\"\n    },\n    \"decidedAutoType\": \"neural\",\n    \"resolvedSearchType\": \"neural\",\n    \"autoType\": \"neural\",\n    \"decidedResultsLength\": 5,\n    \"totalFilterCount\": \"5\",\n    \"contextExpansionNeeded\": \"not-needed\",\n    \"finalResultsCount\": 5,\n    \"searchTime\": 4798.7,\n    \"path\": \"/search\",\n    \"method\": \"POST\",\n    \"teamId\": \"cm60snyw00011cfcxf2vbwp8n\"\n  },\n  \"effectiveFilters\": {\n    \"includeDomains\": [],\n    \"excludeDomains\": [],\n    \"includeUrls\": [],\n    \"excludeUrls\": [],\n    \"includeText\": [],\n    \"excludeText\": []\n  },\n  \"searchTime\": 4798.7,\n  \"costDollars\": {\n    \"total\": 0.01,\n    \"search\": {\n      \"neural\": 0.005\n    },\n    \"contents\": {\n      \"text\": 0.005\n    }\n  }\n}"}]}
{"parentUuid":"e7051500-dac1-473b-ad60-655fb73d200a","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_012qbopEXek1NyrzK9hcdXnB","type":"message","role":"assistant","content":[{"type":"text","text":"Great! I found it. Let me scrape the GitHub repository for detailed setup instructions:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":7356,"cache_read_input_tokens":41449,"cache_creation":{"ephemeral_5m_input_tokens":7356,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm8C6sTf8QdurFiMp6MY","type":"assistant","uuid":"9c554c5d-492a-4e7a-89d7-26c492c7f89c","timestamp":"2025-11-03T14:36:52.063Z"}
{"parentUuid":"9c554c5d-492a-4e7a-89d7-26c492c7f89c","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_012qbopEXek1NyrzK9hcdXnB","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01VJBT9c1rmccGCttqYMSSqK","name":"mcp__firecrawl__firecrawl_scrape","input":{"url":"https://github.com/musistudio/claude-code-router","formats":["markdown"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":7356,"cache_read_input_tokens":41449,"cache_creation":{"ephemeral_5m_input_tokens":7356,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm8C6sTf8QdurFiMp6MY","type":"assistant","uuid":"02d41bcb-ee37-44db-8c02-c5c31c9b6fdf","timestamp":"2025-11-03T14:36:52.477Z"}
{"parentUuid":"02d41bcb-ee37-44db-8c02-c5c31c9b6fdf","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01VJBT9c1rmccGCttqYMSSqK","type":"tool_result","content":[{"type":"text","text":"{\n  \"markdown\": \"[Skip to content](https://github.com/musistudio/claude-code-router#start-of-content)\\n\\nYou signed in with another tab or window. [Reload](https://github.com/musistudio/claude-code-router) to refresh your session.You signed out in another tab or window. [Reload](https://github.com/musistudio/claude-code-router) to refresh your session.You switched accounts on another tab or window. [Reload](https://github.com/musistudio/claude-code-router) to refresh your session.Dismiss alert\\n\\n{{ message }}\\n\\n[musistudio](https://github.com/musistudio)/ **[claude-code-router](https://github.com/musistudio/claude-code-router)** Public\\n\\n- [Notifications](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router) You must be signed in to change notification settings\\n- [Fork\\\\\\\\\\n1.6k](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)\\n- [Star\\\\\\\\\\n20.7k](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)\\n\\n\\nUse Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\\n\\n\\n### License\\n\\n[MIT license](https://github.com/musistudio/claude-code-router/blob/main/LICENSE)\\n\\n[20.7k\\\\\\\\\\nstars](https://github.com/musistudio/claude-code-router/stargazers) [1.6k\\\\\\\\\\nforks](https://github.com/musistudio/claude-code-router/forks) [Branches](https://github.com/musistudio/claude-code-router/branches) [Tags](https://github.com/musistudio/claude-code-router/tags) [Activity](https://github.com/musistudio/claude-code-router/activity)\\n\\n[Star](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)\\n\\n[Notifications](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router) You must be signed in to change notification settings\\n\\n# musistudio/claude-code-router\\n\\nmain\\n\\n[**11** Branches](https://github.com/musistudio/claude-code-router/branches) [**0** Tags](https://github.com/musistudio/claude-code-router/tags)\\n\\n[Go to Branches page](https://github.com/musistudio/claude-code-router/branches)[Go to Tags page](https://github.com/musistudio/claude-code-router/tags)\\n\\nGo to file\\n\\nCode\\n\\nOpen more actions menu\\n\\n## Folders and files\\n\\n| Name | Name | Last commit message | Last commit date |\\n| --- | --- | --- | --- |\\n| ## Latest commit<br>[![musistudio](https://avatars.githubusercontent.com/u/21162426?v=4&size=40)](https://github.com/musistudio)[musistudio](https://github.com/musistudio/claude-code-router/commits?author=musistudio)<br>[update sponsors](https://github.com/musistudio/claude-code-router/commit/7b126f0436612de05f704a16e4d9f4c056d26556)<br>3 days agoOct 30, 2025<br>[7b126f0](https://github.com/musistudio/claude-code-router/commit/7b126f0436612de05f704a16e4d9f4c056d26556)¬†¬∑¬†3 days agoOct 30, 2025<br>## History<br>[294 Commits](https://github.com/musistudio/claude-code-router/commits/main/) <br>Open commit details<br>[View commit history for this file.](https://github.com/musistudio/claude-code-router/commits/main/) |\\n| [blog](https://github.com/musistudio/claude-code-router/tree/main/blog \\\"blog\\\") | [blog](https://github.com/musistudio/claude-code-router/tree/main/blog \\\"blog\\\") | [Add files via upload](https://github.com/musistudio/claude-code-router/commit/2585a3b9d2bab6aaa91ddc86f54dc936de427269 \\\"Add files via upload\\\") | 3 weeks agoOct 12, 2025 |\\n| [scripts](https://github.com/musistudio/claude-code-router/tree/main/scripts \\\"scripts\\\") | [scripts](https://github.com/musistudio/claude-code-router/tree/main/scripts \\\"scripts\\\") | [feat: add UI build to build process](https://github.com/musistudio/claude-code-router/commit/112d7ef8f98e8122c5ff691fe6a723347e951a99 \\\"feat: add UI build to build process  - Created separate build script to handle both CLI and UI building - Added automatic UI dependency installation - Copy built UI artifacts to dist directory  ü§ñ Generated with [Claude Code](https://claude.ai/code)  Co-Authored-By: Claude <noreply@anthropic.com>\\\") | 4 months agoJul 29, 2025 |\\n| [src](https://github.com/musistudio/claude-code-router/tree/main/src \\\"src\\\") | [src](https://github.com/musistudio/claude-code-router/tree/main/src \\\"src\\\") | [release v1.0.64](https://github.com/musistudio/claude-code-router/commit/1a4462a92362e8c41d4539dc1a79fb85fccf9559 \\\"release v1.0.64\\\") | 2 weeks agoOct 21, 2025 |\\n| [ui](https://github.com/musistudio/claude-code-router/tree/main/ui \\\"ui\\\") | [ui](https://github.com/musistudio/claude-code-router/tree/main/ui \\\"ui\\\") | [fix ui bug and optimize session config](https://github.com/musistudio/claude-code-router/commit/916b110c3ccc8e95f523c3b012ea81816bd0d82d \\\"fix ui bug and optimize session config\\\") | 2 weeks agoOct 21, 2025 |\\n| [.dockerignore](https://github.com/musistudio/claude-code-router/blob/main/.dockerignore \\\".dockerignore\\\") | [.dockerignore](https://github.com/musistudio/claude-code-router/blob/main/.dockerignore \\\".dockerignore\\\") | [config(docker): Add Docker configuration files](https://github.com/musistudio/claude-code-router/commit/30bf711a2a3dbaa22a9237fcc843d16bc807bc6d \\\"config(docker): Add Docker configuration files\\\") | 6 months agoMay 5, 2025 |\\n| [.gitignore](https://github.com/musistudio/claude-code-router/blob/main/.gitignore \\\".gitignore\\\") | [.gitignore](https://github.com/musistudio/claude-code-router/blob/main/.gitignore \\\".gitignore\\\") | [Add model selector command](https://github.com/musistudio/claude-code-router/commit/3de89ba9f30949ce94bf7a90cf518991a591871b \\\"Add model selector command\\\") | last monthOct 5, 2025 |\\n| [.npmignore](https://github.com/musistudio/claude-code-router/blob/main/.npmignore \\\".npmignore\\\") | [.npmignore](https://github.com/musistudio/claude-code-router/blob/main/.npmignore \\\".npmignore\\\") | [release v1.0.30](https://github.com/musistudio/claude-code-router/commit/7acb443aad8d6ce2c88e66105d0c83e21da306aa \\\"release v1.0.30\\\") | 4 months agoJul 30, 2025 |\\n| [CLAUDE.md](https://github.com/musistudio/claude-code-router/blob/main/CLAUDE.md \\\"CLAUDE.md\\\") | [CLAUDE.md](https://github.com/musistudio/claude-code-router/blob/main/CLAUDE.md \\\"CLAUDE.md\\\") | [add ccr statusline command](https://github.com/musistudio/claude-code-router/commit/0e509528c21201de80da0ed1c9aa1e5e105302a0 \\\"add ccr statusline command\\\") | 3 months agoAug 15, 2025 |\\n| [Dockerfile](https://github.com/musistudio/claude-code-router/blob/main/Dockerfile \\\"Dockerfile\\\") | [Dockerfile](https://github.com/musistudio/claude-code-router/blob/main/Dockerfile \\\"Dockerfile\\\") | [optimize docker deployment](https://github.com/musistudio/claude-code-router/commit/e670302e9ed72b263b2b1c3cfabebeaeaff6c4ac \\\"optimize docker deployment\\\") | 2 months agoSep 2, 2025 |\\n| [LICENSE](https://github.com/musistudio/claude-code-router/blob/main/LICENSE \\\"LICENSE\\\") | [LICENSE](https://github.com/musistudio/claude-code-router/blob/main/LICENSE \\\"LICENSE\\\") | [add LICENSE](https://github.com/musistudio/claude-code-router/commit/9cffebf08108e6a2b06d89d37ce5d33274a2ac4a \\\"add LICENSE\\\") | 5 months agoJun 10, 2025 |\\n| [README.md](https://github.com/musistudio/claude-code-router/blob/main/README.md \\\"README.md\\\") | [README.md](https://github.com/musistudio/claude-code-router/blob/main/README.md \\\"README.md\\\") | [update sponsors](https://github.com/musistudio/claude-code-router/commit/7b126f0436612de05f704a16e4d9f4c056d26556 \\\"update sponsors\\\") | 3 days agoOct 30, 2025 |\\n| [README\\\\_zh.md](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md \\\"README_zh.md\\\") | [README\\\\_zh.md](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md \\\"README_zh.md\\\") | [update sponsors](https://github.com/musistudio/claude-code-router/commit/7b126f0436612de05f704a16e4d9f4c056d26556 \\\"update sponsors\\\") | 3 days agoOct 30, 2025 |\\n| [custom-router.example.js](https://github.com/musistudio/claude-code-router/blob/main/custom-router.example.js \\\"custom-router.example.js\\\") | [custom-router.example.js](https://github.com/musistudio/claude-code-router/blob/main/custom-router.example.js \\\"custom-router.example.js\\\") | [release v1.0.24 to support custom router](https://github.com/musistudio/claude-code-router/commit/5e14b9b0e1f4dd27ede0979d76adb446d105d9a3 \\\"release v1.0.24 to support custom router\\\") | 4 months agoJul 21, 2025 |\\n| [docker-compose.yml](https://github.com/musistudio/claude-code-router/blob/main/docker-compose.yml \\\"docker-compose.yml\\\") | [docker-compose.yml](https://github.com/musistudio/claude-code-router/blob/main/docker-compose.yml \\\"docker-compose.yml\\\") | [update docker file](https://github.com/musistudio/claude-code-router/commit/3a12fdffb1f997fd0c9e7042f4b9fbde39704cb5 \\\"update docker file\\\") | 4 months agoJul 30, 2025 |\\n| [package.json](https://github.com/musistudio/claude-code-router/blob/main/package.json \\\"package.json\\\") | [package.json](https://github.com/musistudio/claude-code-router/blob/main/package.json \\\"package.json\\\") | [release v1.0.64](https://github.com/musistudio/claude-code-router/commit/1a4462a92362e8c41d4539dc1a79fb85fccf9559 \\\"release v1.0.64\\\") | 2 weeks agoOct 21, 2025 |\\n| [pnpm-lock.yaml](https://github.com/musistudio/claude-code-router/blob/main/pnpm-lock.yaml \\\"pnpm-lock.yaml\\\") | [pnpm-lock.yaml](https://github.com/musistudio/claude-code-router/blob/main/pnpm-lock.yaml \\\"pnpm-lock.yaml\\\") | [release v1.0.61](https://github.com/musistudio/claude-code-router/commit/c4f8f937df93355ffea1c4849c997b49a90c1bb2 \\\"release v1.0.61\\\") | 3 weeks agoOct 14, 2025 |\\n| [tsconfig.json](https://github.com/musistudio/claude-code-router/blob/main/tsconfig.json \\\"tsconfig.json\\\") | [tsconfig.json](https://github.com/musistudio/claude-code-router/blob/main/tsconfig.json \\\"tsconfig.json\\\") | [support deepseek-v3-20250324](https://github.com/musistudio/claude-code-router/commit/93fcd77544f287148d0f7f0e23d599807cb9c07e \\\"support deepseek-v3-20250324\\\") | 8 months agoMar 25, 2025 |\\n| View all files |\\n\\n## Repository files navigation\\n\\n[![](https://github.com/musistudio/claude-code-router/raw/main/blog/images/claude-code-router-img.png)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/claude-code-router-img.png)\\n\\n[![](https://camo.githubusercontent.com/ec911a136f08a1d3ccba9e16ac7078d405043119f92e6b0f4da80b662e71c795/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2546302539462538372541382546302539462538372542332d2545342542382541442545362539362538372545372538392538382d6666303030303f7374796c653d666c6174)](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md)[![Discord](https://camo.githubusercontent.com/15d038c49987b089c614a1f93c8742f024b0d05c0cb9627e52cb6f6043279553/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446973636f72642d2532333538363546322e7376673f266c6f676f3d646973636f7264266c6f676f436f6c6f723d7768697465)](https://discord.gg/rdftVMaUcS)[![](https://camo.githubusercontent.com/3241fd80ce3c94906dc38e2b4f6e1ec261c3a9c9b0930b1ec1a7e47690c933b0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6d75736973747564696f2f636c617564652d636f64652d726f75746572)](https://github.com/musistudio/claude-code-router/blob/main/LICENSE)\\n\\n* * *\\n\\n> I am currently seeking **Agent development related job opportunities**, either **based in Hangzhou** or **remote**. If you are interested in my projects or have suitable opportunities, feel free to reach out! üìß Email: [m@musiiot.top](mailto:m@musiiot.top)\\n\\n> A powerful tool to route Claude Code requests to different models and customize any request.\\n\\n> Now you can use models such as `GLM-4.5`, `Kimi-K2`, `Qwen3-Coder-480B-A35B`, and `DeepSeek v3.1` for free through the [iFlow Platform](https://platform.iflow.cn/docs/api-mode).\\n>\\n> You can use the `ccr ui` command to directly import the `iflow` template in the UI. It‚Äôs worth noting that iFlow limits each user to a concurrency of 1, which means you‚Äôll need to route background requests to other models.\\n>\\n> If you‚Äôd like a better experience, you can try [iFlow CLI](https://cli.iflow.cn/).\\n\\n[![](https://github.com/musistudio/claude-code-router/raw/main/blog/images/claude-code.png)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/claude-code.png)\\n\\n[![](https://github.com/musistudio/claude-code-router/raw/main/blog/images/roadmap.svg)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/roadmap.svg)\\n\\n## ‚ú® Features\\n\\n[Permalink: ‚ú® Features](https://github.com/musistudio/claude-code-router#-features)\\n\\n- **Model Routing**: Route requests to different models based on your needs (e.g., background tasks, thinking, long context).\\n- **Multi-Provider Support**: Supports various model providers like OpenRouter, DeepSeek, Ollama, Gemini, Volcengine, and SiliconFlow.\\n- **Request/Response Transformation**: Customize requests and responses for different providers using transformers.\\n- **Dynamic Model Switching**: Switch models on-the-fly within Claude Code using the `/model` command.\\n- **CLI Model Management**: Manage models and providers directly from the terminal with `ccr model`.\\n- **GitHub Actions Integration**: Trigger Claude Code tasks in your GitHub workflows.\\n- **Plugin System**: Extend functionality with custom transformers.\\n\\n## üöÄ Getting Started\\n\\n[Permalink: üöÄ Getting Started](https://github.com/musistudio/claude-code-router#-getting-started)\\n\\n### 1\\\\. Installation\\n\\n[Permalink: 1. Installation](https://github.com/musistudio/claude-code-router#1-installation)\\n\\nFirst, ensure you have [Claude Code](https://docs.anthropic.com/en/docs/claude-code/quickstart) installed:\\n\\n```\\nnpm install -g @anthropic-ai/claude-code\\n```\\n\\nThen, install Claude Code Router:\\n\\n```\\nnpm install -g @musistudio/claude-code-router\\n```\\n\\n### 2\\\\. Configuration\\n\\n[Permalink: 2. Configuration](https://github.com/musistudio/claude-code-router#2-configuration)\\n\\nCreate and configure your `~/.claude-code-router/config.json` file. For more details, you can refer to `config.example.json`.\\n\\nThe `config.json` file has several key sections:\\n\\n- **`PROXY_URL`** (optional): You can set a proxy for API requests, for example: `\\\"PROXY_URL\\\": \\\"http://127.0.0.1:7890\\\"`.\\n\\n- **`LOG`** (optional): You can enable logging by setting it to `true`. When set to `false`, no log files will be created. Default is `true`.\\n\\n- **`LOG_LEVEL`** (optional): Set the logging level. Available options are: `\\\"fatal\\\"`, `\\\"error\\\"`, `\\\"warn\\\"`, `\\\"info\\\"`, `\\\"debug\\\"`, `\\\"trace\\\"`. Default is `\\\"debug\\\"`.\\n\\n- **Logging Systems**: The Claude Code Router uses two separate logging systems:\\n  - **Server-level logs**: HTTP requests, API calls, and server events are logged using pino in the `~/.claude-code-router/logs/` directory with filenames like `ccr-*.log`\\n  - **Application-level logs**: Routing decisions and business logic events are logged in `~/.claude-code-router/claude-code-router.log`\\n- **`APIKEY`** (optional): You can set a secret key to authenticate requests. When set, clients must provide this key in the `Authorization` header (e.g., `Bearer your-secret-key`) or the `x-api-key` header. Example: `\\\"APIKEY\\\": \\\"your-secret-key\\\"`.\\n\\n- **`HOST`** (optional): You can set the host address for the server. If `APIKEY` is not set, the host will be forced to `127.0.0.1` for security reasons to prevent unauthorized access. Example: `\\\"HOST\\\": \\\"0.0.0.0\\\"`.\\n\\n- **`NON_INTERACTIVE_MODE`** (optional): When set to `true`, enables compatibility with non-interactive environments like GitHub Actions, Docker containers, or other CI/CD systems. This sets appropriate environment variables (`CI=true`, `FORCE_COLOR=0`, etc.) and configures stdin handling to prevent the process from hanging in automated environments. Example: `\\\"NON_INTERACTIVE_MODE\\\": true`.\\n\\n- **`Providers`**: Used to configure different model providers.\\n\\n- **`Router`**: Used to set up routing rules. `default` specifies the default model, which will be used for all requests if no other route is configured.\\n\\n- **`API_TIMEOUT_MS`**: Specifies the timeout for API calls in milliseconds.\\n\\n\\n#### Environment Variable Interpolation\\n\\n[Permalink: Environment Variable Interpolation](https://github.com/musistudio/claude-code-router#environment-variable-interpolation)\\n\\nClaude Code Router supports environment variable interpolation for secure API key management. You can reference environment variables in your `config.json` using either `$VAR_NAME` or `${VAR_NAME}` syntax:\\n\\n```\\n{\\n  \\\"OPENAI_API_KEY\\\": \\\"$OPENAI_API_KEY\\\",\\n  \\\"GEMINI_API_KEY\\\": \\\"${GEMINI_API_KEY}\\\",\\n  \\\"Providers\\\": [\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"openai\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://api.openai.com/v1/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"$OPENAI_API_KEY\\\",\\\\\\n      \\\"models\\\": [\\\"gpt-5\\\", \\\"gpt-5-mini\\\"]\\\\\\n    }\\\\\\n  ]\\n}\\n```\\n\\nThis allows you to keep sensitive API keys in environment variables instead of hardcoding them in configuration files. The interpolation works recursively through nested objects and arrays.\\n\\nHere is a comprehensive example:\\n\\n```\\n{\\n  \\\"APIKEY\\\": \\\"your-secret-key\\\",\\n  \\\"PROXY_URL\\\": \\\"http://127.0.0.1:7890\\\",\\n  \\\"LOG\\\": true,\\n  \\\"API_TIMEOUT_MS\\\": 600000,\\n  \\\"NON_INTERACTIVE_MODE\\\": false,\\n  \\\"Providers\\\": [\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"openrouter\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://openrouter.ai/api/v1/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"sk-xxx\\\",\\\\\\n      \\\"models\\\": [\\\\\\n        \\\"google/gemini-2.5-pro-preview\\\",\\\\\\n        \\\"anthropic/claude-sonnet-4\\\",\\\\\\n        \\\"anthropic/claude-3.5-sonnet\\\",\\\\\\n        \\\"anthropic/claude-3.7-sonnet:thinking\\\"\\\\\\n      ],\\\\\\n      \\\"transformer\\\": {\\\\\\n        \\\"use\\\": [\\\"openrouter\\\"]\\\\\\n      }\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"deepseek\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://api.deepseek.com/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"sk-xxx\\\",\\\\\\n      \\\"models\\\": [\\\"deepseek-chat\\\", \\\"deepseek-reasoner\\\"],\\\\\\n      \\\"transformer\\\": {\\\\\\n        \\\"use\\\": [\\\"deepseek\\\"],\\\\\\n        \\\"deepseek-chat\\\": {\\\\\\n          \\\"use\\\": [\\\"tooluse\\\"]\\\\\\n        }\\\\\\n      }\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"ollama\\\",\\\\\\n      \\\"api_base_url\\\": \\\"http://localhost:11434/v1/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"ollama\\\",\\\\\\n      \\\"models\\\": [\\\"qwen2.5-coder:latest\\\"]\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"gemini\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://generativelanguage.googleapis.com/v1beta/models/\\\",\\\\\\n      \\\"api_key\\\": \\\"sk-xxx\\\",\\\\\\n      \\\"models\\\": [\\\"gemini-2.5-flash\\\", \\\"gemini-2.5-pro\\\"],\\\\\\n      \\\"transformer\\\": {\\\\\\n        \\\"use\\\": [\\\"gemini\\\"]\\\\\\n      }\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"volcengine\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://ark.cn-beijing.volces.com/api/v3/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"sk-xxx\\\",\\\\\\n      \\\"models\\\": [\\\"deepseek-v3-250324\\\", \\\"deepseek-r1-250528\\\"],\\\\\\n      \\\"transformer\\\": {\\\\\\n        \\\"use\\\": [\\\"deepseek\\\"]\\\\\\n      }\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"modelscope\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://api-inference.modelscope.cn/v1/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"\\\",\\\\\\n      \\\"models\\\": [\\\"Qwen/Qwen3-Coder-480B-A35B-Instruct\\\", \\\"Qwen/Qwen3-235B-A22B-Thinking-2507\\\"],\\\\\\n      \\\"transformer\\\": {\\\\\\n        \\\"use\\\": [\\\\\\n          [\\\\\\n            \\\"maxtoken\\\",\\\\\\n            {\\\\\\n              \\\"max_tokens\\\": 65536\\\\\\n            }\\\\\\n          ],\\\\\\n          \\\"enhancetool\\\"\\\\\\n        ],\\\\\\n        \\\"Qwen/Qwen3-235B-A22B-Thinking-2507\\\": {\\\\\\n          \\\"use\\\": [\\\"reasoning\\\"]\\\\\\n        }\\\\\\n      }\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"dashscope\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"\\\",\\\\\\n      \\\"models\\\": [\\\"qwen3-coder-plus\\\"],\\\\\\n      \\\"transformer\\\": {\\\\\\n        \\\"use\\\": [\\\\\\n          [\\\\\\n            \\\"maxtoken\\\",\\\\\\n            {\\\\\\n              \\\"max_tokens\\\": 65536\\\\\\n            }\\\\\\n          ],\\\\\\n          \\\"enhancetool\\\"\\\\\\n        ]\\\\\\n      }\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"aihubmix\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://aihubmix.com/v1/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"sk-\\\",\\\\\\n      \\\"models\\\": [\\\\\\n        \\\"Z/glm-4.5\\\",\\\\\\n        \\\"claude-opus-4-20250514\\\",\\\\\\n        \\\"gemini-2.5-pro\\\"\\\\\\n      ]\\\\\\n    }\\\\\\n  ],\\n  \\\"Router\\\": {\\n    \\\"default\\\": \\\"deepseek,deepseek-chat\\\",\\n    \\\"background\\\": \\\"ollama,qwen2.5-coder:latest\\\",\\n    \\\"think\\\": \\\"deepseek,deepseek-reasoner\\\",\\n    \\\"longContext\\\": \\\"openrouter,google/gemini-2.5-pro-preview\\\",\\n    \\\"longContextThreshold\\\": 60000,\\n    \\\"webSearch\\\": \\\"gemini,gemini-2.5-flash\\\"\\n  }\\n}\\n```\\n\\n### 3\\\\. Running Claude Code with the Router\\n\\n[Permalink: 3. Running Claude Code with the Router](https://github.com/musistudio/claude-code-router#3-running-claude-code-with-the-router)\\n\\nStart Claude Code using the router:\\n\\n```\\nccr code\\n```\\n\\n> **Note**: After modifying the configuration file, you need to restart the service for the changes to take effect:\\n>\\n> ```\\n> ccr restart\\n> ```\\n\\n### 4\\\\. UI Mode\\n\\n[Permalink: 4. UI Mode](https://github.com/musistudio/claude-code-router#4-ui-mode)\\n\\nFor a more intuitive experience, you can use the UI mode to manage your configuration:\\n\\n```\\nccr ui\\n```\\n\\nThis will open a web-based interface where you can easily view and edit your `config.json` file.\\n\\n[![UI](https://github.com/musistudio/claude-code-router/raw/main/blog/images/ui.png)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/ui.png)\\n\\n### 5\\\\. CLI Model Management\\n\\n[Permalink: 5. CLI Model Management](https://github.com/musistudio/claude-code-router#5-cli-model-management)\\n\\nFor users who prefer terminal-based workflows, you can use the interactive CLI model selector:\\n\\n```\\nccr model\\n```\\n\\n[![](https://github.com/musistudio/claude-code-router/raw/main/blog/images/models.gif)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/models.gif)[![](https://github.com/musistudio/claude-code-router/raw/main/blog/images/models.gif)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/models.gif)[Open in new window](https://github.com/musistudio/claude-code-router/blob/main/blog/images/models.gif)\\n\\nThis command provides an interactive interface to:\\n\\n- View current configuration:\\n- See all configured models (default, background, think, longContext, webSearch, image)\\n- Switch models: Quickly change which model is used for each router type\\n- Add new models: Add models to existing providers\\n- Create new providers: Set up complete provider configurations including:\\n  - Provider name and API endpoint\\n  - API key\\n  - Available models\\n  - Transformer configuration with support for:\\n    - Multiple transformers (openrouter, deepseek, gemini, etc.)\\n    - Transformer options (e.g., maxtoken with custom limits)\\n    - Provider-specific routing (e.g., OpenRouter provider preferences)\\n\\nThe CLI tool validates all inputs and provides helpful prompts to guide you through the configuration process, making it easy to manage complex setups without editing JSON files manually.\\n\\n#### Providers\\n\\n[Permalink: Providers](https://github.com/musistudio/claude-code-router#providers)\\n\\nThe `Providers` array is where you define the different model providers you want to use. Each provider object requires:\\n\\n- `name`: A unique name for the provider.\\n- `api_base_url`: The full API endpoint for chat completions.\\n- `api_key`: Your API key for the provider.\\n- `models`: A list of model names available from this provider.\\n- `transformer` (optional): Specifies transformers to process requests and responses.\\n\\n#### Transformers\\n\\n[Permalink: Transformers](https://github.com/musistudio/claude-code-router#transformers)\\n\\nTransformers allow you to modify the request and response payloads to ensure compatibility with different provider APIs.\\n\\n- **Global Transformer**: Apply a transformer to all models from a provider. In this example, the `openrouter` transformer is applied to all models under the `openrouter` provider.\\n\\n\\n\\n```\\n{\\n    \\\"name\\\": \\\"openrouter\\\",\\n    \\\"api_base_url\\\": \\\"https://openrouter.ai/api/v1/chat/completions\\\",\\n    \\\"api_key\\\": \\\"sk-xxx\\\",\\n    \\\"models\\\": [\\\\\\n      \\\"google/gemini-2.5-pro-preview\\\",\\\\\\n      \\\"anthropic/claude-sonnet-4\\\",\\\\\\n      \\\"anthropic/claude-3.5-sonnet\\\"\\\\\\n    ],\\n    \\\"transformer\\\": { \\\"use\\\": [\\\"openrouter\\\"] }\\n}\\n```\\n\\n- **Model-Specific Transformer**: Apply a transformer to a specific model. In this example, the `deepseek` transformer is applied to all models, and an additional `tooluse` transformer is applied only to the `deepseek-chat` model.\\n\\n\\n\\n```\\n{\\n    \\\"name\\\": \\\"deepseek\\\",\\n    \\\"api_base_url\\\": \\\"https://api.deepseek.com/chat/completions\\\",\\n    \\\"api_key\\\": \\\"sk-xxx\\\",\\n    \\\"models\\\": [\\\"deepseek-chat\\\", \\\"deepseek-reasoner\\\"],\\n    \\\"transformer\\\": {\\n      \\\"use\\\": [\\\"deepseek\\\"],\\n      \\\"deepseek-chat\\\": { \\\"use\\\": [\\\"tooluse\\\"] }\\n    }\\n}\\n```\\n\\n- **Passing Options to a Transformer**: Some transformers, like `maxtoken`, accept options. To pass options, use a nested array where the first element is the transformer name and the second is an options object.\\n\\n\\n\\n```\\n{\\n    \\\"name\\\": \\\"siliconflow\\\",\\n    \\\"api_base_url\\\": \\\"https://api.siliconflow.cn/v1/chat/completions\\\",\\n    \\\"api_key\\\": \\\"sk-xxx\\\",\\n    \\\"models\\\": [\\\"moonshotai/Kimi-K2-Instruct\\\"],\\n    \\\"transformer\\\": {\\n      \\\"use\\\": [\\\\\\n        [\\\\\\n          \\\"maxtoken\\\",\\\\\\n          {\\\\\\n            \\\"max_tokens\\\": 16384\\\\\\n          }\\\\\\n        ]\\\\\\n      ]\\n    }\\n}\\n```\\n\\n\\n**Available Built-in Transformers:**\\n\\n- `Anthropic`:If you use only the `Anthropic` transformer, it will preserve the original request and response parameters(you can use it to connect directly to an Anthropic endpoint).\\n- `deepseek`: Adapts requests/responses for DeepSeek API.\\n- `gemini`: Adapts requests/responses for Gemini API.\\n- `openrouter`: Adapts requests/responses for OpenRouter API. It can also accept a `provider` routing parameter to specify which underlying providers OpenRouter should use. For more details, refer to the [OpenRouter documentation](https://openrouter.ai/docs/features/provider-routing). See an example below:\\n\\n\\n\\n```\\n    \\\"transformer\\\": {\\n      \\\"use\\\": [\\\"openrouter\\\"],\\n      \\\"moonshotai/kimi-k2\\\": {\\n        \\\"use\\\": [\\\\\\n          [\\\\\\n            \\\"openrouter\\\",\\\\\\n            {\\\\\\n              \\\"provider\\\": {\\\\\\n                \\\"only\\\": [\\\"moonshotai/fp8\\\"]\\\\\\n              }\\\\\\n            }\\\\\\n          ]\\\\\\n        ]\\n      }\\n    }\\n```\\n\\n- `groq`: Adapts requests/responses for groq API.\\n- `maxtoken`: Sets a specific `max_tokens` value.\\n- `tooluse`: Optimizes tool usage for certain models via `tool_choice`.\\n- `gemini-cli` (experimental): Unofficial support for Gemini via Gemini CLI [gemini-cli.js](https://gist.github.com/musistudio/1c13a65f35916a7ab690649d3df8d1cd).\\n- `reasoning`: Used to process the `reasoning_content` field.\\n- `sampling`: Used to process sampling information fields such as `temperature`, `top_p`, `top_k`, and `repetition_penalty`.\\n- `enhancetool`: Adds a layer of error tolerance to the tool call parameters returned by the LLM (this will cause the tool call information to no longer be streamed).\\n- `cleancache`: Clears the `cache_control` field from requests.\\n- `vertex-gemini`: Handles the Gemini API using Vertex authentication.\\n- `chutes-glm` Unofficial support for GLM 4.5 model via Chutes [chutes-glm-transformer.js](https://gist.github.com/vitobotta/2be3f33722e05e8d4f9d2b0138b8c863).\\n- `qwen-cli` (experimental): Unofficial support for qwen3-coder-plus model via Qwen CLI [qwen-cli.js](https://gist.github.com/musistudio/f5a67841ced39912fd99e42200d5ca8b).\\n- `rovo-cli` (experimental): Unofficial support for gpt-5 via Atlassian Rovo Dev CLI [rovo-cli.js](https://gist.github.com/SaseQ/c2a20a38b11276537ec5332d1f7a5e53).\\n\\n**Custom Transformers:**\\n\\nYou can also create your own transformers and load them via the `transformers` field in `config.json`.\\n\\n```\\n{\\n  \\\"transformers\\\": [\\\\\\n    {\\\\\\n      \\\"path\\\": \\\"/User/xxx/.claude-code-router/plugins/gemini-cli.js\\\",\\\\\\n      \\\"options\\\": {\\\\\\n        \\\"project\\\": \\\"xxx\\\"\\\\\\n      }\\\\\\n    }\\\\\\n  ]\\n}\\n```\\n\\n#### Router\\n\\n[Permalink: Router](https://github.com/musistudio/claude-code-router#router)\\n\\nThe `Router` object defines which model to use for different scenarios:\\n\\n- `default`: The default model for general tasks.\\n\\n- `background`: A model for background tasks. This can be a smaller, local model to save costs.\\n\\n- `think`: A model for reasoning-heavy tasks, like Plan Mode.\\n\\n- `longContext`: A model for handling long contexts (e.g., > 60K tokens).\\n\\n- `longContextThreshold` (optional): The token count threshold for triggering the long context model. Defaults to 60000 if not specified.\\n\\n- `webSearch`: Used for handling web search tasks and this requires the model itself to support the feature. If you're using openrouter, you need to add the `:online` suffix after the model name.\\n\\n- `image` (beta): Used for handling image-related tasks (supported by CCR‚Äôs built-in agent). If the model does not support tool calling, you need to set the `config.forceUseImageAgent` property to `true`.\\n\\n- You can also switch models dynamically in Claude Code with the `/model` command:\\n`/model provider_name,model_name`\\nExample: `/model openrouter,anthropic/claude-3.5-sonnet`\\n\\n\\n#### Custom Router\\n\\n[Permalink: Custom Router](https://github.com/musistudio/claude-code-router#custom-router)\\n\\nFor more advanced routing logic, you can specify a custom router script via the `CUSTOM_ROUTER_PATH` in your `config.json`. This allows you to implement complex routing rules beyond the default scenarios.\\n\\nIn your `config.json`:\\n\\n```\\n{\\n  \\\"CUSTOM_ROUTER_PATH\\\": \\\"/User/xxx/.claude-code-router/custom-router.js\\\"\\n}\\n```\\n\\nThe custom router file must be a JavaScript module that exports an `async` function. This function receives the request object and the config object as arguments and should return the provider and model name as a string (e.g., `\\\"provider_name,model_name\\\"`), or `null` to fall back to the default router.\\n\\nHere is an example of a `custom-router.js` based on `custom-router.example.js`:\\n\\n```\\n// /User/xxx/.claude-code-router/custom-router.js\\n\\n/**\\n * A custom router function to determine which model to use based on the request.\\n *\\n * @param {object} req - The request object from Claude Code, containing the request body.\\n * @param {object} config - The application's config object.\\n * @returns {Promise<string|null>} - A promise that resolves to the \\\"provider,model_name\\\" string, or null to use the default router.\\n */\\nmodule.exports = async function router(req, config) {\\n  const userMessage = req.body.messages.find((m) => m.role === \\\"user\\\")?.content;\\n\\n  if (userMessage && userMessage.includes(\\\"explain this code\\\")) {\\n    // Use a powerful model for code explanation\\n    return \\\"openrouter,anthropic/claude-3.5-sonnet\\\";\\n  }\\n\\n  // Fallback to the default router configuration\\n  return null;\\n};\\n```\\n\\n##### Subagent Routing\\n\\n[Permalink: Subagent Routing](https://github.com/musistudio/claude-code-router#subagent-routing)\\n\\nFor routing within subagents, you must specify a particular provider and model by including `<CCR-SUBAGENT-MODEL>provider,model</CCR-SUBAGENT-MODEL>` at the **beginning** of the subagent's prompt. This allows you to direct specific subagent tasks to designated models.\\n\\n**Example:**\\n\\n```\\n<CCR-SUBAGENT-MODEL>openrouter,anthropic/claude-3.5-sonnet</CCR-SUBAGENT-MODEL>\\nPlease help me analyze this code snippet for potential optimizations...\\n```\\n\\n## Status Line (Beta)\\n\\n[Permalink: Status Line (Beta)](https://github.com/musistudio/claude-code-router#status-line-beta)\\n\\nTo better monitor the status of claude-code-router at runtime, version v1.0.40 includes a built-in statusline tool, which you can enable in the UI.\\n[![statusline-config.png](https://github.com/musistudio/claude-code-router/raw/main/blog/images/statusline-config.png)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/statusline-config.png)\\n\\nThe effect is as follows:\\n[![statusline](https://github.com/musistudio/claude-code-router/raw/main/blog/images/statusline.png)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/statusline.png)\\n\\n## ü§ñ GitHub Actions\\n\\n[Permalink: ü§ñ GitHub Actions](https://github.com/musistudio/claude-code-router#-github-actions)\\n\\nIntegrate Claude Code Router into your CI/CD pipeline. After setting up [Claude Code Actions](https://docs.anthropic.com/en/docs/claude-code/github-actions), modify your `.github/workflows/claude.yaml` to use the router:\\n\\n```\\nname: Claude Code\\n\\non:\\n  issue_comment:\\n    types: [created]\\n  # ... other triggers\\n\\njobs:\\n  claude:\\n    if: |\\n      (github.event_name == 'issue_comment' && contains(github.event.comment.body, '@claude')) ||\\n      # ... other conditions\\n    runs-on: ubuntu-latest\\n    permissions:\\n      contents: read\\n      pull-requests: read\\n      issues: read\\n      id-token: write\\n    steps:\\n      - name: Checkout repository\\n        uses: actions/checkout@v4\\n        with:\\n          fetch-depth: 1\\n\\n      - name: Prepare Environment\\n        run: |\\n          curl -fsSL https://bun.sh/install | bash\\n          mkdir -p $HOME/.claude-code-router\\n          cat << 'EOF' > $HOME/.claude-code-router/config.json\\n          {\\n            \\\"log\\\": true,\\n            \\\"NON_INTERACTIVE_MODE\\\": true,\\n            \\\"OPENAI_API_KEY\\\": \\\"${{ secrets.OPENAI_API_KEY }}\\\",\\n            \\\"OPENAI_BASE_URL\\\": \\\"https://api.deepseek.com\\\",\\n            \\\"OPENAI_MODEL\\\": \\\"deepseek-chat\\\"\\n          }\\n          EOF\\n        shell: bash\\n\\n      - name: Start Claude Code Router\\n        run: |\\n          nohup ~/.bun/bin/bunx @musistudio/claude-code-router@1.0.8 start &\\n        shell: bash\\n\\n      - name: Run Claude Code\\n        id: claude\\n        uses: anthropics/claude-code-action@beta\\n        env:\\n          ANTHROPIC_BASE_URL: http://localhost:3456\\n        with:\\n          anthropic_api_key: \\\"any-string-is-ok\\\"\\n```\\n\\n> **Note**: When running in GitHub Actions or other automation environments, make sure to set `\\\"NON_INTERACTIVE_MODE\\\": true` in your configuration to prevent the process from hanging due to stdin handling issues.\\n\\nThis setup allows for interesting automations, like running tasks during off-peak hours to reduce API costs.\\n\\n## üìù Further Reading\\n\\n[Permalink: üìù Further Reading](https://github.com/musistudio/claude-code-router#-further-reading)\\n\\n- [Project Motivation and How It Works](https://github.com/musistudio/claude-code-router/blob/main/blog/en/project-motivation-and-how-it-works.md)\\n- [Maybe We Can Do More with the Router](https://github.com/musistudio/claude-code-router/blob/main/blog/en/maybe-we-can-do-more-with-the-route.md)\\n\\n## ‚ù§Ô∏è Support & Sponsoring\\n\\n[Permalink: ‚ù§Ô∏è Support & Sponsoring](https://github.com/musistudio/claude-code-router#%EF%B8%8F-support--sponsoring)\\n\\nIf you find this project helpful, please consider sponsoring its development. Your support is greatly appreciated!\\n\\n[![ko-fi](https://camo.githubusercontent.com/70e2ef5e0263b261f9a2a314bb1d6919d1d43292eed117fe8fc766a68c7d96ea/68747470733a2f2f6b6f2d66692e636f6d2f696d672f676974687562627574746f6e5f736d2e737667)](https://ko-fi.com/F1F31GN2GM)\\n\\n[Paypal](https://paypal.me/musistudio1999)\\n\\n|     |     |\\n| --- | --- |\\n| [![Alipay](https://github.com/musistudio/claude-code-router/raw/main/blog/images/alipay.jpg)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/alipay.jpg) | [![WeChat Pay](https://github.com/musistudio/claude-code-router/raw/main/blog/images/wechat.jpg)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/wechat.jpg) |\\n\\n### Our Sponsors\\n\\n[Permalink: Our Sponsors](https://github.com/musistudio/claude-code-router#our-sponsors)\\n\\nA huge thank you to all our sponsors for their generous support!\\n\\n- [AIHubmix](https://aihubmix.com/)\\n- [BurnCloud](https://ai.burncloud.com/)\\n- [302.AI](https://share.302.ai/ZGVF9w)\\n- [ZÊô∫Ë∞±](https://www.bigmodel.cn/claude-code?ic=FPF9IVAGFJ)\\n- @Simon Leischnig\\n- [@duanshuaimin](https://github.com/duanshuaimin)\\n- [@vrgitadmin](https://github.com/vrgitadmin)\\n- @\\\\*o\\n- [@ceilwoo](https://github.com/ceilwoo)\\n- @\\\\*ËØ¥\\n- @\\\\*Êõ¥\\n- @K\\\\*g\\n- @R\\\\*R\\n- [@bobleer](https://github.com/bobleer)\\n- @\\\\*Ëãó\\n- @\\\\*Âàí\\n- [@Clarence-pan](https://github.com/Clarence-pan)\\n- [@carter003](https://github.com/carter003)\\n- @S\\\\*r\\n- @\\\\*Êôñ\\n- @\\\\*Êïè\\n- @Z\\\\*z\\n- @\\\\*ÁÑ∂\\n- [@cluic](https://github.com/cluic)\\n- @\\\\*Ëãó\\n- [@PromptExpert](https://github.com/PromptExpert)\\n- @\\\\*Â∫î\\n- [@yusnake](https://github.com/yusnake)\\n- @\\\\*È£û\\n- @Ëë£\\\\*\\n- @\\\\*Ê±Ä\\n- @\\\\*Ê∂Ø\\n- @\\\\*:-Ôºâ\\n- @\\\\*\\\\*Á£ä\\n- @\\\\*Áê¢\\n- @\\\\*Êàê\\n- @Z\\\\*o\\n- @\\\\*Áê®\\n- [@congzhangzh](https://github.com/congzhangzh)\\n- @\\\\*\\\\_\\n- @Z\\\\*m\\n- @\\\\*Èë´\\n- @c\\\\*y\\n- @\\\\*Êòï\\n- [@witsice](https://github.com/witsice)\\n- @b\\\\*g\\n- @\\\\*‰∫ø\\n- @\\\\*Ëæâ\\n- @JACK\\n- @\\\\*ÂÖâ\\n- @W\\\\*l\\n- [@kesku](https://github.com/kesku)\\n- [@biguncle](https://github.com/biguncle)\\n- @‰∫åÂêâÂêâ\\n- @a\\\\*g\\n- @\\\\*Êûó\\n- @\\\\*Âí∏\\n- @\\\\*Êòé\\n- @S\\\\*y\\n- @f\\\\*o\\n- @\\\\*Êô∫\\n- @F\\\\*t\\n- @r\\\\*c\\n- [@qierkang](http://github.com/qierkang)\\n- @\\\\*ÂÜõ\\n- [@snrise-z](http://github.com/snrise-z)\\n- @\\\\*Áéã\\n- [@greatheart1000](http://github.com/greatheart1000)\\n- @\\\\*Áéã\\n- @zcutlip\\n- [@Peng-YM](http://github.com/Peng-YM)\\n- @\\\\*Êõ¥\\n- @\\\\*.\\n- @F\\\\*t\\n- @\\\\*Êîø\\n- @\\\\*Èì≠\\n- @\\\\*Âè∂\\n- @‰∏É\\\\*o\\n- @\\\\*Èùí\\n- @\\\\*\\\\*Êô®\\n- @\\\\*Ëøú\\n- @\\\\*ÈúÑ\\n- @\\\\*\\\\*Âêâ\\n- @\\\\*\\\\*È£û\\n- @\\\\*\\\\*È©∞\\n- @x\\\\*g\\n- @\\\\*\\\\*‰∏ú\\n- @\\\\*ËêΩ\\n- @ÂìÜ\\\\*k\\n- @\\\\*Ê∂õ\\n- [@ËãóÂ§ß](https://github.com/WitMiao)\\n- @\\\\*Âë¢\\n- @\\\\\\\\d\\\\*u\\n\\n(If your name is masked, please contact me via my homepage email to update it with your GitHub username.)\\n\\n## About\\n\\nUse Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\\n\\n\\n### Resources\\n\\n[Readme](https://github.com/musistudio/claude-code-router#readme-ov-file)\\n\\n### License\\n\\n[MIT license](https://github.com/musistudio/claude-code-router#MIT-1-ov-file)\\n\\n### Uh oh!\\n\\nThere was an error while loading. [Please reload this page](https://github.com/musistudio/claude-code-router).\\n\\n[Activity](https://github.com/musistudio/claude-code-router/activity)\\n\\n### Stars\\n\\n[**20.7k**\\\\\\\\\\nstars](https://github.com/musistudio/claude-code-router/stargazers)\\n\\n### Watchers\\n\\n[**85**\\\\\\\\\\nwatching](https://github.com/musistudio/claude-code-router/watchers)\\n\\n### Forks\\n\\n[**1.6k**\\\\\\\\\\nforks](https://github.com/musistudio/claude-code-router/forks)\\n\\n[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fmusistudio%2Fclaude-code-router&report=musistudio+%28user%29)\\n\\n### Uh oh!\\n\\nThere was an error while loading. [Please reload this page](https://github.com/musistudio/claude-code-router).\\n\\n## [Contributors\\\\  25](https://github.com/musistudio/claude-code-router/graphs/contributors)\\n\\n- [![@musistudio](https://avatars.githubusercontent.com/u/21162426?s=64&v=4)](https://github.com/musistudio)\\n- [![@TonyGeez](https://avatars.githubusercontent.com/u/141154740?s=64&v=4)](https://github.com/TonyGeez)\\n- [![@claude](https://avatars.githubusercontent.com/u/81847?s=64&v=4)](https://github.com/claude)\\n- [![@BigUncle](https://avatars.githubusercontent.com/u/9360607?s=64&v=4)](https://github.com/BigUncle)\\n- [![@sbtobb](https://avatars.githubusercontent.com/u/8125099?s=64&v=4)](https://github.com/sbtobb)\\n- [![@jagnani73](https://avatars.githubusercontent.com/u/60016972?s=64&v=4)](https://github.com/jagnani73)\\n- [![@SaseQ](https://avatars.githubusercontent.com/u/68428394?s=64&v=4)](https://github.com/SaseQ)\\n- [![@semikolon](https://avatars.githubusercontent.com/u/13872?s=64&v=4)](https://github.com/semikolon)\\n- [![@semidark](https://avatars.githubusercontent.com/u/5747735?s=64&v=4)](https://github.com/semidark)\\n- [![@Thlnking](https://avatars.githubusercontent.com/u/38023375?s=64&v=4)](https://github.com/Thlnking)\\n- [![@vitobotta](https://avatars.githubusercontent.com/u/283811?s=64&v=4)](https://github.com/vitobotta)\\n- [![@geocine](https://avatars.githubusercontent.com/u/507464?s=64&v=4)](https://github.com/geocine)\\n- [![@stonega](https://avatars.githubusercontent.com/u/2262007?s=64&v=4)](https://github.com/stonega)\\n- [![@RobinChiu](https://avatars.githubusercontent.com/u/7788730?s=64&v=4)](https://github.com/RobinChiu)\\n\\n[\\\\+ 11 contributors](https://github.com/musistudio/claude-code-router/graphs/contributors)\\n\\n## Languages\\n\\n- [TypeScript95.4%](https://github.com/musistudio/claude-code-router/search?l=typescript)\\n- [JavaScript2.9%](https://github.com/musistudio/claude-code-router/search?l=javascript)\\n- [CSS1.6%](https://github.com/musistudio/claude-code-router/search?l=css)\\n- Other0.1%\\n\\nYou can‚Äôt perform that action at this time.\",\n  \"metadata\": {\n    \"twitter:title\": \"GitHub - musistudio/claude-code-router: Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\",\n    \"current-catalog-service-hash\": \"f3abb0cc802f3d7b95fc8762b94bdcb13bf39634c40c357301c4aa1d67a256fb\",\n    \"hovercard-subject-tag\": \"repository:938468965\",\n    \"twitter:card\": \"summary_large_image\",\n    \"twitter:site\": \"@github\",\n    \"ogUrl\": \"https://github.com/musistudio/claude-code-router\",\n    \"ui-target\": \"full\",\n    \"analytics-location\": \"/<user-name>/<repo-name>\",\n    \"og:title\": \"GitHub - musistudio/claude-code-router: Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\",\n    \"theme-color\": \"#1e2327\",\n    \"ogSiteName\": \"GitHub\",\n    \"go-import\": \"github.com/musistudio/claude-code-router git https://github.com/musistudio/claude-code-router.git\",\n    \"hostname\": \"github.com\",\n    \"expected-hostname\": \"github.com\",\n    \"visitor-payload\": \"eyJyZWZlcnJlciI6IiIsInJlcXVlc3RfaWQiOiI3NjRCOjNCODhDMjo5RTYxMkM6Q0QwMjA1OjY5MDc2OTZBIiwidmlzaXRvcl9pZCI6IjExMDM4MDg1NzY4MTQwMTY4NzQiLCJyZWdpb25fZWRnZSI6ImlhZCIsInJlZ2lvbl9yZW5kZXIiOiJpYWQifQ==\",\n    \"twitter:image\": \"https://opengraph.githubassets.com/6e61c205beab89eae8d5fd2ba24ad895930230f77edf3324f8453190eca5c5a5/musistudio/claude-code-router\",\n    \"octolytics-dimension-user_id\": \"21162426\",\n    \"twitter:description\": \"Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic. - musistudio/claude-code-router\",\n    \"octolytics-dimension-repository_id\": \"938468965\",\n    \"og:image:height\": \"600\",\n    \"og:url\": \"https://github.com/musistudio/claude-code-router\",\n    \"fb:app_id\": \"1401488693436528\",\n    \"google-site-verification\": \"Apib7-x98H0j5cPqHWwSMm6dNU4GmODRoqxLiDzdx9I\",\n    \"og:image:width\": \"1200\",\n    \"octolytics-dimension-repository_public\": \"true\",\n    \"language\": \"en\",\n    \"octolytics-dimension-repository_network_root_nwo\": \"musistudio/claude-code-router\",\n    \"route-action\": \"disambiguate\",\n    \"ogTitle\": \"GitHub - musistudio/claude-code-router: Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\",\n    \"og:image:alt\": \"Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic. - musistudio/claude-code-router\",\n    \"ogDescription\": \"Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic. - musistudio/claude-code-router\",\n    \"octolytics-url\": \"https://collector.github.com/github/collect\",\n    \"octolytics-dimension-repository_nwo\": \"musistudio/claude-code-router\",\n    \"visitor-hmac\": \"264925dff110164627fece523478709ca3101661083adb6f330514706459dedd\",\n    \"browser-stats-url\": \"https://api.github.com/_private/browser/stats\",\n    \"browser-errors-url\": \"https://api.github.com/_private/browser/errors\",\n    \"github-keyboard-shortcuts\": \"repository,copilot\",\n    \"color-scheme\": \"light dark\",\n    \"favicon\": \"https://github.githubassets.com/favicons/favicon.svg\",\n    \"og:type\": \"object\",\n    \"fetch-nonce\": \"v2:966547c0-1851-35f0-3942-623a9b51dc06\",\n    \"apple-itunes-app\": \"app-id=1477376905, app-argument=https://github.com/musistudio/claude-code-router\",\n    \"turbo-body-classes\": \"logged-out env-production page-responsive\",\n    \"route-controller\": \"files\",\n    \"octolytics-dimension-repository_is_fork\": \"false\",\n    \"og:description\": \"Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic. - musistudio/claude-code-router\",\n    \"release\": \"6f0a50c83824a7b7b3ed4ac8a758c063075591b0\",\n    \"title\": \"GitHub - musistudio/claude-code-router: Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\",\n    \"description\": \"Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic. - musistudio/claude-code-router\",\n    \"og:image\": \"https://opengraph.githubassets.com/6e61c205beab89eae8d5fd2ba24ad895930230f77edf3324f8453190eca5c5a5/musistudio/claude-code-router\",\n    \"viewport\": \"width=device-width\",\n    \"user-login\": \"\",\n    \"octolytics-dimension-user_login\": \"musistudio\",\n    \"turbo-cache-control\": \"no-preview\",\n    \"html-safe-nonce\": \"7d823fd9c8f69c10bc31ac2d702a9e77ba1916fd890e420640f66d7a9f0ba79f\",\n    \"request-id\": \"764B:3B88C2:9E612C:CD0205:6907696A\",\n    \"og:site_name\": \"GitHub\",\n    \"octolytics-dimension-repository_network_root_id\": \"938468965\",\n    \"route-pattern\": \"/:user_id/:repository\",\n    \"ogImage\": \"https://opengraph.githubassets.com/6e61c205beab89eae8d5fd2ba24ad895930230f77edf3324f8453190eca5c5a5/musistudio/claude-code-router\",\n    \"scrapeId\": \"4f85bf85-8d08-41e8-be6f-21d63d57234e\",\n    \"sourceURL\": \"https://github.com/musistudio/claude-code-router\",\n    \"url\": \"https://github.com/musistudio/claude-code-router\",\n    \"statusCode\": 200,\n    \"contentType\": \"text/html; charset=utf-8\",\n    \"proxyUsed\": \"basic\",\n    \"cacheState\": \"hit\",\n    \"cachedAt\": \"2025-11-02T14:23:43.606Z\",\n    \"creditsUsed\": 1\n  }\n}"}]}]},"uuid":"ca8d681d-dbc2-4390-9d8a-2132c42afa3c","timestamp":"2025-11-03T14:36:53.612Z","toolUseResult":[{"type":"text","text":"{\n  \"markdown\": \"[Skip to content](https://github.com/musistudio/claude-code-router#start-of-content)\\n\\nYou signed in with another tab or window. [Reload](https://github.com/musistudio/claude-code-router) to refresh your session.You signed out in another tab or window. [Reload](https://github.com/musistudio/claude-code-router) to refresh your session.You switched accounts on another tab or window. [Reload](https://github.com/musistudio/claude-code-router) to refresh your session.Dismiss alert\\n\\n{{ message }}\\n\\n[musistudio](https://github.com/musistudio)/ **[claude-code-router](https://github.com/musistudio/claude-code-router)** Public\\n\\n- [Notifications](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router) You must be signed in to change notification settings\\n- [Fork\\\\\\\\\\n1.6k](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)\\n- [Star\\\\\\\\\\n20.7k](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)\\n\\n\\nUse Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\\n\\n\\n### License\\n\\n[MIT license](https://github.com/musistudio/claude-code-router/blob/main/LICENSE)\\n\\n[20.7k\\\\\\\\\\nstars](https://github.com/musistudio/claude-code-router/stargazers) [1.6k\\\\\\\\\\nforks](https://github.com/musistudio/claude-code-router/forks) [Branches](https://github.com/musistudio/claude-code-router/branches) [Tags](https://github.com/musistudio/claude-code-router/tags) [Activity](https://github.com/musistudio/claude-code-router/activity)\\n\\n[Star](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)\\n\\n[Notifications](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router) You must be signed in to change notification settings\\n\\n# musistudio/claude-code-router\\n\\nmain\\n\\n[**11** Branches](https://github.com/musistudio/claude-code-router/branches) [**0** Tags](https://github.com/musistudio/claude-code-router/tags)\\n\\n[Go to Branches page](https://github.com/musistudio/claude-code-router/branches)[Go to Tags page](https://github.com/musistudio/claude-code-router/tags)\\n\\nGo to file\\n\\nCode\\n\\nOpen more actions menu\\n\\n## Folders and files\\n\\n| Name | Name | Last commit message | Last commit date |\\n| --- | --- | --- | --- |\\n| ## Latest commit<br>[![musistudio](https://avatars.githubusercontent.com/u/21162426?v=4&size=40)](https://github.com/musistudio)[musistudio](https://github.com/musistudio/claude-code-router/commits?author=musistudio)<br>[update sponsors](https://github.com/musistudio/claude-code-router/commit/7b126f0436612de05f704a16e4d9f4c056d26556)<br>3 days agoOct 30, 2025<br>[7b126f0](https://github.com/musistudio/claude-code-router/commit/7b126f0436612de05f704a16e4d9f4c056d26556)¬†¬∑¬†3 days agoOct 30, 2025<br>## History<br>[294 Commits](https://github.com/musistudio/claude-code-router/commits/main/) <br>Open commit details<br>[View commit history for this file.](https://github.com/musistudio/claude-code-router/commits/main/) |\\n| [blog](https://github.com/musistudio/claude-code-router/tree/main/blog \\\"blog\\\") | [blog](https://github.com/musistudio/claude-code-router/tree/main/blog \\\"blog\\\") | [Add files via upload](https://github.com/musistudio/claude-code-router/commit/2585a3b9d2bab6aaa91ddc86f54dc936de427269 \\\"Add files via upload\\\") | 3 weeks agoOct 12, 2025 |\\n| [scripts](https://github.com/musistudio/claude-code-router/tree/main/scripts \\\"scripts\\\") | [scripts](https://github.com/musistudio/claude-code-router/tree/main/scripts \\\"scripts\\\") | [feat: add UI build to build process](https://github.com/musistudio/claude-code-router/commit/112d7ef8f98e8122c5ff691fe6a723347e951a99 \\\"feat: add UI build to build process  - Created separate build script to handle both CLI and UI building - Added automatic UI dependency installation - Copy built UI artifacts to dist directory  ü§ñ Generated with [Claude Code](https://claude.ai/code)  Co-Authored-By: Claude <noreply@anthropic.com>\\\") | 4 months agoJul 29, 2025 |\\n| [src](https://github.com/musistudio/claude-code-router/tree/main/src \\\"src\\\") | [src](https://github.com/musistudio/claude-code-router/tree/main/src \\\"src\\\") | [release v1.0.64](https://github.com/musistudio/claude-code-router/commit/1a4462a92362e8c41d4539dc1a79fb85fccf9559 \\\"release v1.0.64\\\") | 2 weeks agoOct 21, 2025 |\\n| [ui](https://github.com/musistudio/claude-code-router/tree/main/ui \\\"ui\\\") | [ui](https://github.com/musistudio/claude-code-router/tree/main/ui \\\"ui\\\") | [fix ui bug and optimize session config](https://github.com/musistudio/claude-code-router/commit/916b110c3ccc8e95f523c3b012ea81816bd0d82d \\\"fix ui bug and optimize session config\\\") | 2 weeks agoOct 21, 2025 |\\n| [.dockerignore](https://github.com/musistudio/claude-code-router/blob/main/.dockerignore \\\".dockerignore\\\") | [.dockerignore](https://github.com/musistudio/claude-code-router/blob/main/.dockerignore \\\".dockerignore\\\") | [config(docker): Add Docker configuration files](https://github.com/musistudio/claude-code-router/commit/30bf711a2a3dbaa22a9237fcc843d16bc807bc6d \\\"config(docker): Add Docker configuration files\\\") | 6 months agoMay 5, 2025 |\\n| [.gitignore](https://github.com/musistudio/claude-code-router/blob/main/.gitignore \\\".gitignore\\\") | [.gitignore](https://github.com/musistudio/claude-code-router/blob/main/.gitignore \\\".gitignore\\\") | [Add model selector command](https://github.com/musistudio/claude-code-router/commit/3de89ba9f30949ce94bf7a90cf518991a591871b \\\"Add model selector command\\\") | last monthOct 5, 2025 |\\n| [.npmignore](https://github.com/musistudio/claude-code-router/blob/main/.npmignore \\\".npmignore\\\") | [.npmignore](https://github.com/musistudio/claude-code-router/blob/main/.npmignore \\\".npmignore\\\") | [release v1.0.30](https://github.com/musistudio/claude-code-router/commit/7acb443aad8d6ce2c88e66105d0c83e21da306aa \\\"release v1.0.30\\\") | 4 months agoJul 30, 2025 |\\n| [CLAUDE.md](https://github.com/musistudio/claude-code-router/blob/main/CLAUDE.md \\\"CLAUDE.md\\\") | [CLAUDE.md](https://github.com/musistudio/claude-code-router/blob/main/CLAUDE.md \\\"CLAUDE.md\\\") | [add ccr statusline command](https://github.com/musistudio/claude-code-router/commit/0e509528c21201de80da0ed1c9aa1e5e105302a0 \\\"add ccr statusline command\\\") | 3 months agoAug 15, 2025 |\\n| [Dockerfile](https://github.com/musistudio/claude-code-router/blob/main/Dockerfile \\\"Dockerfile\\\") | [Dockerfile](https://github.com/musistudio/claude-code-router/blob/main/Dockerfile \\\"Dockerfile\\\") | [optimize docker deployment](https://github.com/musistudio/claude-code-router/commit/e670302e9ed72b263b2b1c3cfabebeaeaff6c4ac \\\"optimize docker deployment\\\") | 2 months agoSep 2, 2025 |\\n| [LICENSE](https://github.com/musistudio/claude-code-router/blob/main/LICENSE \\\"LICENSE\\\") | [LICENSE](https://github.com/musistudio/claude-code-router/blob/main/LICENSE \\\"LICENSE\\\") | [add LICENSE](https://github.com/musistudio/claude-code-router/commit/9cffebf08108e6a2b06d89d37ce5d33274a2ac4a \\\"add LICENSE\\\") | 5 months agoJun 10, 2025 |\\n| [README.md](https://github.com/musistudio/claude-code-router/blob/main/README.md \\\"README.md\\\") | [README.md](https://github.com/musistudio/claude-code-router/blob/main/README.md \\\"README.md\\\") | [update sponsors](https://github.com/musistudio/claude-code-router/commit/7b126f0436612de05f704a16e4d9f4c056d26556 \\\"update sponsors\\\") | 3 days agoOct 30, 2025 |\\n| [README\\\\_zh.md](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md \\\"README_zh.md\\\") | [README\\\\_zh.md](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md \\\"README_zh.md\\\") | [update sponsors](https://github.com/musistudio/claude-code-router/commit/7b126f0436612de05f704a16e4d9f4c056d26556 \\\"update sponsors\\\") | 3 days agoOct 30, 2025 |\\n| [custom-router.example.js](https://github.com/musistudio/claude-code-router/blob/main/custom-router.example.js \\\"custom-router.example.js\\\") | [custom-router.example.js](https://github.com/musistudio/claude-code-router/blob/main/custom-router.example.js \\\"custom-router.example.js\\\") | [release v1.0.24 to support custom router](https://github.com/musistudio/claude-code-router/commit/5e14b9b0e1f4dd27ede0979d76adb446d105d9a3 \\\"release v1.0.24 to support custom router\\\") | 4 months agoJul 21, 2025 |\\n| [docker-compose.yml](https://github.com/musistudio/claude-code-router/blob/main/docker-compose.yml \\\"docker-compose.yml\\\") | [docker-compose.yml](https://github.com/musistudio/claude-code-router/blob/main/docker-compose.yml \\\"docker-compose.yml\\\") | [update docker file](https://github.com/musistudio/claude-code-router/commit/3a12fdffb1f997fd0c9e7042f4b9fbde39704cb5 \\\"update docker file\\\") | 4 months agoJul 30, 2025 |\\n| [package.json](https://github.com/musistudio/claude-code-router/blob/main/package.json \\\"package.json\\\") | [package.json](https://github.com/musistudio/claude-code-router/blob/main/package.json \\\"package.json\\\") | [release v1.0.64](https://github.com/musistudio/claude-code-router/commit/1a4462a92362e8c41d4539dc1a79fb85fccf9559 \\\"release v1.0.64\\\") | 2 weeks agoOct 21, 2025 |\\n| [pnpm-lock.yaml](https://github.com/musistudio/claude-code-router/blob/main/pnpm-lock.yaml \\\"pnpm-lock.yaml\\\") | [pnpm-lock.yaml](https://github.com/musistudio/claude-code-router/blob/main/pnpm-lock.yaml \\\"pnpm-lock.yaml\\\") | [release v1.0.61](https://github.com/musistudio/claude-code-router/commit/c4f8f937df93355ffea1c4849c997b49a90c1bb2 \\\"release v1.0.61\\\") | 3 weeks agoOct 14, 2025 |\\n| [tsconfig.json](https://github.com/musistudio/claude-code-router/blob/main/tsconfig.json \\\"tsconfig.json\\\") | [tsconfig.json](https://github.com/musistudio/claude-code-router/blob/main/tsconfig.json \\\"tsconfig.json\\\") | [support deepseek-v3-20250324](https://github.com/musistudio/claude-code-router/commit/93fcd77544f287148d0f7f0e23d599807cb9c07e \\\"support deepseek-v3-20250324\\\") | 8 months agoMar 25, 2025 |\\n| View all files |\\n\\n## Repository files navigation\\n\\n[![](https://github.com/musistudio/claude-code-router/raw/main/blog/images/claude-code-router-img.png)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/claude-code-router-img.png)\\n\\n[![](https://camo.githubusercontent.com/ec911a136f08a1d3ccba9e16ac7078d405043119f92e6b0f4da80b662e71c795/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2546302539462538372541382546302539462538372542332d2545342542382541442545362539362538372545372538392538382d6666303030303f7374796c653d666c6174)](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md)[![Discord](https://camo.githubusercontent.com/15d038c49987b089c614a1f93c8742f024b0d05c0cb9627e52cb6f6043279553/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446973636f72642d2532333538363546322e7376673f266c6f676f3d646973636f7264266c6f676f436f6c6f723d7768697465)](https://discord.gg/rdftVMaUcS)[![](https://camo.githubusercontent.com/3241fd80ce3c94906dc38e2b4f6e1ec261c3a9c9b0930b1ec1a7e47690c933b0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6d75736973747564696f2f636c617564652d636f64652d726f75746572)](https://github.com/musistudio/claude-code-router/blob/main/LICENSE)\\n\\n* * *\\n\\n> I am currently seeking **Agent development related job opportunities**, either **based in Hangzhou** or **remote**. If you are interested in my projects or have suitable opportunities, feel free to reach out! üìß Email: [m@musiiot.top](mailto:m@musiiot.top)\\n\\n> A powerful tool to route Claude Code requests to different models and customize any request.\\n\\n> Now you can use models such as `GLM-4.5`, `Kimi-K2`, `Qwen3-Coder-480B-A35B`, and `DeepSeek v3.1` for free through the [iFlow Platform](https://platform.iflow.cn/docs/api-mode).\\n>\\n> You can use the `ccr ui` command to directly import the `iflow` template in the UI. It‚Äôs worth noting that iFlow limits each user to a concurrency of 1, which means you‚Äôll need to route background requests to other models.\\n>\\n> If you‚Äôd like a better experience, you can try [iFlow CLI](https://cli.iflow.cn/).\\n\\n[![](https://github.com/musistudio/claude-code-router/raw/main/blog/images/claude-code.png)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/claude-code.png)\\n\\n[![](https://github.com/musistudio/claude-code-router/raw/main/blog/images/roadmap.svg)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/roadmap.svg)\\n\\n## ‚ú® Features\\n\\n[Permalink: ‚ú® Features](https://github.com/musistudio/claude-code-router#-features)\\n\\n- **Model Routing**: Route requests to different models based on your needs (e.g., background tasks, thinking, long context).\\n- **Multi-Provider Support**: Supports various model providers like OpenRouter, DeepSeek, Ollama, Gemini, Volcengine, and SiliconFlow.\\n- **Request/Response Transformation**: Customize requests and responses for different providers using transformers.\\n- **Dynamic Model Switching**: Switch models on-the-fly within Claude Code using the `/model` command.\\n- **CLI Model Management**: Manage models and providers directly from the terminal with `ccr model`.\\n- **GitHub Actions Integration**: Trigger Claude Code tasks in your GitHub workflows.\\n- **Plugin System**: Extend functionality with custom transformers.\\n\\n## üöÄ Getting Started\\n\\n[Permalink: üöÄ Getting Started](https://github.com/musistudio/claude-code-router#-getting-started)\\n\\n### 1\\\\. Installation\\n\\n[Permalink: 1. Installation](https://github.com/musistudio/claude-code-router#1-installation)\\n\\nFirst, ensure you have [Claude Code](https://docs.anthropic.com/en/docs/claude-code/quickstart) installed:\\n\\n```\\nnpm install -g @anthropic-ai/claude-code\\n```\\n\\nThen, install Claude Code Router:\\n\\n```\\nnpm install -g @musistudio/claude-code-router\\n```\\n\\n### 2\\\\. Configuration\\n\\n[Permalink: 2. Configuration](https://github.com/musistudio/claude-code-router#2-configuration)\\n\\nCreate and configure your `~/.claude-code-router/config.json` file. For more details, you can refer to `config.example.json`.\\n\\nThe `config.json` file has several key sections:\\n\\n- **`PROXY_URL`** (optional): You can set a proxy for API requests, for example: `\\\"PROXY_URL\\\": \\\"http://127.0.0.1:7890\\\"`.\\n\\n- **`LOG`** (optional): You can enable logging by setting it to `true`. When set to `false`, no log files will be created. Default is `true`.\\n\\n- **`LOG_LEVEL`** (optional): Set the logging level. Available options are: `\\\"fatal\\\"`, `\\\"error\\\"`, `\\\"warn\\\"`, `\\\"info\\\"`, `\\\"debug\\\"`, `\\\"trace\\\"`. Default is `\\\"debug\\\"`.\\n\\n- **Logging Systems**: The Claude Code Router uses two separate logging systems:\\n  - **Server-level logs**: HTTP requests, API calls, and server events are logged using pino in the `~/.claude-code-router/logs/` directory with filenames like `ccr-*.log`\\n  - **Application-level logs**: Routing decisions and business logic events are logged in `~/.claude-code-router/claude-code-router.log`\\n- **`APIKEY`** (optional): You can set a secret key to authenticate requests. When set, clients must provide this key in the `Authorization` header (e.g., `Bearer your-secret-key`) or the `x-api-key` header. Example: `\\\"APIKEY\\\": \\\"your-secret-key\\\"`.\\n\\n- **`HOST`** (optional): You can set the host address for the server. If `APIKEY` is not set, the host will be forced to `127.0.0.1` for security reasons to prevent unauthorized access. Example: `\\\"HOST\\\": \\\"0.0.0.0\\\"`.\\n\\n- **`NON_INTERACTIVE_MODE`** (optional): When set to `true`, enables compatibility with non-interactive environments like GitHub Actions, Docker containers, or other CI/CD systems. This sets appropriate environment variables (`CI=true`, `FORCE_COLOR=0`, etc.) and configures stdin handling to prevent the process from hanging in automated environments. Example: `\\\"NON_INTERACTIVE_MODE\\\": true`.\\n\\n- **`Providers`**: Used to configure different model providers.\\n\\n- **`Router`**: Used to set up routing rules. `default` specifies the default model, which will be used for all requests if no other route is configured.\\n\\n- **`API_TIMEOUT_MS`**: Specifies the timeout for API calls in milliseconds.\\n\\n\\n#### Environment Variable Interpolation\\n\\n[Permalink: Environment Variable Interpolation](https://github.com/musistudio/claude-code-router#environment-variable-interpolation)\\n\\nClaude Code Router supports environment variable interpolation for secure API key management. You can reference environment variables in your `config.json` using either `$VAR_NAME` or `${VAR_NAME}` syntax:\\n\\n```\\n{\\n  \\\"OPENAI_API_KEY\\\": \\\"$OPENAI_API_KEY\\\",\\n  \\\"GEMINI_API_KEY\\\": \\\"${GEMINI_API_KEY}\\\",\\n  \\\"Providers\\\": [\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"openai\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://api.openai.com/v1/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"$OPENAI_API_KEY\\\",\\\\\\n      \\\"models\\\": [\\\"gpt-5\\\", \\\"gpt-5-mini\\\"]\\\\\\n    }\\\\\\n  ]\\n}\\n```\\n\\nThis allows you to keep sensitive API keys in environment variables instead of hardcoding them in configuration files. The interpolation works recursively through nested objects and arrays.\\n\\nHere is a comprehensive example:\\n\\n```\\n{\\n  \\\"APIKEY\\\": \\\"your-secret-key\\\",\\n  \\\"PROXY_URL\\\": \\\"http://127.0.0.1:7890\\\",\\n  \\\"LOG\\\": true,\\n  \\\"API_TIMEOUT_MS\\\": 600000,\\n  \\\"NON_INTERACTIVE_MODE\\\": false,\\n  \\\"Providers\\\": [\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"openrouter\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://openrouter.ai/api/v1/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"sk-xxx\\\",\\\\\\n      \\\"models\\\": [\\\\\\n        \\\"google/gemini-2.5-pro-preview\\\",\\\\\\n        \\\"anthropic/claude-sonnet-4\\\",\\\\\\n        \\\"anthropic/claude-3.5-sonnet\\\",\\\\\\n        \\\"anthropic/claude-3.7-sonnet:thinking\\\"\\\\\\n      ],\\\\\\n      \\\"transformer\\\": {\\\\\\n        \\\"use\\\": [\\\"openrouter\\\"]\\\\\\n      }\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"deepseek\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://api.deepseek.com/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"sk-xxx\\\",\\\\\\n      \\\"models\\\": [\\\"deepseek-chat\\\", \\\"deepseek-reasoner\\\"],\\\\\\n      \\\"transformer\\\": {\\\\\\n        \\\"use\\\": [\\\"deepseek\\\"],\\\\\\n        \\\"deepseek-chat\\\": {\\\\\\n          \\\"use\\\": [\\\"tooluse\\\"]\\\\\\n        }\\\\\\n      }\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"ollama\\\",\\\\\\n      \\\"api_base_url\\\": \\\"http://localhost:11434/v1/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"ollama\\\",\\\\\\n      \\\"models\\\": [\\\"qwen2.5-coder:latest\\\"]\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"gemini\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://generativelanguage.googleapis.com/v1beta/models/\\\",\\\\\\n      \\\"api_key\\\": \\\"sk-xxx\\\",\\\\\\n      \\\"models\\\": [\\\"gemini-2.5-flash\\\", \\\"gemini-2.5-pro\\\"],\\\\\\n      \\\"transformer\\\": {\\\\\\n        \\\"use\\\": [\\\"gemini\\\"]\\\\\\n      }\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"volcengine\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://ark.cn-beijing.volces.com/api/v3/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"sk-xxx\\\",\\\\\\n      \\\"models\\\": [\\\"deepseek-v3-250324\\\", \\\"deepseek-r1-250528\\\"],\\\\\\n      \\\"transformer\\\": {\\\\\\n        \\\"use\\\": [\\\"deepseek\\\"]\\\\\\n      }\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"modelscope\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://api-inference.modelscope.cn/v1/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"\\\",\\\\\\n      \\\"models\\\": [\\\"Qwen/Qwen3-Coder-480B-A35B-Instruct\\\", \\\"Qwen/Qwen3-235B-A22B-Thinking-2507\\\"],\\\\\\n      \\\"transformer\\\": {\\\\\\n        \\\"use\\\": [\\\\\\n          [\\\\\\n            \\\"maxtoken\\\",\\\\\\n            {\\\\\\n              \\\"max_tokens\\\": 65536\\\\\\n            }\\\\\\n          ],\\\\\\n          \\\"enhancetool\\\"\\\\\\n        ],\\\\\\n        \\\"Qwen/Qwen3-235B-A22B-Thinking-2507\\\": {\\\\\\n          \\\"use\\\": [\\\"reasoning\\\"]\\\\\\n        }\\\\\\n      }\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"dashscope\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"\\\",\\\\\\n      \\\"models\\\": [\\\"qwen3-coder-plus\\\"],\\\\\\n      \\\"transformer\\\": {\\\\\\n        \\\"use\\\": [\\\\\\n          [\\\\\\n            \\\"maxtoken\\\",\\\\\\n            {\\\\\\n              \\\"max_tokens\\\": 65536\\\\\\n            }\\\\\\n          ],\\\\\\n          \\\"enhancetool\\\"\\\\\\n        ]\\\\\\n      }\\\\\\n    },\\\\\\n    {\\\\\\n      \\\"name\\\": \\\"aihubmix\\\",\\\\\\n      \\\"api_base_url\\\": \\\"https://aihubmix.com/v1/chat/completions\\\",\\\\\\n      \\\"api_key\\\": \\\"sk-\\\",\\\\\\n      \\\"models\\\": [\\\\\\n        \\\"Z/glm-4.5\\\",\\\\\\n        \\\"claude-opus-4-20250514\\\",\\\\\\n        \\\"gemini-2.5-pro\\\"\\\\\\n      ]\\\\\\n    }\\\\\\n  ],\\n  \\\"Router\\\": {\\n    \\\"default\\\": \\\"deepseek,deepseek-chat\\\",\\n    \\\"background\\\": \\\"ollama,qwen2.5-coder:latest\\\",\\n    \\\"think\\\": \\\"deepseek,deepseek-reasoner\\\",\\n    \\\"longContext\\\": \\\"openrouter,google/gemini-2.5-pro-preview\\\",\\n    \\\"longContextThreshold\\\": 60000,\\n    \\\"webSearch\\\": \\\"gemini,gemini-2.5-flash\\\"\\n  }\\n}\\n```\\n\\n### 3\\\\. Running Claude Code with the Router\\n\\n[Permalink: 3. Running Claude Code with the Router](https://github.com/musistudio/claude-code-router#3-running-claude-code-with-the-router)\\n\\nStart Claude Code using the router:\\n\\n```\\nccr code\\n```\\n\\n> **Note**: After modifying the configuration file, you need to restart the service for the changes to take effect:\\n>\\n> ```\\n> ccr restart\\n> ```\\n\\n### 4\\\\. UI Mode\\n\\n[Permalink: 4. UI Mode](https://github.com/musistudio/claude-code-router#4-ui-mode)\\n\\nFor a more intuitive experience, you can use the UI mode to manage your configuration:\\n\\n```\\nccr ui\\n```\\n\\nThis will open a web-based interface where you can easily view and edit your `config.json` file.\\n\\n[![UI](https://github.com/musistudio/claude-code-router/raw/main/blog/images/ui.png)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/ui.png)\\n\\n### 5\\\\. CLI Model Management\\n\\n[Permalink: 5. CLI Model Management](https://github.com/musistudio/claude-code-router#5-cli-model-management)\\n\\nFor users who prefer terminal-based workflows, you can use the interactive CLI model selector:\\n\\n```\\nccr model\\n```\\n\\n[![](https://github.com/musistudio/claude-code-router/raw/main/blog/images/models.gif)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/models.gif)[![](https://github.com/musistudio/claude-code-router/raw/main/blog/images/models.gif)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/models.gif)[Open in new window](https://github.com/musistudio/claude-code-router/blob/main/blog/images/models.gif)\\n\\nThis command provides an interactive interface to:\\n\\n- View current configuration:\\n- See all configured models (default, background, think, longContext, webSearch, image)\\n- Switch models: Quickly change which model is used for each router type\\n- Add new models: Add models to existing providers\\n- Create new providers: Set up complete provider configurations including:\\n  - Provider name and API endpoint\\n  - API key\\n  - Available models\\n  - Transformer configuration with support for:\\n    - Multiple transformers (openrouter, deepseek, gemini, etc.)\\n    - Transformer options (e.g., maxtoken with custom limits)\\n    - Provider-specific routing (e.g., OpenRouter provider preferences)\\n\\nThe CLI tool validates all inputs and provides helpful prompts to guide you through the configuration process, making it easy to manage complex setups without editing JSON files manually.\\n\\n#### Providers\\n\\n[Permalink: Providers](https://github.com/musistudio/claude-code-router#providers)\\n\\nThe `Providers` array is where you define the different model providers you want to use. Each provider object requires:\\n\\n- `name`: A unique name for the provider.\\n- `api_base_url`: The full API endpoint for chat completions.\\n- `api_key`: Your API key for the provider.\\n- `models`: A list of model names available from this provider.\\n- `transformer` (optional): Specifies transformers to process requests and responses.\\n\\n#### Transformers\\n\\n[Permalink: Transformers](https://github.com/musistudio/claude-code-router#transformers)\\n\\nTransformers allow you to modify the request and response payloads to ensure compatibility with different provider APIs.\\n\\n- **Global Transformer**: Apply a transformer to all models from a provider. In this example, the `openrouter` transformer is applied to all models under the `openrouter` provider.\\n\\n\\n\\n```\\n{\\n    \\\"name\\\": \\\"openrouter\\\",\\n    \\\"api_base_url\\\": \\\"https://openrouter.ai/api/v1/chat/completions\\\",\\n    \\\"api_key\\\": \\\"sk-xxx\\\",\\n    \\\"models\\\": [\\\\\\n      \\\"google/gemini-2.5-pro-preview\\\",\\\\\\n      \\\"anthropic/claude-sonnet-4\\\",\\\\\\n      \\\"anthropic/claude-3.5-sonnet\\\"\\\\\\n    ],\\n    \\\"transformer\\\": { \\\"use\\\": [\\\"openrouter\\\"] }\\n}\\n```\\n\\n- **Model-Specific Transformer**: Apply a transformer to a specific model. In this example, the `deepseek` transformer is applied to all models, and an additional `tooluse` transformer is applied only to the `deepseek-chat` model.\\n\\n\\n\\n```\\n{\\n    \\\"name\\\": \\\"deepseek\\\",\\n    \\\"api_base_url\\\": \\\"https://api.deepseek.com/chat/completions\\\",\\n    \\\"api_key\\\": \\\"sk-xxx\\\",\\n    \\\"models\\\": [\\\"deepseek-chat\\\", \\\"deepseek-reasoner\\\"],\\n    \\\"transformer\\\": {\\n      \\\"use\\\": [\\\"deepseek\\\"],\\n      \\\"deepseek-chat\\\": { \\\"use\\\": [\\\"tooluse\\\"] }\\n    }\\n}\\n```\\n\\n- **Passing Options to a Transformer**: Some transformers, like `maxtoken`, accept options. To pass options, use a nested array where the first element is the transformer name and the second is an options object.\\n\\n\\n\\n```\\n{\\n    \\\"name\\\": \\\"siliconflow\\\",\\n    \\\"api_base_url\\\": \\\"https://api.siliconflow.cn/v1/chat/completions\\\",\\n    \\\"api_key\\\": \\\"sk-xxx\\\",\\n    \\\"models\\\": [\\\"moonshotai/Kimi-K2-Instruct\\\"],\\n    \\\"transformer\\\": {\\n      \\\"use\\\": [\\\\\\n        [\\\\\\n          \\\"maxtoken\\\",\\\\\\n          {\\\\\\n            \\\"max_tokens\\\": 16384\\\\\\n          }\\\\\\n        ]\\\\\\n      ]\\n    }\\n}\\n```\\n\\n\\n**Available Built-in Transformers:**\\n\\n- `Anthropic`:If you use only the `Anthropic` transformer, it will preserve the original request and response parameters(you can use it to connect directly to an Anthropic endpoint).\\n- `deepseek`: Adapts requests/responses for DeepSeek API.\\n- `gemini`: Adapts requests/responses for Gemini API.\\n- `openrouter`: Adapts requests/responses for OpenRouter API. It can also accept a `provider` routing parameter to specify which underlying providers OpenRouter should use. For more details, refer to the [OpenRouter documentation](https://openrouter.ai/docs/features/provider-routing). See an example below:\\n\\n\\n\\n```\\n    \\\"transformer\\\": {\\n      \\\"use\\\": [\\\"openrouter\\\"],\\n      \\\"moonshotai/kimi-k2\\\": {\\n        \\\"use\\\": [\\\\\\n          [\\\\\\n            \\\"openrouter\\\",\\\\\\n            {\\\\\\n              \\\"provider\\\": {\\\\\\n                \\\"only\\\": [\\\"moonshotai/fp8\\\"]\\\\\\n              }\\\\\\n            }\\\\\\n          ]\\\\\\n        ]\\n      }\\n    }\\n```\\n\\n- `groq`: Adapts requests/responses for groq API.\\n- `maxtoken`: Sets a specific `max_tokens` value.\\n- `tooluse`: Optimizes tool usage for certain models via `tool_choice`.\\n- `gemini-cli` (experimental): Unofficial support for Gemini via Gemini CLI [gemini-cli.js](https://gist.github.com/musistudio/1c13a65f35916a7ab690649d3df8d1cd).\\n- `reasoning`: Used to process the `reasoning_content` field.\\n- `sampling`: Used to process sampling information fields such as `temperature`, `top_p`, `top_k`, and `repetition_penalty`.\\n- `enhancetool`: Adds a layer of error tolerance to the tool call parameters returned by the LLM (this will cause the tool call information to no longer be streamed).\\n- `cleancache`: Clears the `cache_control` field from requests.\\n- `vertex-gemini`: Handles the Gemini API using Vertex authentication.\\n- `chutes-glm` Unofficial support for GLM 4.5 model via Chutes [chutes-glm-transformer.js](https://gist.github.com/vitobotta/2be3f33722e05e8d4f9d2b0138b8c863).\\n- `qwen-cli` (experimental): Unofficial support for qwen3-coder-plus model via Qwen CLI [qwen-cli.js](https://gist.github.com/musistudio/f5a67841ced39912fd99e42200d5ca8b).\\n- `rovo-cli` (experimental): Unofficial support for gpt-5 via Atlassian Rovo Dev CLI [rovo-cli.js](https://gist.github.com/SaseQ/c2a20a38b11276537ec5332d1f7a5e53).\\n\\n**Custom Transformers:**\\n\\nYou can also create your own transformers and load them via the `transformers` field in `config.json`.\\n\\n```\\n{\\n  \\\"transformers\\\": [\\\\\\n    {\\\\\\n      \\\"path\\\": \\\"/User/xxx/.claude-code-router/plugins/gemini-cli.js\\\",\\\\\\n      \\\"options\\\": {\\\\\\n        \\\"project\\\": \\\"xxx\\\"\\\\\\n      }\\\\\\n    }\\\\\\n  ]\\n}\\n```\\n\\n#### Router\\n\\n[Permalink: Router](https://github.com/musistudio/claude-code-router#router)\\n\\nThe `Router` object defines which model to use for different scenarios:\\n\\n- `default`: The default model for general tasks.\\n\\n- `background`: A model for background tasks. This can be a smaller, local model to save costs.\\n\\n- `think`: A model for reasoning-heavy tasks, like Plan Mode.\\n\\n- `longContext`: A model for handling long contexts (e.g., > 60K tokens).\\n\\n- `longContextThreshold` (optional): The token count threshold for triggering the long context model. Defaults to 60000 if not specified.\\n\\n- `webSearch`: Used for handling web search tasks and this requires the model itself to support the feature. If you're using openrouter, you need to add the `:online` suffix after the model name.\\n\\n- `image` (beta): Used for handling image-related tasks (supported by CCR‚Äôs built-in agent). If the model does not support tool calling, you need to set the `config.forceUseImageAgent` property to `true`.\\n\\n- You can also switch models dynamically in Claude Code with the `/model` command:\\n`/model provider_name,model_name`\\nExample: `/model openrouter,anthropic/claude-3.5-sonnet`\\n\\n\\n#### Custom Router\\n\\n[Permalink: Custom Router](https://github.com/musistudio/claude-code-router#custom-router)\\n\\nFor more advanced routing logic, you can specify a custom router script via the `CUSTOM_ROUTER_PATH` in your `config.json`. This allows you to implement complex routing rules beyond the default scenarios.\\n\\nIn your `config.json`:\\n\\n```\\n{\\n  \\\"CUSTOM_ROUTER_PATH\\\": \\\"/User/xxx/.claude-code-router/custom-router.js\\\"\\n}\\n```\\n\\nThe custom router file must be a JavaScript module that exports an `async` function. This function receives the request object and the config object as arguments and should return the provider and model name as a string (e.g., `\\\"provider_name,model_name\\\"`), or `null` to fall back to the default router.\\n\\nHere is an example of a `custom-router.js` based on `custom-router.example.js`:\\n\\n```\\n// /User/xxx/.claude-code-router/custom-router.js\\n\\n/**\\n * A custom router function to determine which model to use based on the request.\\n *\\n * @param {object} req - The request object from Claude Code, containing the request body.\\n * @param {object} config - The application's config object.\\n * @returns {Promise<string|null>} - A promise that resolves to the \\\"provider,model_name\\\" string, or null to use the default router.\\n */\\nmodule.exports = async function router(req, config) {\\n  const userMessage = req.body.messages.find((m) => m.role === \\\"user\\\")?.content;\\n\\n  if (userMessage && userMessage.includes(\\\"explain this code\\\")) {\\n    // Use a powerful model for code explanation\\n    return \\\"openrouter,anthropic/claude-3.5-sonnet\\\";\\n  }\\n\\n  // Fallback to the default router configuration\\n  return null;\\n};\\n```\\n\\n##### Subagent Routing\\n\\n[Permalink: Subagent Routing](https://github.com/musistudio/claude-code-router#subagent-routing)\\n\\nFor routing within subagents, you must specify a particular provider and model by including `<CCR-SUBAGENT-MODEL>provider,model</CCR-SUBAGENT-MODEL>` at the **beginning** of the subagent's prompt. This allows you to direct specific subagent tasks to designated models.\\n\\n**Example:**\\n\\n```\\n<CCR-SUBAGENT-MODEL>openrouter,anthropic/claude-3.5-sonnet</CCR-SUBAGENT-MODEL>\\nPlease help me analyze this code snippet for potential optimizations...\\n```\\n\\n## Status Line (Beta)\\n\\n[Permalink: Status Line (Beta)](https://github.com/musistudio/claude-code-router#status-line-beta)\\n\\nTo better monitor the status of claude-code-router at runtime, version v1.0.40 includes a built-in statusline tool, which you can enable in the UI.\\n[![statusline-config.png](https://github.com/musistudio/claude-code-router/raw/main/blog/images/statusline-config.png)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/statusline-config.png)\\n\\nThe effect is as follows:\\n[![statusline](https://github.com/musistudio/claude-code-router/raw/main/blog/images/statusline.png)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/statusline.png)\\n\\n## ü§ñ GitHub Actions\\n\\n[Permalink: ü§ñ GitHub Actions](https://github.com/musistudio/claude-code-router#-github-actions)\\n\\nIntegrate Claude Code Router into your CI/CD pipeline. After setting up [Claude Code Actions](https://docs.anthropic.com/en/docs/claude-code/github-actions), modify your `.github/workflows/claude.yaml` to use the router:\\n\\n```\\nname: Claude Code\\n\\non:\\n  issue_comment:\\n    types: [created]\\n  # ... other triggers\\n\\njobs:\\n  claude:\\n    if: |\\n      (github.event_name == 'issue_comment' && contains(github.event.comment.body, '@claude')) ||\\n      # ... other conditions\\n    runs-on: ubuntu-latest\\n    permissions:\\n      contents: read\\n      pull-requests: read\\n      issues: read\\n      id-token: write\\n    steps:\\n      - name: Checkout repository\\n        uses: actions/checkout@v4\\n        with:\\n          fetch-depth: 1\\n\\n      - name: Prepare Environment\\n        run: |\\n          curl -fsSL https://bun.sh/install | bash\\n          mkdir -p $HOME/.claude-code-router\\n          cat << 'EOF' > $HOME/.claude-code-router/config.json\\n          {\\n            \\\"log\\\": true,\\n            \\\"NON_INTERACTIVE_MODE\\\": true,\\n            \\\"OPENAI_API_KEY\\\": \\\"${{ secrets.OPENAI_API_KEY }}\\\",\\n            \\\"OPENAI_BASE_URL\\\": \\\"https://api.deepseek.com\\\",\\n            \\\"OPENAI_MODEL\\\": \\\"deepseek-chat\\\"\\n          }\\n          EOF\\n        shell: bash\\n\\n      - name: Start Claude Code Router\\n        run: |\\n          nohup ~/.bun/bin/bunx @musistudio/claude-code-router@1.0.8 start &\\n        shell: bash\\n\\n      - name: Run Claude Code\\n        id: claude\\n        uses: anthropics/claude-code-action@beta\\n        env:\\n          ANTHROPIC_BASE_URL: http://localhost:3456\\n        with:\\n          anthropic_api_key: \\\"any-string-is-ok\\\"\\n```\\n\\n> **Note**: When running in GitHub Actions or other automation environments, make sure to set `\\\"NON_INTERACTIVE_MODE\\\": true` in your configuration to prevent the process from hanging due to stdin handling issues.\\n\\nThis setup allows for interesting automations, like running tasks during off-peak hours to reduce API costs.\\n\\n## üìù Further Reading\\n\\n[Permalink: üìù Further Reading](https://github.com/musistudio/claude-code-router#-further-reading)\\n\\n- [Project Motivation and How It Works](https://github.com/musistudio/claude-code-router/blob/main/blog/en/project-motivation-and-how-it-works.md)\\n- [Maybe We Can Do More with the Router](https://github.com/musistudio/claude-code-router/blob/main/blog/en/maybe-we-can-do-more-with-the-route.md)\\n\\n## ‚ù§Ô∏è Support & Sponsoring\\n\\n[Permalink: ‚ù§Ô∏è Support & Sponsoring](https://github.com/musistudio/claude-code-router#%EF%B8%8F-support--sponsoring)\\n\\nIf you find this project helpful, please consider sponsoring its development. Your support is greatly appreciated!\\n\\n[![ko-fi](https://camo.githubusercontent.com/70e2ef5e0263b261f9a2a314bb1d6919d1d43292eed117fe8fc766a68c7d96ea/68747470733a2f2f6b6f2d66692e636f6d2f696d672f676974687562627574746f6e5f736d2e737667)](https://ko-fi.com/F1F31GN2GM)\\n\\n[Paypal](https://paypal.me/musistudio1999)\\n\\n|     |     |\\n| --- | --- |\\n| [![Alipay](https://github.com/musistudio/claude-code-router/raw/main/blog/images/alipay.jpg)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/alipay.jpg) | [![WeChat Pay](https://github.com/musistudio/claude-code-router/raw/main/blog/images/wechat.jpg)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/wechat.jpg) |\\n\\n### Our Sponsors\\n\\n[Permalink: Our Sponsors](https://github.com/musistudio/claude-code-router#our-sponsors)\\n\\nA huge thank you to all our sponsors for their generous support!\\n\\n- [AIHubmix](https://aihubmix.com/)\\n- [BurnCloud](https://ai.burncloud.com/)\\n- [302.AI](https://share.302.ai/ZGVF9w)\\n- [ZÊô∫Ë∞±](https://www.bigmodel.cn/claude-code?ic=FPF9IVAGFJ)\\n- @Simon Leischnig\\n- [@duanshuaimin](https://github.com/duanshuaimin)\\n- [@vrgitadmin](https://github.com/vrgitadmin)\\n- @\\\\*o\\n- [@ceilwoo](https://github.com/ceilwoo)\\n- @\\\\*ËØ¥\\n- @\\\\*Êõ¥\\n- @K\\\\*g\\n- @R\\\\*R\\n- [@bobleer](https://github.com/bobleer)\\n- @\\\\*Ëãó\\n- @\\\\*Âàí\\n- [@Clarence-pan](https://github.com/Clarence-pan)\\n- [@carter003](https://github.com/carter003)\\n- @S\\\\*r\\n- @\\\\*Êôñ\\n- @\\\\*Êïè\\n- @Z\\\\*z\\n- @\\\\*ÁÑ∂\\n- [@cluic](https://github.com/cluic)\\n- @\\\\*Ëãó\\n- [@PromptExpert](https://github.com/PromptExpert)\\n- @\\\\*Â∫î\\n- [@yusnake](https://github.com/yusnake)\\n- @\\\\*È£û\\n- @Ëë£\\\\*\\n- @\\\\*Ê±Ä\\n- @\\\\*Ê∂Ø\\n- @\\\\*:-Ôºâ\\n- @\\\\*\\\\*Á£ä\\n- @\\\\*Áê¢\\n- @\\\\*Êàê\\n- @Z\\\\*o\\n- @\\\\*Áê®\\n- [@congzhangzh](https://github.com/congzhangzh)\\n- @\\\\*\\\\_\\n- @Z\\\\*m\\n- @\\\\*Èë´\\n- @c\\\\*y\\n- @\\\\*Êòï\\n- [@witsice](https://github.com/witsice)\\n- @b\\\\*g\\n- @\\\\*‰∫ø\\n- @\\\\*Ëæâ\\n- @JACK\\n- @\\\\*ÂÖâ\\n- @W\\\\*l\\n- [@kesku](https://github.com/kesku)\\n- [@biguncle](https://github.com/biguncle)\\n- @‰∫åÂêâÂêâ\\n- @a\\\\*g\\n- @\\\\*Êûó\\n- @\\\\*Âí∏\\n- @\\\\*Êòé\\n- @S\\\\*y\\n- @f\\\\*o\\n- @\\\\*Êô∫\\n- @F\\\\*t\\n- @r\\\\*c\\n- [@qierkang](http://github.com/qierkang)\\n- @\\\\*ÂÜõ\\n- [@snrise-z](http://github.com/snrise-z)\\n- @\\\\*Áéã\\n- [@greatheart1000](http://github.com/greatheart1000)\\n- @\\\\*Áéã\\n- @zcutlip\\n- [@Peng-YM](http://github.com/Peng-YM)\\n- @\\\\*Êõ¥\\n- @\\\\*.\\n- @F\\\\*t\\n- @\\\\*Êîø\\n- @\\\\*Èì≠\\n- @\\\\*Âè∂\\n- @‰∏É\\\\*o\\n- @\\\\*Èùí\\n- @\\\\*\\\\*Êô®\\n- @\\\\*Ëøú\\n- @\\\\*ÈúÑ\\n- @\\\\*\\\\*Âêâ\\n- @\\\\*\\\\*È£û\\n- @\\\\*\\\\*È©∞\\n- @x\\\\*g\\n- @\\\\*\\\\*‰∏ú\\n- @\\\\*ËêΩ\\n- @ÂìÜ\\\\*k\\n- @\\\\*Ê∂õ\\n- [@ËãóÂ§ß](https://github.com/WitMiao)\\n- @\\\\*Âë¢\\n- @\\\\\\\\d\\\\*u\\n\\n(If your name is masked, please contact me via my homepage email to update it with your GitHub username.)\\n\\n## About\\n\\nUse Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\\n\\n\\n### Resources\\n\\n[Readme](https://github.com/musistudio/claude-code-router#readme-ov-file)\\n\\n### License\\n\\n[MIT license](https://github.com/musistudio/claude-code-router#MIT-1-ov-file)\\n\\n### Uh oh!\\n\\nThere was an error while loading. [Please reload this page](https://github.com/musistudio/claude-code-router).\\n\\n[Activity](https://github.com/musistudio/claude-code-router/activity)\\n\\n### Stars\\n\\n[**20.7k**\\\\\\\\\\nstars](https://github.com/musistudio/claude-code-router/stargazers)\\n\\n### Watchers\\n\\n[**85**\\\\\\\\\\nwatching](https://github.com/musistudio/claude-code-router/watchers)\\n\\n### Forks\\n\\n[**1.6k**\\\\\\\\\\nforks](https://github.com/musistudio/claude-code-router/forks)\\n\\n[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fmusistudio%2Fclaude-code-router&report=musistudio+%28user%29)\\n\\n### Uh oh!\\n\\nThere was an error while loading. [Please reload this page](https://github.com/musistudio/claude-code-router).\\n\\n## [Contributors\\\\  25](https://github.com/musistudio/claude-code-router/graphs/contributors)\\n\\n- [![@musistudio](https://avatars.githubusercontent.com/u/21162426?s=64&v=4)](https://github.com/musistudio)\\n- [![@TonyGeez](https://avatars.githubusercontent.com/u/141154740?s=64&v=4)](https://github.com/TonyGeez)\\n- [![@claude](https://avatars.githubusercontent.com/u/81847?s=64&v=4)](https://github.com/claude)\\n- [![@BigUncle](https://avatars.githubusercontent.com/u/9360607?s=64&v=4)](https://github.com/BigUncle)\\n- [![@sbtobb](https://avatars.githubusercontent.com/u/8125099?s=64&v=4)](https://github.com/sbtobb)\\n- [![@jagnani73](https://avatars.githubusercontent.com/u/60016972?s=64&v=4)](https://github.com/jagnani73)\\n- [![@SaseQ](https://avatars.githubusercontent.com/u/68428394?s=64&v=4)](https://github.com/SaseQ)\\n- [![@semikolon](https://avatars.githubusercontent.com/u/13872?s=64&v=4)](https://github.com/semikolon)\\n- [![@semidark](https://avatars.githubusercontent.com/u/5747735?s=64&v=4)](https://github.com/semidark)\\n- [![@Thlnking](https://avatars.githubusercontent.com/u/38023375?s=64&v=4)](https://github.com/Thlnking)\\n- [![@vitobotta](https://avatars.githubusercontent.com/u/283811?s=64&v=4)](https://github.com/vitobotta)\\n- [![@geocine](https://avatars.githubusercontent.com/u/507464?s=64&v=4)](https://github.com/geocine)\\n- [![@stonega](https://avatars.githubusercontent.com/u/2262007?s=64&v=4)](https://github.com/stonega)\\n- [![@RobinChiu](https://avatars.githubusercontent.com/u/7788730?s=64&v=4)](https://github.com/RobinChiu)\\n\\n[\\\\+ 11 contributors](https://github.com/musistudio/claude-code-router/graphs/contributors)\\n\\n## Languages\\n\\n- [TypeScript95.4%](https://github.com/musistudio/claude-code-router/search?l=typescript)\\n- [JavaScript2.9%](https://github.com/musistudio/claude-code-router/search?l=javascript)\\n- [CSS1.6%](https://github.com/musistudio/claude-code-router/search?l=css)\\n- Other0.1%\\n\\nYou can‚Äôt perform that action at this time.\",\n  \"metadata\": {\n    \"twitter:title\": \"GitHub - musistudio/claude-code-router: Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\",\n    \"current-catalog-service-hash\": \"f3abb0cc802f3d7b95fc8762b94bdcb13bf39634c40c357301c4aa1d67a256fb\",\n    \"hovercard-subject-tag\": \"repository:938468965\",\n    \"twitter:card\": \"summary_large_image\",\n    \"twitter:site\": \"@github\",\n    \"ogUrl\": \"https://github.com/musistudio/claude-code-router\",\n    \"ui-target\": \"full\",\n    \"analytics-location\": \"/<user-name>/<repo-name>\",\n    \"og:title\": \"GitHub - musistudio/claude-code-router: Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\",\n    \"theme-color\": \"#1e2327\",\n    \"ogSiteName\": \"GitHub\",\n    \"go-import\": \"github.com/musistudio/claude-code-router git https://github.com/musistudio/claude-code-router.git\",\n    \"hostname\": \"github.com\",\n    \"expected-hostname\": \"github.com\",\n    \"visitor-payload\": \"eyJyZWZlcnJlciI6IiIsInJlcXVlc3RfaWQiOiI3NjRCOjNCODhDMjo5RTYxMkM6Q0QwMjA1OjY5MDc2OTZBIiwidmlzaXRvcl9pZCI6IjExMDM4MDg1NzY4MTQwMTY4NzQiLCJyZWdpb25fZWRnZSI6ImlhZCIsInJlZ2lvbl9yZW5kZXIiOiJpYWQifQ==\",\n    \"twitter:image\": \"https://opengraph.githubassets.com/6e61c205beab89eae8d5fd2ba24ad895930230f77edf3324f8453190eca5c5a5/musistudio/claude-code-router\",\n    \"octolytics-dimension-user_id\": \"21162426\",\n    \"twitter:description\": \"Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic. - musistudio/claude-code-router\",\n    \"octolytics-dimension-repository_id\": \"938468965\",\n    \"og:image:height\": \"600\",\n    \"og:url\": \"https://github.com/musistudio/claude-code-router\",\n    \"fb:app_id\": \"1401488693436528\",\n    \"google-site-verification\": \"Apib7-x98H0j5cPqHWwSMm6dNU4GmODRoqxLiDzdx9I\",\n    \"og:image:width\": \"1200\",\n    \"octolytics-dimension-repository_public\": \"true\",\n    \"language\": \"en\",\n    \"octolytics-dimension-repository_network_root_nwo\": \"musistudio/claude-code-router\",\n    \"route-action\": \"disambiguate\",\n    \"ogTitle\": \"GitHub - musistudio/claude-code-router: Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\",\n    \"og:image:alt\": \"Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic. - musistudio/claude-code-router\",\n    \"ogDescription\": \"Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic. - musistudio/claude-code-router\",\n    \"octolytics-url\": \"https://collector.github.com/github/collect\",\n    \"octolytics-dimension-repository_nwo\": \"musistudio/claude-code-router\",\n    \"visitor-hmac\": \"264925dff110164627fece523478709ca3101661083adb6f330514706459dedd\",\n    \"browser-stats-url\": \"https://api.github.com/_private/browser/stats\",\n    \"browser-errors-url\": \"https://api.github.com/_private/browser/errors\",\n    \"github-keyboard-shortcuts\": \"repository,copilot\",\n    \"color-scheme\": \"light dark\",\n    \"favicon\": \"https://github.githubassets.com/favicons/favicon.svg\",\n    \"og:type\": \"object\",\n    \"fetch-nonce\": \"v2:966547c0-1851-35f0-3942-623a9b51dc06\",\n    \"apple-itunes-app\": \"app-id=1477376905, app-argument=https://github.com/musistudio/claude-code-router\",\n    \"turbo-body-classes\": \"logged-out env-production page-responsive\",\n    \"route-controller\": \"files\",\n    \"octolytics-dimension-repository_is_fork\": \"false\",\n    \"og:description\": \"Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic. - musistudio/claude-code-router\",\n    \"release\": \"6f0a50c83824a7b7b3ed4ac8a758c063075591b0\",\n    \"title\": \"GitHub - musistudio/claude-code-router: Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic.\",\n    \"description\": \"Use Claude Code as the foundation for coding infrastructure, allowing you to decide how to interact with the model while enjoying updates from Anthropic. - musistudio/claude-code-router\",\n    \"og:image\": \"https://opengraph.githubassets.com/6e61c205beab89eae8d5fd2ba24ad895930230f77edf3324f8453190eca5c5a5/musistudio/claude-code-router\",\n    \"viewport\": \"width=device-width\",\n    \"user-login\": \"\",\n    \"octolytics-dimension-user_login\": \"musistudio\",\n    \"turbo-cache-control\": \"no-preview\",\n    \"html-safe-nonce\": \"7d823fd9c8f69c10bc31ac2d702a9e77ba1916fd890e420640f66d7a9f0ba79f\",\n    \"request-id\": \"764B:3B88C2:9E612C:CD0205:6907696A\",\n    \"og:site_name\": \"GitHub\",\n    \"octolytics-dimension-repository_network_root_id\": \"938468965\",\n    \"route-pattern\": \"/:user_id/:repository\",\n    \"ogImage\": \"https://opengraph.githubassets.com/6e61c205beab89eae8d5fd2ba24ad895930230f77edf3324f8453190eca5c5a5/musistudio/claude-code-router\",\n    \"scrapeId\": \"4f85bf85-8d08-41e8-be6f-21d63d57234e\",\n    \"sourceURL\": \"https://github.com/musistudio/claude-code-router\",\n    \"url\": \"https://github.com/musistudio/claude-code-router\",\n    \"statusCode\": 200,\n    \"contentType\": \"text/html; charset=utf-8\",\n    \"proxyUsed\": \"basic\",\n    \"cacheState\": \"hit\",\n    \"cachedAt\": \"2025-11-02T14:23:43.606Z\",\n    \"creditsUsed\": 1\n  }\n}"}]}
{"parentUuid":"ca8d681d-dbc2-4390-9d8a-2132c42afa3c","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_011rojXHwQdQVMyr4x6JPy2z","type":"message","role":"assistant","content":[{"type":"text","text":"Perfect! I found the **Claude Code Router** project. Let me create a comprehensive setup guide for you."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":16947,"cache_read_input_tokens":48805,"cache_creation":{"ephemeral_5m_input_tokens":16947,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm8CWcDH6eUq3gY4dohK","type":"assistant","uuid":"f5f0a891-419d-41b7-83ee-1c6783b99473","timestamp":"2025-11-03T14:36:58.040Z"}
{"parentUuid":"f5f0a891-419d-41b7-83ee-1c6783b99473","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_011rojXHwQdQVMyr4x6JPy2z","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_017M6Ex3QbgPhHqQi3ZtYAkL","name":"Write","input":{"file_path":"/Users/levi/data/claude-code-router-setup-guide.md","content":"# Claude Code Router Setup Guide\n\nA complete guide to setting up and using Claude Code Router - a powerful tool that lets you route Claude Code requests to different AI models.\n\n---\n\n## What is Claude Code Router?\n\n**Claude Code Router** is an open-source proxy that sits between Claude Code and AI model providers. It allows you to:\n\n- **Route to any model**: Use GPT-5, DeepSeek, Gemini, Qwen, local models (Ollama), or any OpenAI-compatible API\n- **Smart routing**: Different models for different tasks (background tasks, reasoning, long context)\n- **Cost optimization**: Use cheaper/local models for simple tasks, powerful models for complex work\n- **Dynamic switching**: Change models on-the-fly with `/model` command\n- **Keep Claude Code updates**: Continue getting official Claude Code improvements while using any model\n\n**GitHub**: https://github.com/musistudio/claude-code-router (20.8k stars)\n\n---\n\n## Installation\n\n### Prerequisites\n- Node.js installed on your system\n- Claude Code installed\n\n### Step 1: Install Claude Code\n```bash\nnpm install -g @anthropic-ai/claude-code\n```\n\n### Step 2: Install Claude Code Router\n```bash\nnpm install -g @musistudio/claude-code-router\n```\n\nThat's it! The router is now installed globally as `ccr`.\n\n---\n\n## Basic Configuration\n\n### Step 3: Create Configuration File\n\nThe router stores its config at `~/.claude-code-router/config.json`. You can create it manually or use the UI (recommended).\n\n#### Option A: Use the UI (Recommended)\n```bash\nccr ui\n```\n\nThis opens a web interface where you can:\n- Import pre-configured templates\n- Add providers and models visually\n- Edit configuration with validation\n- Test your setup\n\n#### Option B: Manual Configuration\n\nCreate `~/.claude-code-router/config.json`:\n\n```json\n{\n  \"LOG\": true,\n  \"LOG_LEVEL\": \"debug\",\n  \"API_TIMEOUT_MS\": 600000,\n  \"Providers\": [\n    {\n      \"name\": \"openai\",\n      \"api_base_url\": \"https://api.openai.com/v1/chat/completions\",\n      \"api_key\": \"sk-your-api-key-here\",\n      \"models\": [\"gpt-4o\", \"gpt-4o-mini\"]\n    }\n  ],\n  \"Router\": {\n    \"default\": \"openai,gpt-4o\"\n  }\n}\n```\n\n---\n\n## Advanced Configuration\n\n### Configuration Structure\n\n```json\n{\n  \"PROXY_URL\": \"http://127.0.0.1:7890\",          // Optional: HTTP proxy\n  \"LOG\": true,                                    // Enable/disable logging\n  \"LOG_LEVEL\": \"debug\",                          // Log level: fatal|error|warn|info|debug|trace\n  \"APIKEY\": \"your-secret-key\",                   // Optional: Secure your router\n  \"HOST\": \"127.0.0.1\",                           // Server host (127.0.0.1 if no APIKEY)\n  \"NON_INTERACTIVE_MODE\": false,                 // For CI/CD environments\n  \"API_TIMEOUT_MS\": 600000,                      // API timeout in milliseconds\n\n  \"Providers\": [/* provider configs */],\n  \"Router\": {/* routing rules */}\n}\n```\n\n### Environment Variables\n\nYou can use environment variables in your config:\n\n```json\n{\n  \"Providers\": [\n    {\n      \"name\": \"openai\",\n      \"api_base_url\": \"https://api.openai.com/v1/chat/completions\",\n      \"api_key\": \"$OPENAI_API_KEY\",\n      \"models\": [\"gpt-4o\"]\n    },\n    {\n      \"name\": \"deepseek\",\n      \"api_base_url\": \"https://api.deepseek.com/chat/completions\",\n      \"api_key\": \"${DEEPSEEK_API_KEY}\",\n      \"models\": [\"deepseek-chat\", \"deepseek-reasoner\"]\n    }\n  ]\n}\n```\n\nThen set in your shell:\n```bash\nexport OPENAI_API_KEY=\"sk-...\"\nexport DEEPSEEK_API_KEY=\"sk-...\"\n```\n\n---\n\n## Provider Configuration\n\n### Provider Structure\n\n```json\n{\n  \"name\": \"provider-name\",\n  \"api_base_url\": \"https://api.example.com/v1/chat/completions\",\n  \"api_key\": \"your-api-key\",\n  \"models\": [\"model-1\", \"model-2\"],\n  \"transformer\": {\n    \"use\": [\"transformer-name\"]\n  }\n}\n```\n\n### Example Providers\n\n#### OpenAI / OpenAI-Compatible APIs\n```json\n{\n  \"name\": \"openai\",\n  \"api_base_url\": \"https://api.openai.com/v1/chat/completions\",\n  \"api_key\": \"sk-...\",\n  \"models\": [\"gpt-4o\", \"gpt-4o-mini\", \"o1-preview\"]\n}\n```\n\n#### DeepSeek\n```json\n{\n  \"name\": \"deepseek\",\n  \"api_base_url\": \"https://api.deepseek.com/chat/completions\",\n  \"api_key\": \"sk-...\",\n  \"models\": [\"deepseek-chat\", \"deepseek-reasoner\"],\n  \"transformer\": {\n    \"use\": [\"deepseek\"],\n    \"deepseek-chat\": {\n      \"use\": [\"tooluse\"]\n    }\n  }\n}\n```\n\n#### OpenRouter (Access 100+ Models)\n```json\n{\n  \"name\": \"openrouter\",\n  \"api_base_url\": \"https://openrouter.ai/api/v1/chat/completions\",\n  \"api_key\": \"sk-or-...\",\n  \"models\": [\n    \"google/gemini-2.5-pro-preview\",\n    \"anthropic/claude-sonnet-4\",\n    \"openai/gpt-4o\",\n    \"meta-llama/llama-3.3-70b-instruct\"\n  ],\n  \"transformer\": {\n    \"use\": [\"openrouter\"]\n  }\n}\n```\n\n#### Ollama (Local Models)\n```json\n{\n  \"name\": \"ollama\",\n  \"api_base_url\": \"http://localhost:11434/v1/chat/completions\",\n  \"api_key\": \"ollama\",\n  \"models\": [\"qwen2.5-coder:latest\", \"llama3.2:latest\"]\n}\n```\n\n#### Google Gemini\n```json\n{\n  \"name\": \"gemini\",\n  \"api_base_url\": \"https://generativelanguage.googleapis.com/v1beta/models/\",\n  \"api_key\": \"your-gemini-key\",\n  \"models\": [\"gemini-2.5-flash\", \"gemini-2.5-pro\"],\n  \"transformer\": {\n    \"use\": [\"gemini\"]\n  }\n}\n```\n\n---\n\n## Router Configuration\n\nThe `Router` object defines which model to use for different scenarios:\n\n```json\n{\n  \"Router\": {\n    \"default\": \"provider,model-name\",\n    \"background\": \"provider,model-name\",\n    \"think\": \"provider,model-name\",\n    \"longContext\": \"provider,model-name\",\n    \"longContextThreshold\": 60000,\n    \"webSearch\": \"provider,model-name\",\n    \"image\": \"provider,model-name\"\n  }\n}\n```\n\n### Router Types\n\n| Type | Purpose | Example Use Case |\n|------|---------|------------------|\n| `default` | General coding tasks | Main model for most work |\n| `background` | Background operations | File searches, simple tasks (use local/cheap model) |\n| `think` | Reasoning-heavy tasks | Plan mode, complex problem solving |\n| `longContext` | Long context handling | Large codebases, many files |\n| `longContextThreshold` | Token threshold for long context | Default: 60000 tokens |\n| `webSearch` | Web search tasks | Requires model with web search support |\n| `image` | Image-related tasks | Vision models for screenshots, diagrams |\n\n### Example Router Configuration\n\n```json\n{\n  \"Router\": {\n    \"default\": \"deepseek,deepseek-chat\",\n    \"background\": \"ollama,qwen2.5-coder:latest\",\n    \"think\": \"deepseek,deepseek-reasoner\",\n    \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\",\n    \"longContextThreshold\": 60000,\n    \"webSearch\": \"gemini,gemini-2.5-flash\",\n    \"image\": \"openrouter,anthropic/claude-sonnet-4\"\n  }\n}\n```\n\n**Strategy**: Use local/cheap models for background tasks, powerful models for complex reasoning.\n\n---\n\n## Transformers\n\nTransformers adapt requests/responses for different API formats.\n\n### Available Built-in Transformers\n\n- `Anthropic` - Preserves original Claude format\n- `deepseek` - DeepSeek API format\n- `gemini` - Google Gemini API format\n- `openrouter` - OpenRouter API format (with provider routing)\n- `groq` - Groq API format\n- `maxtoken` - Set specific max_tokens limit\n- `tooluse` - Optimize tool usage via tool_choice\n- `reasoning` - Process reasoning_content field\n- `sampling` - Handle temperature, top_p, etc.\n- `enhancetool` - Error tolerance for tool calls\n- `cleancache` - Remove cache_control fields\n- `vertex-gemini` - Vertex AI authentication\n\n### Global Transformer (All Models)\n```json\n{\n  \"name\": \"openrouter\",\n  \"transformer\": {\n    \"use\": [\"openrouter\"]\n  }\n}\n```\n\n### Model-Specific Transformer\n```json\n{\n  \"name\": \"deepseek\",\n  \"transformer\": {\n    \"use\": [\"deepseek\"],\n    \"deepseek-chat\": {\n      \"use\": [\"tooluse\"]\n    }\n  }\n}\n```\n\n### Transformer with Options\n```json\n{\n  \"name\": \"custom-provider\",\n  \"transformer\": {\n    \"use\": [\n      [\"maxtoken\", { \"max_tokens\": 16384 }]\n    ]\n  }\n}\n```\n\n### Custom Transformers\n\nCreate your own transformer:\n\n```json\n{\n  \"transformers\": [\n    {\n      \"path\": \"/path/to/custom-transformer.js\",\n      \"options\": {\n        \"project\": \"my-project\"\n      }\n    }\n  ]\n}\n```\n\n---\n\n## Running Claude Code Router\n\n### Start the Router\n```bash\nccr code\n```\n\nThis will:\n1. Start the router proxy server on `http://localhost:3456`\n2. Launch Claude Code configured to use the router\n3. Route all requests according to your configuration\n\n### Restart After Config Changes\n```bash\nccr restart\n```\n\n### Stop the Router\n```bash\nccr stop\n```\n\n### Check Router Status\n```bash\nccr status\n```\n\n---\n\n## Using the Router\n\n### Dynamic Model Switching\n\nWhile in Claude Code, you can switch models on-the-fly:\n\n```\n/model provider,model-name\n```\n\n**Examples:**\n```\n/model openrouter,anthropic/claude-sonnet-4\n/model deepseek,deepseek-reasoner\n/model ollama,qwen2.5-coder:latest\n```\n\n### CLI Model Management\n\nInteractive terminal interface for managing models:\n\n```bash\nccr model\n```\n\nThis provides:\n- View current configuration\n- Switch models for each router type\n- Add new models to providers\n- Create new providers\n- Configure transformers\n\n### Status Line (Beta)\n\nEnable a status line in Claude Code to monitor:\n- Current model in use\n- Router status\n- Request/response metrics\n\nEnable in the UI or add to config:\n```json\n{\n  \"statusline\": {\n    \"enabled\": true\n  }\n}\n```\n\n---\n\n## Example Configurations\n\n### Cost-Optimized Setup\n```json\n{\n  \"Providers\": [\n    {\n      \"name\": \"deepseek\",\n      \"api_base_url\": \"https://api.deepseek.com/chat/completions\",\n      \"api_key\": \"$DEEPSEEK_API_KEY\",\n      \"models\": [\"deepseek-chat\", \"deepseek-reasoner\"],\n      \"transformer\": {\n        \"use\": [\"deepseek\"],\n        \"deepseek-chat\": { \"use\": [\"tooluse\"] }\n      }\n    },\n    {\n      \"name\": \"ollama\",\n      \"api_base_url\": \"http://localhost:11434/v1/chat/completions\",\n      \"api_key\": \"ollama\",\n      \"models\": [\"qwen2.5-coder:7b\"]\n    }\n  ],\n  \"Router\": {\n    \"default\": \"deepseek,deepseek-chat\",\n    \"background\": \"ollama,qwen2.5-coder:7b\",\n    \"think\": \"deepseek,deepseek-reasoner\"\n  }\n}\n```\n\n### Multi-Model Power Setup\n```json\n{\n  \"Providers\": [\n    {\n      \"name\": \"openrouter\",\n      \"api_base_url\": \"https://openrouter.ai/api/v1/chat/completions\",\n      \"api_key\": \"$OPENROUTER_API_KEY\",\n      \"models\": [\n        \"anthropic/claude-sonnet-4\",\n        \"google/gemini-2.5-pro-preview\",\n        \"openai/o1-preview\"\n      ],\n      \"transformer\": { \"use\": [\"openrouter\"] }\n    }\n  ],\n  \"Router\": {\n    \"default\": \"openrouter,anthropic/claude-sonnet-4\",\n    \"think\": \"openrouter,openai/o1-preview\",\n    \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\"\n  }\n}\n```\n\n### Local-First Setup\n```json\n{\n  \"Providers\": [\n    {\n      \"name\": \"ollama\",\n      \"api_base_url\": \"http://localhost:11434/v1/chat/completions\",\n      \"api_key\": \"ollama\",\n      \"models\": [\n        \"qwen2.5-coder:32b\",\n        \"deepseek-r1:14b\",\n        \"llama3.2:latest\"\n      ]\n    }\n  ],\n  \"Router\": {\n    \"default\": \"ollama,qwen2.5-coder:32b\",\n    \"background\": \"ollama,llama3.2:latest\",\n    \"think\": \"ollama,deepseek-r1:14b\"\n  }\n}\n```\n\n---\n\n## Advanced Features\n\n### Custom Router Logic\n\nFor complex routing rules, create a custom router:\n\n**config.json:**\n```json\n{\n  \"CUSTOM_ROUTER_PATH\": \"/path/to/custom-router.js\"\n}\n```\n\n**custom-router.js:**\n```javascript\n/**\n * Custom router function\n * @param {object} req - Request object from Claude Code\n * @param {object} config - Configuration object\n * @returns {Promise<string|null>} - \"provider,model\" or null for default\n */\nmodule.exports = async function router(req, config) {\n  const userMessage = req.body.messages.find(m => m.role === \"user\")?.content;\n\n  // Route code reviews to powerful model\n  if (userMessage && userMessage.includes(\"review this code\")) {\n    return \"openrouter,anthropic/claude-sonnet-4\";\n  }\n\n  // Route refactoring to reasoning model\n  if (userMessage && userMessage.includes(\"refactor\")) {\n    return \"deepseek,deepseek-reasoner\";\n  }\n\n  // Use default routing\n  return null;\n};\n```\n\n### Subagent Routing\n\nRoute specific subagent tasks to specific models by adding a tag to the subagent prompt:\n\n```\n<CCR-SUBAGENT-MODEL>provider,model</CCR-SUBAGENT-MODEL>\nPlease analyze this codebase for security vulnerabilities...\n```\n\n### GitHub Actions Integration\n\nUse Claude Code Router in CI/CD:\n\n**.github/workflows/claude.yaml:**\n```yaml\nname: Claude Code\n\non:\n  issue_comment:\n    types: [created]\n\njobs:\n  claude:\n    if: contains(github.event.comment.body, '@claude')\n    runs-on: ubuntu-latest\n    permissions:\n      contents: read\n      pull-requests: read\n      issues: read\n      id-token: write\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v4\n\n      - name: Prepare Environment\n        run: |\n          curl -fsSL https://bun.sh/install | bash\n          mkdir -p $HOME/.claude-code-router\n          cat << 'EOF' > $HOME/.claude-code-router/config.json\n          {\n            \"log\": true,\n            \"NON_INTERACTIVE_MODE\": true,\n            \"Providers\": [\n              {\n                \"name\": \"deepseek\",\n                \"api_base_url\": \"https://api.deepseek.com/chat/completions\",\n                \"api_key\": \"${{ secrets.DEEPSEEK_API_KEY }}\",\n                \"models\": [\"deepseek-chat\"],\n                \"transformer\": {\n                  \"use\": [\"deepseek\"],\n                  \"deepseek-chat\": { \"use\": [\"tooluse\"] }\n                }\n              }\n            ],\n            \"Router\": {\n              \"default\": \"deepseek,deepseek-chat\"\n            }\n          }\n          EOF\n        shell: bash\n\n      - name: Start Claude Code Router\n        run: |\n          nohup ~/.bun/bin/bunx @musistudio/claude-code-router start &\n        shell: bash\n\n      - name: Run Claude Code\n        uses: anthropics/claude-code-action@beta\n        env:\n          ANTHROPIC_BASE_URL: http://localhost:3456\n        with:\n          anthropic_api_key: \"any-string-is-ok\"\n```\n\n---\n\n## Troubleshooting\n\n### Router Won't Start\n```bash\n# Check if port 3456 is in use\nlsof -i :3456\n\n# Kill existing process\nccr stop\n\n# Start with debug logging\nccr code\n```\n\n### Configuration Errors\n```bash\n# Validate config using UI\nccr ui\n\n# Check logs\ntail -f ~/.claude-code-router/logs/ccr-*.log\ntail -f ~/.claude-code-router/claude-code-router.log\n```\n\n### Model Not Working\n- Verify API key is correct\n- Check API endpoint URL\n- Ensure correct transformer is configured\n- Review logs for error messages\n\n### Environment Variables Not Working\n```bash\n# Test variable interpolation\necho $OPENAI_API_KEY\n\n# Restart router after setting variables\nexport OPENAI_API_KEY=\"sk-...\"\nccr restart\n```\n\n---\n\n## Best Practices\n\n### Security\n- Never commit API keys to git\n- Use environment variables for sensitive data\n- Set `APIKEY` if exposing router over network\n- Keep `HOST` as `127.0.0.1` unless needed\n\n### Cost Optimization\n- Use local models (Ollama) for background tasks\n- Route simple tasks to cheaper models\n- Use powerful models only for complex reasoning\n- Monitor API usage through logs\n\n### Performance\n- Use `background` routing for file operations\n- Set appropriate `API_TIMEOUT_MS`\n- Consider local models for faster response\n- Use `longContext` routing to avoid token limits\n\n### Configuration Management\n- Keep config in version control (without API keys)\n- Use environment variables for secrets\n- Document your routing strategy\n- Test configuration with `ccr ui`\n\n---\n\n## Resources\n\n- **GitHub Repository**: https://github.com/musistudio/claude-code-router\n- **Discord Community**: https://discord.gg/rdftVMaUcS\n- **Claude Code Docs**: https://docs.anthropic.com/claude-code\n- **OpenRouter**: https://openrouter.ai/ (Access to 100+ models)\n- **Ollama**: https://ollama.ai/ (Local model hosting)\n\n---\n\n## Quick Start Checklist\n\n- [ ] Install Claude Code: `npm install -g @anthropic-ai/claude-code`\n- [ ] Install Router: `npm install -g @musistudio/claude-code-router`\n- [ ] Open UI: `ccr ui`\n- [ ] Configure at least one provider\n- [ ] Set default router\n- [ ] Test with: `ccr code`\n- [ ] Try switching models: `/model provider,model`\n- [ ] Optimize routing for your workflow\n\n---\n\n## Example: Getting Started in 5 Minutes\n\n```bash\n# 1. Install\nnpm install -g @anthropic-ai/claude-code\nnpm install -g @musistudio/claude-code-router\n\n# 2. Open UI and configure\nccr ui\n# Add your API keys and models in the browser\n\n# 3. Start using\nccr code\n\n# 4. Inside Claude Code, switch models anytime:\n/model deepseek,deepseek-chat\n/model openrouter,anthropic/claude-sonnet-4\n```\n\n---\n\n**Pro Tip**: Start with OpenRouter as your provider - it gives you access to 100+ models with a single API key, making it easy to experiment with different models without managing multiple API accounts.\n\nHappy routing!\n"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":16947,"cache_read_input_tokens":48805,"cache_creation":{"ephemeral_5m_input_tokens":16947,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm8CWcDH6eUq3gY4dohK","type":"assistant","uuid":"b45d0796-6efa-4c4f-9a9b-86830b45b28a","timestamp":"2025-11-03T14:38:30.750Z"}
{"type":"file-history-snapshot","messageId":"b45d0796-6efa-4c4f-9a9b-86830b45b28a","snapshot":{"messageId":"8dc5e29f-d83c-4465-927c-817ba0952c48","trackedFileBackups":{"claude-code-orchestration-tutorial.md":{"backupFileName":"6589202dfce7ef42@v2","version":2,"backupTime":"2025-11-03T14:35:11.286Z"},"claude-code-router-setup-guide.md":{"backupFileName":null,"version":1,"backupTime":"2025-11-03T14:39:10.382Z"}},"timestamp":"2025-11-03T14:36:11.372Z"},"isSnapshotUpdate":true}
{"parentUuid":"b45d0796-6efa-4c4f-9a9b-86830b45b28a","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_017M6Ex3QbgPhHqQi3ZtYAkL","type":"tool_result","content":"File created successfully at: /Users/levi/data/claude-code-router-setup-guide.md"}]},"uuid":"278de997-3e9f-42b0-8d9e-dce4aa87b904","timestamp":"2025-11-03T14:39:10.393Z","toolUseResult":{"type":"create","filePath":"/Users/levi/data/claude-code-router-setup-guide.md","content":"# Claude Code Router Setup Guide\n\nA complete guide to setting up and using Claude Code Router - a powerful tool that lets you route Claude Code requests to different AI models.\n\n---\n\n## What is Claude Code Router?\n\n**Claude Code Router** is an open-source proxy that sits between Claude Code and AI model providers. It allows you to:\n\n- **Route to any model**: Use GPT-5, DeepSeek, Gemini, Qwen, local models (Ollama), or any OpenAI-compatible API\n- **Smart routing**: Different models for different tasks (background tasks, reasoning, long context)\n- **Cost optimization**: Use cheaper/local models for simple tasks, powerful models for complex work\n- **Dynamic switching**: Change models on-the-fly with `/model` command\n- **Keep Claude Code updates**: Continue getting official Claude Code improvements while using any model\n\n**GitHub**: https://github.com/musistudio/claude-code-router (20.8k stars)\n\n---\n\n## Installation\n\n### Prerequisites\n- Node.js installed on your system\n- Claude Code installed\n\n### Step 1: Install Claude Code\n```bash\nnpm install -g @anthropic-ai/claude-code\n```\n\n### Step 2: Install Claude Code Router\n```bash\nnpm install -g @musistudio/claude-code-router\n```\n\nThat's it! The router is now installed globally as `ccr`.\n\n---\n\n## Basic Configuration\n\n### Step 3: Create Configuration File\n\nThe router stores its config at `~/.claude-code-router/config.json`. You can create it manually or use the UI (recommended).\n\n#### Option A: Use the UI (Recommended)\n```bash\nccr ui\n```\n\nThis opens a web interface where you can:\n- Import pre-configured templates\n- Add providers and models visually\n- Edit configuration with validation\n- Test your setup\n\n#### Option B: Manual Configuration\n\nCreate `~/.claude-code-router/config.json`:\n\n```json\n{\n  \"LOG\": true,\n  \"LOG_LEVEL\": \"debug\",\n  \"API_TIMEOUT_MS\": 600000,\n  \"Providers\": [\n    {\n      \"name\": \"openai\",\n      \"api_base_url\": \"https://api.openai.com/v1/chat/completions\",\n      \"api_key\": \"sk-your-api-key-here\",\n      \"models\": [\"gpt-4o\", \"gpt-4o-mini\"]\n    }\n  ],\n  \"Router\": {\n    \"default\": \"openai,gpt-4o\"\n  }\n}\n```\n\n---\n\n## Advanced Configuration\n\n### Configuration Structure\n\n```json\n{\n  \"PROXY_URL\": \"http://127.0.0.1:7890\",          // Optional: HTTP proxy\n  \"LOG\": true,                                    // Enable/disable logging\n  \"LOG_LEVEL\": \"debug\",                          // Log level: fatal|error|warn|info|debug|trace\n  \"APIKEY\": \"your-secret-key\",                   // Optional: Secure your router\n  \"HOST\": \"127.0.0.1\",                           // Server host (127.0.0.1 if no APIKEY)\n  \"NON_INTERACTIVE_MODE\": false,                 // For CI/CD environments\n  \"API_TIMEOUT_MS\": 600000,                      // API timeout in milliseconds\n\n  \"Providers\": [/* provider configs */],\n  \"Router\": {/* routing rules */}\n}\n```\n\n### Environment Variables\n\nYou can use environment variables in your config:\n\n```json\n{\n  \"Providers\": [\n    {\n      \"name\": \"openai\",\n      \"api_base_url\": \"https://api.openai.com/v1/chat/completions\",\n      \"api_key\": \"$OPENAI_API_KEY\",\n      \"models\": [\"gpt-4o\"]\n    },\n    {\n      \"name\": \"deepseek\",\n      \"api_base_url\": \"https://api.deepseek.com/chat/completions\",\n      \"api_key\": \"${DEEPSEEK_API_KEY}\",\n      \"models\": [\"deepseek-chat\", \"deepseek-reasoner\"]\n    }\n  ]\n}\n```\n\nThen set in your shell:\n```bash\nexport OPENAI_API_KEY=\"sk-...\"\nexport DEEPSEEK_API_KEY=\"sk-...\"\n```\n\n---\n\n## Provider Configuration\n\n### Provider Structure\n\n```json\n{\n  \"name\": \"provider-name\",\n  \"api_base_url\": \"https://api.example.com/v1/chat/completions\",\n  \"api_key\": \"your-api-key\",\n  \"models\": [\"model-1\", \"model-2\"],\n  \"transformer\": {\n    \"use\": [\"transformer-name\"]\n  }\n}\n```\n\n### Example Providers\n\n#### OpenAI / OpenAI-Compatible APIs\n```json\n{\n  \"name\": \"openai\",\n  \"api_base_url\": \"https://api.openai.com/v1/chat/completions\",\n  \"api_key\": \"sk-...\",\n  \"models\": [\"gpt-4o\", \"gpt-4o-mini\", \"o1-preview\"]\n}\n```\n\n#### DeepSeek\n```json\n{\n  \"name\": \"deepseek\",\n  \"api_base_url\": \"https://api.deepseek.com/chat/completions\",\n  \"api_key\": \"sk-...\",\n  \"models\": [\"deepseek-chat\", \"deepseek-reasoner\"],\n  \"transformer\": {\n    \"use\": [\"deepseek\"],\n    \"deepseek-chat\": {\n      \"use\": [\"tooluse\"]\n    }\n  }\n}\n```\n\n#### OpenRouter (Access 100+ Models)\n```json\n{\n  \"name\": \"openrouter\",\n  \"api_base_url\": \"https://openrouter.ai/api/v1/chat/completions\",\n  \"api_key\": \"sk-or-...\",\n  \"models\": [\n    \"google/gemini-2.5-pro-preview\",\n    \"anthropic/claude-sonnet-4\",\n    \"openai/gpt-4o\",\n    \"meta-llama/llama-3.3-70b-instruct\"\n  ],\n  \"transformer\": {\n    \"use\": [\"openrouter\"]\n  }\n}\n```\n\n#### Ollama (Local Models)\n```json\n{\n  \"name\": \"ollama\",\n  \"api_base_url\": \"http://localhost:11434/v1/chat/completions\",\n  \"api_key\": \"ollama\",\n  \"models\": [\"qwen2.5-coder:latest\", \"llama3.2:latest\"]\n}\n```\n\n#### Google Gemini\n```json\n{\n  \"name\": \"gemini\",\n  \"api_base_url\": \"https://generativelanguage.googleapis.com/v1beta/models/\",\n  \"api_key\": \"your-gemini-key\",\n  \"models\": [\"gemini-2.5-flash\", \"gemini-2.5-pro\"],\n  \"transformer\": {\n    \"use\": [\"gemini\"]\n  }\n}\n```\n\n---\n\n## Router Configuration\n\nThe `Router` object defines which model to use for different scenarios:\n\n```json\n{\n  \"Router\": {\n    \"default\": \"provider,model-name\",\n    \"background\": \"provider,model-name\",\n    \"think\": \"provider,model-name\",\n    \"longContext\": \"provider,model-name\",\n    \"longContextThreshold\": 60000,\n    \"webSearch\": \"provider,model-name\",\n    \"image\": \"provider,model-name\"\n  }\n}\n```\n\n### Router Types\n\n| Type | Purpose | Example Use Case |\n|------|---------|------------------|\n| `default` | General coding tasks | Main model for most work |\n| `background` | Background operations | File searches, simple tasks (use local/cheap model) |\n| `think` | Reasoning-heavy tasks | Plan mode, complex problem solving |\n| `longContext` | Long context handling | Large codebases, many files |\n| `longContextThreshold` | Token threshold for long context | Default: 60000 tokens |\n| `webSearch` | Web search tasks | Requires model with web search support |\n| `image` | Image-related tasks | Vision models for screenshots, diagrams |\n\n### Example Router Configuration\n\n```json\n{\n  \"Router\": {\n    \"default\": \"deepseek,deepseek-chat\",\n    \"background\": \"ollama,qwen2.5-coder:latest\",\n    \"think\": \"deepseek,deepseek-reasoner\",\n    \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\",\n    \"longContextThreshold\": 60000,\n    \"webSearch\": \"gemini,gemini-2.5-flash\",\n    \"image\": \"openrouter,anthropic/claude-sonnet-4\"\n  }\n}\n```\n\n**Strategy**: Use local/cheap models for background tasks, powerful models for complex reasoning.\n\n---\n\n## Transformers\n\nTransformers adapt requests/responses for different API formats.\n\n### Available Built-in Transformers\n\n- `Anthropic` - Preserves original Claude format\n- `deepseek` - DeepSeek API format\n- `gemini` - Google Gemini API format\n- `openrouter` - OpenRouter API format (with provider routing)\n- `groq` - Groq API format\n- `maxtoken` - Set specific max_tokens limit\n- `tooluse` - Optimize tool usage via tool_choice\n- `reasoning` - Process reasoning_content field\n- `sampling` - Handle temperature, top_p, etc.\n- `enhancetool` - Error tolerance for tool calls\n- `cleancache` - Remove cache_control fields\n- `vertex-gemini` - Vertex AI authentication\n\n### Global Transformer (All Models)\n```json\n{\n  \"name\": \"openrouter\",\n  \"transformer\": {\n    \"use\": [\"openrouter\"]\n  }\n}\n```\n\n### Model-Specific Transformer\n```json\n{\n  \"name\": \"deepseek\",\n  \"transformer\": {\n    \"use\": [\"deepseek\"],\n    \"deepseek-chat\": {\n      \"use\": [\"tooluse\"]\n    }\n  }\n}\n```\n\n### Transformer with Options\n```json\n{\n  \"name\": \"custom-provider\",\n  \"transformer\": {\n    \"use\": [\n      [\"maxtoken\", { \"max_tokens\": 16384 }]\n    ]\n  }\n}\n```\n\n### Custom Transformers\n\nCreate your own transformer:\n\n```json\n{\n  \"transformers\": [\n    {\n      \"path\": \"/path/to/custom-transformer.js\",\n      \"options\": {\n        \"project\": \"my-project\"\n      }\n    }\n  ]\n}\n```\n\n---\n\n## Running Claude Code Router\n\n### Start the Router\n```bash\nccr code\n```\n\nThis will:\n1. Start the router proxy server on `http://localhost:3456`\n2. Launch Claude Code configured to use the router\n3. Route all requests according to your configuration\n\n### Restart After Config Changes\n```bash\nccr restart\n```\n\n### Stop the Router\n```bash\nccr stop\n```\n\n### Check Router Status\n```bash\nccr status\n```\n\n---\n\n## Using the Router\n\n### Dynamic Model Switching\n\nWhile in Claude Code, you can switch models on-the-fly:\n\n```\n/model provider,model-name\n```\n\n**Examples:**\n```\n/model openrouter,anthropic/claude-sonnet-4\n/model deepseek,deepseek-reasoner\n/model ollama,qwen2.5-coder:latest\n```\n\n### CLI Model Management\n\nInteractive terminal interface for managing models:\n\n```bash\nccr model\n```\n\nThis provides:\n- View current configuration\n- Switch models for each router type\n- Add new models to providers\n- Create new providers\n- Configure transformers\n\n### Status Line (Beta)\n\nEnable a status line in Claude Code to monitor:\n- Current model in use\n- Router status\n- Request/response metrics\n\nEnable in the UI or add to config:\n```json\n{\n  \"statusline\": {\n    \"enabled\": true\n  }\n}\n```\n\n---\n\n## Example Configurations\n\n### Cost-Optimized Setup\n```json\n{\n  \"Providers\": [\n    {\n      \"name\": \"deepseek\",\n      \"api_base_url\": \"https://api.deepseek.com/chat/completions\",\n      \"api_key\": \"$DEEPSEEK_API_KEY\",\n      \"models\": [\"deepseek-chat\", \"deepseek-reasoner\"],\n      \"transformer\": {\n        \"use\": [\"deepseek\"],\n        \"deepseek-chat\": { \"use\": [\"tooluse\"] }\n      }\n    },\n    {\n      \"name\": \"ollama\",\n      \"api_base_url\": \"http://localhost:11434/v1/chat/completions\",\n      \"api_key\": \"ollama\",\n      \"models\": [\"qwen2.5-coder:7b\"]\n    }\n  ],\n  \"Router\": {\n    \"default\": \"deepseek,deepseek-chat\",\n    \"background\": \"ollama,qwen2.5-coder:7b\",\n    \"think\": \"deepseek,deepseek-reasoner\"\n  }\n}\n```\n\n### Multi-Model Power Setup\n```json\n{\n  \"Providers\": [\n    {\n      \"name\": \"openrouter\",\n      \"api_base_url\": \"https://openrouter.ai/api/v1/chat/completions\",\n      \"api_key\": \"$OPENROUTER_API_KEY\",\n      \"models\": [\n        \"anthropic/claude-sonnet-4\",\n        \"google/gemini-2.5-pro-preview\",\n        \"openai/o1-preview\"\n      ],\n      \"transformer\": { \"use\": [\"openrouter\"] }\n    }\n  ],\n  \"Router\": {\n    \"default\": \"openrouter,anthropic/claude-sonnet-4\",\n    \"think\": \"openrouter,openai/o1-preview\",\n    \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\"\n  }\n}\n```\n\n### Local-First Setup\n```json\n{\n  \"Providers\": [\n    {\n      \"name\": \"ollama\",\n      \"api_base_url\": \"http://localhost:11434/v1/chat/completions\",\n      \"api_key\": \"ollama\",\n      \"models\": [\n        \"qwen2.5-coder:32b\",\n        \"deepseek-r1:14b\",\n        \"llama3.2:latest\"\n      ]\n    }\n  ],\n  \"Router\": {\n    \"default\": \"ollama,qwen2.5-coder:32b\",\n    \"background\": \"ollama,llama3.2:latest\",\n    \"think\": \"ollama,deepseek-r1:14b\"\n  }\n}\n```\n\n---\n\n## Advanced Features\n\n### Custom Router Logic\n\nFor complex routing rules, create a custom router:\n\n**config.json:**\n```json\n{\n  \"CUSTOM_ROUTER_PATH\": \"/path/to/custom-router.js\"\n}\n```\n\n**custom-router.js:**\n```javascript\n/**\n * Custom router function\n * @param {object} req - Request object from Claude Code\n * @param {object} config - Configuration object\n * @returns {Promise<string|null>} - \"provider,model\" or null for default\n */\nmodule.exports = async function router(req, config) {\n  const userMessage = req.body.messages.find(m => m.role === \"user\")?.content;\n\n  // Route code reviews to powerful model\n  if (userMessage && userMessage.includes(\"review this code\")) {\n    return \"openrouter,anthropic/claude-sonnet-4\";\n  }\n\n  // Route refactoring to reasoning model\n  if (userMessage && userMessage.includes(\"refactor\")) {\n    return \"deepseek,deepseek-reasoner\";\n  }\n\n  // Use default routing\n  return null;\n};\n```\n\n### Subagent Routing\n\nRoute specific subagent tasks to specific models by adding a tag to the subagent prompt:\n\n```\n<CCR-SUBAGENT-MODEL>provider,model</CCR-SUBAGENT-MODEL>\nPlease analyze this codebase for security vulnerabilities...\n```\n\n### GitHub Actions Integration\n\nUse Claude Code Router in CI/CD:\n\n**.github/workflows/claude.yaml:**\n```yaml\nname: Claude Code\n\non:\n  issue_comment:\n    types: [created]\n\njobs:\n  claude:\n    if: contains(github.event.comment.body, '@claude')\n    runs-on: ubuntu-latest\n    permissions:\n      contents: read\n      pull-requests: read\n      issues: read\n      id-token: write\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v4\n\n      - name: Prepare Environment\n        run: |\n          curl -fsSL https://bun.sh/install | bash\n          mkdir -p $HOME/.claude-code-router\n          cat << 'EOF' > $HOME/.claude-code-router/config.json\n          {\n            \"log\": true,\n            \"NON_INTERACTIVE_MODE\": true,\n            \"Providers\": [\n              {\n                \"name\": \"deepseek\",\n                \"api_base_url\": \"https://api.deepseek.com/chat/completions\",\n                \"api_key\": \"${{ secrets.DEEPSEEK_API_KEY }}\",\n                \"models\": [\"deepseek-chat\"],\n                \"transformer\": {\n                  \"use\": [\"deepseek\"],\n                  \"deepseek-chat\": { \"use\": [\"tooluse\"] }\n                }\n              }\n            ],\n            \"Router\": {\n              \"default\": \"deepseek,deepseek-chat\"\n            }\n          }\n          EOF\n        shell: bash\n\n      - name: Start Claude Code Router\n        run: |\n          nohup ~/.bun/bin/bunx @musistudio/claude-code-router start &\n        shell: bash\n\n      - name: Run Claude Code\n        uses: anthropics/claude-code-action@beta\n        env:\n          ANTHROPIC_BASE_URL: http://localhost:3456\n        with:\n          anthropic_api_key: \"any-string-is-ok\"\n```\n\n---\n\n## Troubleshooting\n\n### Router Won't Start\n```bash\n# Check if port 3456 is in use\nlsof -i :3456\n\n# Kill existing process\nccr stop\n\n# Start with debug logging\nccr code\n```\n\n### Configuration Errors\n```bash\n# Validate config using UI\nccr ui\n\n# Check logs\ntail -f ~/.claude-code-router/logs/ccr-*.log\ntail -f ~/.claude-code-router/claude-code-router.log\n```\n\n### Model Not Working\n- Verify API key is correct\n- Check API endpoint URL\n- Ensure correct transformer is configured\n- Review logs for error messages\n\n### Environment Variables Not Working\n```bash\n# Test variable interpolation\necho $OPENAI_API_KEY\n\n# Restart router after setting variables\nexport OPENAI_API_KEY=\"sk-...\"\nccr restart\n```\n\n---\n\n## Best Practices\n\n### Security\n- Never commit API keys to git\n- Use environment variables for sensitive data\n- Set `APIKEY` if exposing router over network\n- Keep `HOST` as `127.0.0.1` unless needed\n\n### Cost Optimization\n- Use local models (Ollama) for background tasks\n- Route simple tasks to cheaper models\n- Use powerful models only for complex reasoning\n- Monitor API usage through logs\n\n### Performance\n- Use `background` routing for file operations\n- Set appropriate `API_TIMEOUT_MS`\n- Consider local models for faster response\n- Use `longContext` routing to avoid token limits\n\n### Configuration Management\n- Keep config in version control (without API keys)\n- Use environment variables for secrets\n- Document your routing strategy\n- Test configuration with `ccr ui`\n\n---\n\n## Resources\n\n- **GitHub Repository**: https://github.com/musistudio/claude-code-router\n- **Discord Community**: https://discord.gg/rdftVMaUcS\n- **Claude Code Docs**: https://docs.anthropic.com/claude-code\n- **OpenRouter**: https://openrouter.ai/ (Access to 100+ models)\n- **Ollama**: https://ollama.ai/ (Local model hosting)\n\n---\n\n## Quick Start Checklist\n\n- [ ] Install Claude Code: `npm install -g @anthropic-ai/claude-code`\n- [ ] Install Router: `npm install -g @musistudio/claude-code-router`\n- [ ] Open UI: `ccr ui`\n- [ ] Configure at least one provider\n- [ ] Set default router\n- [ ] Test with: `ccr code`\n- [ ] Try switching models: `/model provider,model`\n- [ ] Optimize routing for your workflow\n\n---\n\n## Example: Getting Started in 5 Minutes\n\n```bash\n# 1. Install\nnpm install -g @anthropic-ai/claude-code\nnpm install -g @musistudio/claude-code-router\n\n# 2. Open UI and configure\nccr ui\n# Add your API keys and models in the browser\n\n# 3. Start using\nccr code\n\n# 4. Inside Claude Code, switch models anytime:\n/model deepseek,deepseek-chat\n/model openrouter,anthropic/claude-sonnet-4\n```\n\n---\n\n**Pro Tip**: Start with OpenRouter as your provider - it gives you access to 100+ models with a single API key, making it easy to experiment with different models without managing multiple API accounts.\n\nHappy routing!\n","structuredPatch":[]}}
{"parentUuid":"278de997-3e9f-42b0-8d9e-dce4aa87b904","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01VhzRh2Wja6ULmpjNsoyApm","type":"message","role":"assistant","content":[{"type":"text","text":"Perfect! I've created a comprehensive setup guide for Claude Code Router. Here's what's included:\n\n## Guide Overview\n\n**Complete coverage of:**\n\n1. **What it is** - Overview and benefits\n2. **Installation** - Step-by-step setup (2 commands)\n3. **Basic Configuration** - UI and manual setup\n4. **Advanced Configuration** - All config options explained\n5. **Provider Configuration** - Examples for OpenAI, DeepSeek, OpenRouter, Ollama, Gemini\n6. **Router Configuration** - Smart routing strategies\n7. **Transformers** - API format adapters\n8. **Running the Router** - All CLI commands\n9. **Usage** - Dynamic model switching, CLI management\n10. **Example Configurations** - Cost-optimized, power setup, local-first\n11. **Advanced Features** - Custom routing logic, subagent routing, GitHub Actions\n12. **Troubleshooting** - Common issues and solutions\n13. **Best Practices** - Security, cost, performance tips\n\n## Key Highlights\n\n**What makes Claude Code Router powerful:**\n- Route to ANY model (GPT, DeepSeek, Gemini, local Ollama)\n- Smart routing (cheap models for background, powerful for reasoning)\n- Dynamic switching with `/model` command\n- Keep Claude Code updates from Anthropic\n- Cost optimization (use free/local models strategically)\n\n**Quick Start:**\n```bash\nnpm install -g @musistudio/claude-code-router\nccr ui  # Configure in browser\nccr code  # Start coding!\n```\n\nThe file is saved at: `claude-code-router-setup-guide.md`\n\nThis gives you complete control over which models Claude Code uses while maintaining all of Claude Code's features and orchestration capabilities!"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":5408,"cache_read_input_tokens":65752,"cache_creation":{"ephemeral_5m_input_tokens":5408,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm8Nbipnm7uCGrJ8hbyU","type":"assistant","uuid":"35c66349-9e1c-4a3c-8c89-187ed573f5c0","timestamp":"2025-11-03T14:39:23.672Z"}
{"type":"file-history-snapshot","messageId":"551aa49b-6c3b-4381-b66e-4ccf89dbaa02","snapshot":{"messageId":"551aa49b-6c3b-4381-b66e-4ccf89dbaa02","trackedFileBackups":{"claude-code-orchestration-tutorial.md":{"backupFileName":"6589202dfce7ef42@v2","version":2,"backupTime":"2025-11-03T14:35:11.286Z"},"claude-code-router-setup-guide.md":{"backupFileName":"1451ebeafa83e8c1@v2","version":2,"backupTime":"2025-11-03T14:40:01.303Z"}},"timestamp":"2025-11-03T14:40:01.296Z"},"isSnapshotUpdate":false}
{"parentUuid":"35c66349-9e1c-4a3c-8c89-187ed573f5c0","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":"could you create a config.json file set up for openrouter and perplexity api"},"uuid":"551aa49b-6c3b-4381-b66e-4ccf89dbaa02","timestamp":"2025-11-03T14:40:01.290Z","thinkingMetadata":{"level":"none","disabled":true,"triggers":[]}}
{"parentUuid":"551aa49b-6c3b-4381-b66e-4ccf89dbaa02","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_016AmPhJCRYRvvWSWxBvAacm","type":"message","role":"assistant","content":[{"type":"text","text":"I'll create a ready-to-use config.json file for OpenRouter and Perplexity API."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":523,"cache_read_input_tokens":71160,"cache_creation":{"ephemeral_5m_input_tokens":523,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm8SMH2NJw3QbkF8vcBU","type":"assistant","uuid":"34f6e2ed-29b0-4dd1-8924-c856d75cc69a","timestamp":"2025-11-03T14:40:04.911Z"}
{"parentUuid":"34f6e2ed-29b0-4dd1-8924-c856d75cc69a","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_016AmPhJCRYRvvWSWxBvAacm","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01TigQuHptTruphBZJh4ssr7","name":"Write","input":{"file_path":"/Users/levi/data/claude-code-router-config.json","content":"{\n  \"LOG\": true,\n  \"LOG_LEVEL\": \"info\",\n  \"API_TIMEOUT_MS\": 600000,\n  \"NON_INTERACTIVE_MODE\": false,\n\n  \"Providers\": [\n    {\n      \"name\": \"openrouter\",\n      \"api_base_url\": \"https://openrouter.ai/api/v1/chat/completions\",\n      \"api_key\": \"$OPENROUTER_API_KEY\",\n      \"models\": [\n        \"anthropic/claude-sonnet-4\",\n        \"anthropic/claude-3.5-sonnet\",\n        \"google/gemini-2.5-pro-preview\",\n        \"google/gemini-2.5-flash-preview\",\n        \"openai/gpt-4o\",\n        \"openai/gpt-4o-mini\",\n        \"openai/o1-preview\",\n        \"deepseek/deepseek-chat\",\n        \"deepseek/deepseek-reasoner\",\n        \"meta-llama/llama-3.3-70b-instruct\",\n        \"qwen/qwen-2.5-coder-32b-instruct\"\n      ],\n      \"transformer\": {\n        \"use\": [\"openrouter\"]\n      }\n    },\n    {\n      \"name\": \"perplexity\",\n      \"api_base_url\": \"https://api.perplexity.ai/chat/completions\",\n      \"api_key\": \"$PERPLEXITY_API_KEY\",\n      \"models\": [\n        \"sonar-pro\",\n        \"sonar\",\n        \"sonar-reasoning\"\n      ],\n      \"transformer\": {\n        \"use\": [\"sampling\", \"cleancache\"]\n      }\n    }\n  ],\n\n  \"Router\": {\n    \"default\": \"openrouter,anthropic/claude-sonnet-4\",\n    \"background\": \"openrouter,google/gemini-2.5-flash-preview\",\n    \"think\": \"openrouter,openai/o1-preview\",\n    \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\",\n    \"longContextThreshold\": 60000,\n    \"webSearch\": \"perplexity,sonar-pro\"\n  }\n}\n"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":523,"cache_read_input_tokens":71160,"cache_creation":{"ephemeral_5m_input_tokens":523,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm8SMH2NJw3QbkF8vcBU","type":"assistant","uuid":"4ad16f31-6195-4557-81fa-e4541333ecf8","timestamp":"2025-11-03T14:40:11.914Z"}
{"type":"file-history-snapshot","messageId":"4ad16f31-6195-4557-81fa-e4541333ecf8","snapshot":{"messageId":"551aa49b-6c3b-4381-b66e-4ccf89dbaa02","trackedFileBackups":{"claude-code-orchestration-tutorial.md":{"backupFileName":"6589202dfce7ef42@v2","version":2,"backupTime":"2025-11-03T14:35:11.286Z"},"claude-code-router-setup-guide.md":{"backupFileName":"1451ebeafa83e8c1@v2","version":2,"backupTime":"2025-11-03T14:40:01.303Z"},"claude-code-router-config.json":{"backupFileName":null,"version":1,"backupTime":"2025-11-03T14:40:24.540Z"}},"timestamp":"2025-11-03T14:40:01.296Z"},"isSnapshotUpdate":true}
{"parentUuid":"4ad16f31-6195-4557-81fa-e4541333ecf8","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01TigQuHptTruphBZJh4ssr7","type":"tool_result","content":"File created successfully at: /Users/levi/data/claude-code-router-config.json"}]},"uuid":"dcfbacdf-da17-41f4-9508-db6f371e41fe","timestamp":"2025-11-03T14:40:24.550Z","toolUseResult":{"type":"create","filePath":"/Users/levi/data/claude-code-router-config.json","content":"{\n  \"LOG\": true,\n  \"LOG_LEVEL\": \"info\",\n  \"API_TIMEOUT_MS\": 600000,\n  \"NON_INTERACTIVE_MODE\": false,\n\n  \"Providers\": [\n    {\n      \"name\": \"openrouter\",\n      \"api_base_url\": \"https://openrouter.ai/api/v1/chat/completions\",\n      \"api_key\": \"$OPENROUTER_API_KEY\",\n      \"models\": [\n        \"anthropic/claude-sonnet-4\",\n        \"anthropic/claude-3.5-sonnet\",\n        \"google/gemini-2.5-pro-preview\",\n        \"google/gemini-2.5-flash-preview\",\n        \"openai/gpt-4o\",\n        \"openai/gpt-4o-mini\",\n        \"openai/o1-preview\",\n        \"deepseek/deepseek-chat\",\n        \"deepseek/deepseek-reasoner\",\n        \"meta-llama/llama-3.3-70b-instruct\",\n        \"qwen/qwen-2.5-coder-32b-instruct\"\n      ],\n      \"transformer\": {\n        \"use\": [\"openrouter\"]\n      }\n    },\n    {\n      \"name\": \"perplexity\",\n      \"api_base_url\": \"https://api.perplexity.ai/chat/completions\",\n      \"api_key\": \"$PERPLEXITY_API_KEY\",\n      \"models\": [\n        \"sonar-pro\",\n        \"sonar\",\n        \"sonar-reasoning\"\n      ],\n      \"transformer\": {\n        \"use\": [\"sampling\", \"cleancache\"]\n      }\n    }\n  ],\n\n  \"Router\": {\n    \"default\": \"openrouter,anthropic/claude-sonnet-4\",\n    \"background\": \"openrouter,google/gemini-2.5-flash-preview\",\n    \"think\": \"openrouter,openai/o1-preview\",\n    \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\",\n    \"longContextThreshold\": 60000,\n    \"webSearch\": \"perplexity,sonar-pro\"\n  }\n}\n","structuredPatch":[]}}
{"parentUuid":"dcfbacdf-da17-41f4-9508-db6f371e41fe","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_013rTgqkTtq4zM1zuWFsnBJ6","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me create a setup instructions file specifically for this configuration:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":693,"cache_read_input_tokens":71683,"cache_creation":{"ephemeral_5m_input_tokens":693,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm8U4ehsnp65m516u7vx","type":"assistant","uuid":"3791cec0-f983-48a0-84d7-d43af5c9375f","timestamp":"2025-11-03T14:40:27.794Z"}
{"parentUuid":"3791cec0-f983-48a0-84d7-d43af5c9375f","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_013rTgqkTtq4zM1zuWFsnBJ6","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Gs8t4vxBBvZrataHC7ywi8","name":"Write","input":{"file_path":"/Users/levi/data/SETUP-INSTRUCTIONS.md","content":"# Claude Code Router Setup Instructions\n## OpenRouter + Perplexity Configuration\n\nThis guide will help you set up Claude Code Router with OpenRouter and Perplexity API.\n\n---\n\n## Prerequisites\n\n1. **OpenRouter Account**: Sign up at https://openrouter.ai/\n   - Get your API key from https://openrouter.ai/keys\n   - Add credits to your account (pay-as-you-go)\n\n2. **Perplexity Account**: Sign up at https://www.perplexity.ai/\n   - Get your API key from https://www.perplexity.ai/settings/api\n   - Purchase API credits\n\n---\n\n## Installation Steps\n\n### Step 1: Install Claude Code Router\n\n```bash\nnpm install -g @anthropic-ai/claude-code\nnpm install -g @musistudio/claude-code-router\n```\n\n### Step 2: Set Up Environment Variables\n\nAdd these to your shell configuration file (`~/.zshrc`, `~/.bashrc`, or `~/.bash_profile`):\n\n```bash\nexport OPENROUTER_API_KEY=\"sk-or-v1-YOUR-KEY-HERE\"\nexport PERPLEXITY_API_KEY=\"pplx-YOUR-KEY-HERE\"\n```\n\nThen reload your shell:\n```bash\nsource ~/.zshrc  # or source ~/.bashrc\n```\n\n**Verify your environment variables:**\n```bash\necho $OPENROUTER_API_KEY\necho $PERPLEXITY_API_KEY\n```\n\n### Step 3: Copy Configuration File\n\nCopy the provided `claude-code-router-config.json` to the router's config directory:\n\n```bash\n# Create the directory if it doesn't exist\nmkdir -p ~/.claude-code-router\n\n# Copy the config file\ncp claude-code-router-config.json ~/.claude-code-router/config.json\n```\n\n### Step 4: Start Using Claude Code Router\n\n```bash\nccr code\n```\n\n---\n\n## Configuration Explained\n\n### OpenRouter Provider\n\n**Available Models:**\n- `anthropic/claude-sonnet-4` - Most capable Claude model\n- `anthropic/claude-3.5-sonnet` - Fast and capable\n- `google/gemini-2.5-pro-preview` - Best for long context (2M tokens)\n- `google/gemini-2.5-flash-preview` - Fast and cheap\n- `openai/gpt-4o` - OpenAI's latest multimodal model\n- `openai/gpt-4o-mini` - Cheaper GPT-4 variant\n- `openai/o1-preview` - Advanced reasoning model\n- `deepseek/deepseek-chat` - Excellent coding model (cheap)\n- `deepseek/deepseek-reasoner` - Deep reasoning capabilities\n- `meta-llama/llama-3.3-70b-instruct` - Open source powerhouse\n- `qwen/qwen-2.5-coder-32b-instruct` - Specialized coding model\n\n**Why OpenRouter?**\n- Access 100+ models with one API key\n- Unified billing across all providers\n- Automatic fallback if a model is down\n- Pay only for what you use\n\n### Perplexity Provider\n\n**Available Models:**\n- `sonar-pro` - Enhanced search with citations (default for web search)\n- `sonar` - Fast search-augmented responses\n- `sonar-reasoning` - Deep reasoning with web search\n\n**Why Perplexity?**\n- Real-time web search built-in\n- Provides citations and sources\n- Up-to-date information\n- Great for research tasks\n\n### Routing Strategy\n\n```json\n{\n  \"default\": \"openrouter,anthropic/claude-sonnet-4\",\n  \"background\": \"openrouter,google/gemini-2.5-flash-preview\",\n  \"think\": \"openrouter,openai/o1-preview\",\n  \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\",\n  \"webSearch\": \"perplexity,sonar-pro\"\n}\n```\n\n**Explanation:**\n- **Default**: Claude Sonnet 4 for general tasks (most capable)\n- **Background**: Gemini Flash for simple operations (fast & cheap)\n- **Think**: O1 Preview for complex reasoning (Plan mode)\n- **Long Context**: Gemini Pro for huge contexts (2M token window)\n- **Web Search**: Perplexity Sonar Pro for current information\n\n---\n\n## Cost Optimization Tips\n\n### Estimated Costs (as of 2025)\n\n**OpenRouter Pricing (approximate):**\n- Claude Sonnet 4: $3/$15 per 1M tokens (input/output)\n- Gemini Flash: $0.075/$0.30 per 1M tokens\n- GPT-4o: $2.50/$10 per 1M tokens\n- O1 Preview: $15/$60 per 1M tokens\n- DeepSeek Chat: $0.14/$0.28 per 1M tokens\n\n**Perplexity Pricing:**\n- Sonar Pro: $3/$15 per 1M tokens\n- Sonar: $1/$5 per 1M tokens\n\n### Cost Saving Strategies\n\n1. **Use Gemini Flash for Background Tasks**\n   - File searches, simple operations\n   - 20x cheaper than Claude Sonnet 4\n\n2. **Use DeepSeek for Coding Tasks**\n   - Excellent code quality\n   - 20x cheaper than Claude Sonnet 4\n   - Update config: `\"default\": \"openrouter,deepseek/deepseek-chat\"`\n\n3. **Reserve O1 for Complex Problems Only**\n   - 4x more expensive than Claude\n   - Use only when you need deep reasoning\n\n4. **Use Perplexity Sparingly**\n   - Only for tasks requiring web search\n   - Consider using free models for non-web tasks\n\n---\n\n## Customization Options\n\n### Budget-Conscious Configuration\n\nReplace the Router section with:\n\n```json\n{\n  \"Router\": {\n    \"default\": \"openrouter,deepseek/deepseek-chat\",\n    \"background\": \"openrouter,google/gemini-2.5-flash-preview\",\n    \"think\": \"openrouter,deepseek/deepseek-reasoner\",\n    \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\",\n    \"webSearch\": \"perplexity,sonar\"\n  }\n}\n```\n\n**Cost savings**: ~90% compared to using Claude Sonnet 4 for everything\n\n### Power User Configuration\n\n```json\n{\n  \"Router\": {\n    \"default\": \"openrouter,anthropic/claude-sonnet-4\",\n    \"background\": \"openrouter,anthropic/claude-3.5-sonnet\",\n    \"think\": \"openrouter,openai/o1-preview\",\n    \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\",\n    \"webSearch\": \"perplexity,sonar-pro\"\n  }\n}\n```\n\n**Focus**: Maximum capability across all task types\n\n### Balanced Configuration (Recommended)\n\n```json\n{\n  \"Router\": {\n    \"default\": \"openrouter,deepseek/deepseek-chat\",\n    \"background\": \"openrouter,google/gemini-2.5-flash-preview\",\n    \"think\": \"openrouter,anthropic/claude-sonnet-4\",\n    \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\",\n    \"webSearch\": \"perplexity,sonar-pro\"\n  }\n}\n```\n\n**Sweet spot**: DeepSeek for most work, Claude for hard problems\n\n---\n\n## Dynamic Model Switching\n\nWhile using Claude Code, you can switch models on-the-fly:\n\n### Switch to Different Models\n\n```bash\n# Use Claude Sonnet 4\n/model openrouter,anthropic/claude-sonnet-4\n\n# Use DeepSeek (cheap & good)\n/model openrouter,deepseek/deepseek-chat\n\n# Use O1 for reasoning\n/model openrouter,openai/o1-preview\n\n# Use Perplexity for web search\n/model perplexity,sonar-pro\n\n# Use Gemini Pro for long context\n/model openrouter,google/gemini-2.5-pro-preview\n```\n\n### Common Scenarios\n\n**Working on a complex algorithm:**\n```\n/model openrouter,openai/o1-preview\n```\n\n**Need current information:**\n```\n/model perplexity,sonar-pro\n```\n\n**Processing a huge codebase:**\n```\n/model openrouter,google/gemini-2.5-pro-preview\n```\n\n**Want to save money on simple tasks:**\n```\n/model openrouter,deepseek/deepseek-chat\n```\n\n---\n\n## CLI Model Management\n\nInteractive terminal interface:\n\n```bash\nccr model\n```\n\nThis allows you to:\n- View current model configuration\n- Switch models for different router types\n- Add new models\n- Update providers\n\n---\n\n## Web UI Configuration\n\nFor a visual configuration experience:\n\n```bash\nccr ui\n```\n\nOpens a browser interface where you can:\n- Edit configuration visually\n- Import templates\n- Test your setup\n- Manage providers and models\n\n---\n\n## Troubleshooting\n\n### Error: \"Invalid API Key\"\n\n**OpenRouter:**\n```bash\n# Check your key\necho $OPENROUTER_API_KEY\n\n# Get a new key from https://openrouter.ai/keys\nexport OPENROUTER_API_KEY=\"sk-or-v1-...\"\n\n# Restart router\nccr restart\n```\n\n**Perplexity:**\n```bash\n# Check your key\necho $PERPLEXITY_API_KEY\n\n# Get a new key from https://www.perplexity.ai/settings/api\nexport PERPLEXITY_API_KEY=\"pplx-...\"\n\n# Restart router\nccr restart\n```\n\n### Error: \"Insufficient Credits\"\n\n**OpenRouter:**\n- Visit https://openrouter.ai/account\n- Add credits to your account\n\n**Perplexity:**\n- Visit https://www.perplexity.ai/settings/api\n- Purchase API credits\n\n### Router Won't Start\n\n```bash\n# Stop existing router\nccr stop\n\n# Check logs\ntail -f ~/.claude-code-router/logs/ccr-*.log\n\n# Start with fresh config\nccr code\n```\n\n### Configuration Not Loading\n\n```bash\n# Check config file location\nls -la ~/.claude-code-router/config.json\n\n# Validate JSON syntax\ncat ~/.claude-code-router/config.json | python -m json.tool\n\n# Use UI to fix issues\nccr ui\n```\n\n---\n\n## Testing Your Setup\n\n### 1. Start the Router\n```bash\nccr code\n```\n\n### 2. Test Default Model\n```\nHello! What model are you currently using?\n```\n\n### 3. Test Model Switching\n```\n/model openrouter,deepseek/deepseek-chat\nWhat model are you now?\n```\n\n### 4. Test Web Search (Perplexity)\n```\n/model perplexity,sonar-pro\nWhat are the latest developments in AI this week?\n```\n\n### 5. Test Long Context (Gemini)\n```\n/model openrouter,google/gemini-2.5-pro-preview\nRead all files in this large codebase and summarize the architecture\n```\n\n---\n\n## Next Steps\n\n1. ‚úÖ Install Claude Code Router\n2. ‚úÖ Set up environment variables\n3. ‚úÖ Copy configuration file\n4. ‚úÖ Test the setup\n5. üéØ Customize routing strategy for your needs\n6. üéØ Experiment with different models\n7. üéØ Monitor costs and adjust configuration\n\n---\n\n## Useful Commands\n\n```bash\n# Start router and Claude Code\nccr code\n\n# Stop router\nccr stop\n\n# Restart router (after config changes)\nccr restart\n\n# Check status\nccr status\n\n# Open web UI\nccr ui\n\n# Manage models in terminal\nccr model\n\n# View logs\ntail -f ~/.claude-code-router/logs/ccr-*.log\n```\n\n---\n\n## Resources\n\n- **OpenRouter**: https://openrouter.ai/\n- **OpenRouter Docs**: https://openrouter.ai/docs\n- **Perplexity API**: https://www.perplexity.ai/settings/api\n- **Claude Code Router**: https://github.com/musistudio/claude-code-router\n- **Discord Support**: https://discord.gg/rdftVMaUcS\n\n---\n\n## Quick Reference: Model Selection Guide\n\n| Task Type | Recommended Model | Why |\n|-----------|------------------|-----|\n| General coding | DeepSeek Chat | Excellent quality, very cheap |\n| Complex reasoning | O1 Preview | Best reasoning capabilities |\n| Web search | Perplexity Sonar Pro | Real-time search with citations |\n| Large codebases | Gemini 2.5 Pro | 2M token context window |\n| Background tasks | Gemini Flash | Fast and cheap |\n| Premium tasks | Claude Sonnet 4 | Most capable overall |\n| Open source preference | Llama 3.3 70B | Best open source model |\n\n---\n\n**You're all set! Run `ccr code` to start coding with your new multi-model setup.**\n"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":693,"cache_read_input_tokens":71683,"cache_creation":{"ephemeral_5m_input_tokens":693,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm8U4ehsnp65m516u7vx","type":"assistant","uuid":"8f9daa08-1dfb-479e-a630-a3f1d5c49e0f","timestamp":"2025-11-03T14:41:16.214Z"}
{"type":"file-history-snapshot","messageId":"8f9daa08-1dfb-479e-a630-a3f1d5c49e0f","snapshot":{"messageId":"551aa49b-6c3b-4381-b66e-4ccf89dbaa02","trackedFileBackups":{"claude-code-orchestration-tutorial.md":{"backupFileName":"6589202dfce7ef42@v2","version":2,"backupTime":"2025-11-03T14:35:11.286Z"},"claude-code-router-setup-guide.md":{"backupFileName":"1451ebeafa83e8c1@v2","version":2,"backupTime":"2025-11-03T14:40:01.303Z"},"claude-code-router-config.json":{"backupFileName":null,"version":1,"backupTime":"2025-11-03T14:40:24.540Z"},"SETUP-INSTRUCTIONS.md":{"backupFileName":null,"version":1,"backupTime":"2025-11-03T14:41:31.050Z"}},"timestamp":"2025-11-03T14:40:01.296Z"},"isSnapshotUpdate":true}
{"parentUuid":"8f9daa08-1dfb-479e-a630-a3f1d5c49e0f","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Gs8t4vxBBvZrataHC7ywi8","type":"tool_result","content":"File created successfully at: /Users/levi/data/SETUP-INSTRUCTIONS.md"}]},"uuid":"92ef20b2-8bd8-4b75-858f-176143020917","timestamp":"2025-11-03T14:41:31.062Z","toolUseResult":{"type":"create","filePath":"/Users/levi/data/SETUP-INSTRUCTIONS.md","content":"# Claude Code Router Setup Instructions\n## OpenRouter + Perplexity Configuration\n\nThis guide will help you set up Claude Code Router with OpenRouter and Perplexity API.\n\n---\n\n## Prerequisites\n\n1. **OpenRouter Account**: Sign up at https://openrouter.ai/\n   - Get your API key from https://openrouter.ai/keys\n   - Add credits to your account (pay-as-you-go)\n\n2. **Perplexity Account**: Sign up at https://www.perplexity.ai/\n   - Get your API key from https://www.perplexity.ai/settings/api\n   - Purchase API credits\n\n---\n\n## Installation Steps\n\n### Step 1: Install Claude Code Router\n\n```bash\nnpm install -g @anthropic-ai/claude-code\nnpm install -g @musistudio/claude-code-router\n```\n\n### Step 2: Set Up Environment Variables\n\nAdd these to your shell configuration file (`~/.zshrc`, `~/.bashrc`, or `~/.bash_profile`):\n\n```bash\nexport OPENROUTER_API_KEY=\"sk-or-v1-YOUR-KEY-HERE\"\nexport PERPLEXITY_API_KEY=\"pplx-YOUR-KEY-HERE\"\n```\n\nThen reload your shell:\n```bash\nsource ~/.zshrc  # or source ~/.bashrc\n```\n\n**Verify your environment variables:**\n```bash\necho $OPENROUTER_API_KEY\necho $PERPLEXITY_API_KEY\n```\n\n### Step 3: Copy Configuration File\n\nCopy the provided `claude-code-router-config.json` to the router's config directory:\n\n```bash\n# Create the directory if it doesn't exist\nmkdir -p ~/.claude-code-router\n\n# Copy the config file\ncp claude-code-router-config.json ~/.claude-code-router/config.json\n```\n\n### Step 4: Start Using Claude Code Router\n\n```bash\nccr code\n```\n\n---\n\n## Configuration Explained\n\n### OpenRouter Provider\n\n**Available Models:**\n- `anthropic/claude-sonnet-4` - Most capable Claude model\n- `anthropic/claude-3.5-sonnet` - Fast and capable\n- `google/gemini-2.5-pro-preview` - Best for long context (2M tokens)\n- `google/gemini-2.5-flash-preview` - Fast and cheap\n- `openai/gpt-4o` - OpenAI's latest multimodal model\n- `openai/gpt-4o-mini` - Cheaper GPT-4 variant\n- `openai/o1-preview` - Advanced reasoning model\n- `deepseek/deepseek-chat` - Excellent coding model (cheap)\n- `deepseek/deepseek-reasoner` - Deep reasoning capabilities\n- `meta-llama/llama-3.3-70b-instruct` - Open source powerhouse\n- `qwen/qwen-2.5-coder-32b-instruct` - Specialized coding model\n\n**Why OpenRouter?**\n- Access 100+ models with one API key\n- Unified billing across all providers\n- Automatic fallback if a model is down\n- Pay only for what you use\n\n### Perplexity Provider\n\n**Available Models:**\n- `sonar-pro` - Enhanced search with citations (default for web search)\n- `sonar` - Fast search-augmented responses\n- `sonar-reasoning` - Deep reasoning with web search\n\n**Why Perplexity?**\n- Real-time web search built-in\n- Provides citations and sources\n- Up-to-date information\n- Great for research tasks\n\n### Routing Strategy\n\n```json\n{\n  \"default\": \"openrouter,anthropic/claude-sonnet-4\",\n  \"background\": \"openrouter,google/gemini-2.5-flash-preview\",\n  \"think\": \"openrouter,openai/o1-preview\",\n  \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\",\n  \"webSearch\": \"perplexity,sonar-pro\"\n}\n```\n\n**Explanation:**\n- **Default**: Claude Sonnet 4 for general tasks (most capable)\n- **Background**: Gemini Flash for simple operations (fast & cheap)\n- **Think**: O1 Preview for complex reasoning (Plan mode)\n- **Long Context**: Gemini Pro for huge contexts (2M token window)\n- **Web Search**: Perplexity Sonar Pro for current information\n\n---\n\n## Cost Optimization Tips\n\n### Estimated Costs (as of 2025)\n\n**OpenRouter Pricing (approximate):**\n- Claude Sonnet 4: $3/$15 per 1M tokens (input/output)\n- Gemini Flash: $0.075/$0.30 per 1M tokens\n- GPT-4o: $2.50/$10 per 1M tokens\n- O1 Preview: $15/$60 per 1M tokens\n- DeepSeek Chat: $0.14/$0.28 per 1M tokens\n\n**Perplexity Pricing:**\n- Sonar Pro: $3/$15 per 1M tokens\n- Sonar: $1/$5 per 1M tokens\n\n### Cost Saving Strategies\n\n1. **Use Gemini Flash for Background Tasks**\n   - File searches, simple operations\n   - 20x cheaper than Claude Sonnet 4\n\n2. **Use DeepSeek for Coding Tasks**\n   - Excellent code quality\n   - 20x cheaper than Claude Sonnet 4\n   - Update config: `\"default\": \"openrouter,deepseek/deepseek-chat\"`\n\n3. **Reserve O1 for Complex Problems Only**\n   - 4x more expensive than Claude\n   - Use only when you need deep reasoning\n\n4. **Use Perplexity Sparingly**\n   - Only for tasks requiring web search\n   - Consider using free models for non-web tasks\n\n---\n\n## Customization Options\n\n### Budget-Conscious Configuration\n\nReplace the Router section with:\n\n```json\n{\n  \"Router\": {\n    \"default\": \"openrouter,deepseek/deepseek-chat\",\n    \"background\": \"openrouter,google/gemini-2.5-flash-preview\",\n    \"think\": \"openrouter,deepseek/deepseek-reasoner\",\n    \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\",\n    \"webSearch\": \"perplexity,sonar\"\n  }\n}\n```\n\n**Cost savings**: ~90% compared to using Claude Sonnet 4 for everything\n\n### Power User Configuration\n\n```json\n{\n  \"Router\": {\n    \"default\": \"openrouter,anthropic/claude-sonnet-4\",\n    \"background\": \"openrouter,anthropic/claude-3.5-sonnet\",\n    \"think\": \"openrouter,openai/o1-preview\",\n    \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\",\n    \"webSearch\": \"perplexity,sonar-pro\"\n  }\n}\n```\n\n**Focus**: Maximum capability across all task types\n\n### Balanced Configuration (Recommended)\n\n```json\n{\n  \"Router\": {\n    \"default\": \"openrouter,deepseek/deepseek-chat\",\n    \"background\": \"openrouter,google/gemini-2.5-flash-preview\",\n    \"think\": \"openrouter,anthropic/claude-sonnet-4\",\n    \"longContext\": \"openrouter,google/gemini-2.5-pro-preview\",\n    \"webSearch\": \"perplexity,sonar-pro\"\n  }\n}\n```\n\n**Sweet spot**: DeepSeek for most work, Claude for hard problems\n\n---\n\n## Dynamic Model Switching\n\nWhile using Claude Code, you can switch models on-the-fly:\n\n### Switch to Different Models\n\n```bash\n# Use Claude Sonnet 4\n/model openrouter,anthropic/claude-sonnet-4\n\n# Use DeepSeek (cheap & good)\n/model openrouter,deepseek/deepseek-chat\n\n# Use O1 for reasoning\n/model openrouter,openai/o1-preview\n\n# Use Perplexity for web search\n/model perplexity,sonar-pro\n\n# Use Gemini Pro for long context\n/model openrouter,google/gemini-2.5-pro-preview\n```\n\n### Common Scenarios\n\n**Working on a complex algorithm:**\n```\n/model openrouter,openai/o1-preview\n```\n\n**Need current information:**\n```\n/model perplexity,sonar-pro\n```\n\n**Processing a huge codebase:**\n```\n/model openrouter,google/gemini-2.5-pro-preview\n```\n\n**Want to save money on simple tasks:**\n```\n/model openrouter,deepseek/deepseek-chat\n```\n\n---\n\n## CLI Model Management\n\nInteractive terminal interface:\n\n```bash\nccr model\n```\n\nThis allows you to:\n- View current model configuration\n- Switch models for different router types\n- Add new models\n- Update providers\n\n---\n\n## Web UI Configuration\n\nFor a visual configuration experience:\n\n```bash\nccr ui\n```\n\nOpens a browser interface where you can:\n- Edit configuration visually\n- Import templates\n- Test your setup\n- Manage providers and models\n\n---\n\n## Troubleshooting\n\n### Error: \"Invalid API Key\"\n\n**OpenRouter:**\n```bash\n# Check your key\necho $OPENROUTER_API_KEY\n\n# Get a new key from https://openrouter.ai/keys\nexport OPENROUTER_API_KEY=\"sk-or-v1-...\"\n\n# Restart router\nccr restart\n```\n\n**Perplexity:**\n```bash\n# Check your key\necho $PERPLEXITY_API_KEY\n\n# Get a new key from https://www.perplexity.ai/settings/api\nexport PERPLEXITY_API_KEY=\"pplx-...\"\n\n# Restart router\nccr restart\n```\n\n### Error: \"Insufficient Credits\"\n\n**OpenRouter:**\n- Visit https://openrouter.ai/account\n- Add credits to your account\n\n**Perplexity:**\n- Visit https://www.perplexity.ai/settings/api\n- Purchase API credits\n\n### Router Won't Start\n\n```bash\n# Stop existing router\nccr stop\n\n# Check logs\ntail -f ~/.claude-code-router/logs/ccr-*.log\n\n# Start with fresh config\nccr code\n```\n\n### Configuration Not Loading\n\n```bash\n# Check config file location\nls -la ~/.claude-code-router/config.json\n\n# Validate JSON syntax\ncat ~/.claude-code-router/config.json | python -m json.tool\n\n# Use UI to fix issues\nccr ui\n```\n\n---\n\n## Testing Your Setup\n\n### 1. Start the Router\n```bash\nccr code\n```\n\n### 2. Test Default Model\n```\nHello! What model are you currently using?\n```\n\n### 3. Test Model Switching\n```\n/model openrouter,deepseek/deepseek-chat\nWhat model are you now?\n```\n\n### 4. Test Web Search (Perplexity)\n```\n/model perplexity,sonar-pro\nWhat are the latest developments in AI this week?\n```\n\n### 5. Test Long Context (Gemini)\n```\n/model openrouter,google/gemini-2.5-pro-preview\nRead all files in this large codebase and summarize the architecture\n```\n\n---\n\n## Next Steps\n\n1. ‚úÖ Install Claude Code Router\n2. ‚úÖ Set up environment variables\n3. ‚úÖ Copy configuration file\n4. ‚úÖ Test the setup\n5. üéØ Customize routing strategy for your needs\n6. üéØ Experiment with different models\n7. üéØ Monitor costs and adjust configuration\n\n---\n\n## Useful Commands\n\n```bash\n# Start router and Claude Code\nccr code\n\n# Stop router\nccr stop\n\n# Restart router (after config changes)\nccr restart\n\n# Check status\nccr status\n\n# Open web UI\nccr ui\n\n# Manage models in terminal\nccr model\n\n# View logs\ntail -f ~/.claude-code-router/logs/ccr-*.log\n```\n\n---\n\n## Resources\n\n- **OpenRouter**: https://openrouter.ai/\n- **OpenRouter Docs**: https://openrouter.ai/docs\n- **Perplexity API**: https://www.perplexity.ai/settings/api\n- **Claude Code Router**: https://github.com/musistudio/claude-code-router\n- **Discord Support**: https://discord.gg/rdftVMaUcS\n\n---\n\n## Quick Reference: Model Selection Guide\n\n| Task Type | Recommended Model | Why |\n|-----------|------------------|-----|\n| General coding | DeepSeek Chat | Excellent quality, very cheap |\n| Complex reasoning | O1 Preview | Best reasoning capabilities |\n| Web search | Perplexity Sonar Pro | Real-time search with citations |\n| Large codebases | Gemini 2.5 Pro | 2M token context window |\n| Background tasks | Gemini Flash | Fast and cheap |\n| Premium tasks | Claude Sonnet 4 | Most capable overall |\n| Open source preference | Llama 3.3 70B | Best open source model |\n\n---\n\n**You're all set! Run `ccr code` to start coding with your new multi-model setup.**\n","structuredPatch":[]}}
{"parentUuid":"92ef20b2-8bd8-4b75-858f-176143020917","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01D61d3RC8kfZvdAkSEScyyC","type":"message","role":"assistant","content":[{"type":"text","text":"Perfect! I've created two files for you:\n\n## 1. `claude-code-router-config.json`\nReady-to-use configuration file with:\n\n**OpenRouter Provider:**\n- Claude Sonnet 4 & 3.5\n- Gemini 2.5 Pro & Flash\n- GPT-4o, GPT-4o-mini, O1 Preview\n- DeepSeek Chat & Reasoner\n- Llama 3.3 70B\n- Qwen 2.5 Coder\n\n**Perplexity Provider:**\n- Sonar Pro (premium search)\n- Sonar (standard search)\n- Sonar Reasoning (deep reasoning + search)\n\n**Smart Routing:**\n- Default: Claude Sonnet 4\n- Background: Gemini Flash (fast & cheap)\n- Think: O1 Preview (deep reasoning)\n- Long Context: Gemini Pro (2M tokens)\n- Web Search: Perplexity Sonar Pro\n\n## 2. `SETUP-INSTRUCTIONS.md`\nComplete setup guide including:\n\n- Step-by-step installation\n- Environment variable setup\n- Configuration explanation\n- Cost optimization strategies (save 90%!)\n- Three preset configurations (Budget/Power/Balanced)\n- Dynamic model switching examples\n- Troubleshooting guide\n- Model selection reference table\n\n## Quick Start\n\n```bash\n# 1. Get API keys\n# OpenRouter: https://openrouter.ai/keys\n# Perplexity: https://www.perplexity.ai/settings/api\n\n# 2. Set environment variables\nexport OPENROUTER_API_KEY=\"sk-or-v1-...\"\nexport PERPLEXITY_API_KEY=\"pplx-...\"\n\n# 3. Copy config\nmkdir -p ~/.claude-code-router\ncp claude-code-router-config.json ~/.claude-code-router/config.json\n\n# 4. Start!\nccr code\n```\n\nThe config uses environment variables, so your API keys stay secure and out of version control!"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":3451,"cache_read_input_tokens":72376,"cache_creation":{"ephemeral_5m_input_tokens":3451,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CUm8Yy3zrKpriPUNU7FW5","type":"assistant","uuid":"a1dce58a-310b-4564-afb8-eab56203da52","timestamp":"2025-11-03T14:41:42.180Z"}
{"type":"file-history-snapshot","messageId":"399dfeb5-4189-4fff-935f-723406c9db01","snapshot":{"messageId":"399dfeb5-4189-4fff-935f-723406c9db01","trackedFileBackups":{"claude-code-orchestration-tutorial.md":{"backupFileName":"6589202dfce7ef42@v2","version":2,"backupTime":"2025-11-03T14:35:11.286Z"},"claude-code-router-setup-guide.md":{"backupFileName":"1451ebeafa83e8c1@v2","version":2,"backupTime":"2025-11-03T14:40:01.303Z"},"claude-code-router-config.json":{"backupFileName":"f278cdba3140534b@v2","version":2,"backupTime":"2025-11-03T14:42:01.361Z"},"SETUP-INSTRUCTIONS.md":{"backupFileName":"e5ee68cfa44d5014@v2","version":2,"backupTime":"2025-11-03T14:42:01.367Z"}},"timestamp":"2025-11-03T14:42:01.355Z"},"isSnapshotUpdate":false}
{"parentUuid":"a1dce58a-310b-4564-afb8-eab56203da52","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":"Caveat: The messages below were generated by the user while running local commands. DO NOT respond to these messages or otherwise consider them in your response unless the user explicitly asks you to."},"isMeta":true,"uuid":"d1c2dc24-47ba-4f2f-9e93-d15fb5520e65","timestamp":"2025-11-03T14:42:01.342Z"}
{"parentUuid":"d1c2dc24-47ba-4f2f-9e93-d15fb5520e65","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":"<command-name>/exit</command-name>\n            <command-message>exit</command-message>\n            <command-args></command-args>"},"uuid":"399dfeb5-4189-4fff-935f-723406c9db01","timestamp":"2025-11-03T14:42:01.339Z"}
{"parentUuid":"399dfeb5-4189-4fff-935f-723406c9db01","isSidechain":false,"userType":"external","cwd":"/Users/levi/data","sessionId":"8eef5880-3c98-4dc4-9117-448035160edc","version":"2.0.31","gitBranch":"","type":"user","message":{"role":"user","content":"<local-command-stdout>Bye!</local-command-stdout>"},"uuid":"8d1f4d1b-7db5-48a0-8d02-2c0f7f04766a","timestamp":"2025-11-03T14:42:01.339Z"}
